<!doctype html><html lang=zh-CN data-theme=dark><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.147.7"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—"><meta itemprop=description content="ä¿æŒç®€å•çš„æ˜“ç”¨æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚"><meta name=description content="ä¿æŒç®€å•çš„æ˜“ç”¨æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://jsd.cdn.zzko.cn/gh/richbridge/picx-images-hosting@master/avatar.avif"><meta itemprop=keywords content="python"><meta property="og:type" content="article"><meta property="og:title" content="ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—"><meta property="og:description" content="ä¿æŒç®€å•çš„æ˜“ç”¨æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚"><meta property="og:image" content="https://jsd.cdn.zzko.cn/gh/richbridge/picx-images-hosting@master/avatar.avif"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="//localhost:1313/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/"><meta property="og:site_name" content="æ¨Šå°˜åˆ¹è®°"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Rich"><meta property="article:published_time" content="2023-09-25 00:00:00 +0000 UTC"><meta property="article:modified_time" content="2023-09-25 00:00:00 +0000 UTC"><link type=text/css rel=stylesheet href=//localhost:1313/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=//localhost:1313/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=//localhost:1313/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.css?=1750130235"><style type=text/css>.post-footer hr:after{content:"~ æˆ‘å¯æ˜¯æœ‰åº•çº¿çš„å“Ÿ ~"}.flinks-list-footer hr:after{content:"~ æˆ‘å¯æ˜¯æœ‰åº•çº¿çš„å“Ÿ ~"}</style><link rel=stylesheet type=text/css href="/css/custom_style.css?=1750130235"><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>ç¬¬åä¸€ç«  æ—¶é—´åºåˆ— - æ¨Šå°˜åˆ¹è®°</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>æ¨Šå°˜åˆ¹è®°</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>çº¢å°˜æ¹®ç­ï¼Œå”¯æœ‰å°˜åˆ¹</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>å…³äº</a></li><li class="menu-item menu-item-flinks"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>å‹æƒ…é“¾æ¥</a></li><li class="menu-item menu-item-example"><a href=/ class="menus-parent hvr-icon-pulse" rel=section><i class="fa fa-angles-down hvr-icon"></i>è¯­æ³•ç¤ºä¾‹
<span class=menu-item-shrink-icon><i class="fa fa-angle-right"></i></span></a><ul class=menu-children><li class=menu-child-item><a href=/ class=hvr-icon-pulse rel=section><i class="fa hvr-icon"></i>è¯­æ³•é«˜äº®</a></li><li class=menu-child-item><a href=/ class=hvr-icon-pulse rel=section><i class="fa hvr-icon"></i>æ•°å­¦å…¬å¼</a></li><li class=menu-child-item><a href=/ class=hvr-icon-pulse rel=section><i class="fa hvr-icon"></i>æµç¨‹å›¾</a></li></ul></li><li class="menu-item menu-item-archives"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>å½’æ¡£
<span class=badge>0</span></a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>å…¬ç›Š 404</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>æœç´¢</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=æœç´¢... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>æ–‡ç« ç›®å½•</li><li class=sidebar-nav-overview>ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#111-æ—¥æœŸå’Œæ—¶é—´æ•°æ®ç±»å‹åŠå·¥å…·>11.1 æ—¥æœŸå’Œæ—¶é—´æ•°æ®ç±»å‹åŠå·¥å…·</a><ul><li><a href=#1111-å­—ç¬¦ä¸²å’Œdatetimeçš„ç›¸äº’è½¬æ¢>11.1.1 å­—ç¬¦ä¸²å’Œdatetimeçš„ç›¸äº’è½¬æ¢</a></li></ul></li><li><a href=#112-æ—¶é—´åºåˆ—åŸºç¡€>11.2 æ—¶é—´åºåˆ—åŸºç¡€</a><ul><li><a href=#1121-ç´¢å¼•é€‰å–å­é›†æ„é€ >11.2.1 ç´¢å¼•ã€é€‰å–ã€å­é›†æ„é€ </a></li><li><a href=#1122-å¸¦æœ‰é‡å¤ç´¢å¼•çš„æ—¶é—´åºåˆ—>11.2.2 å¸¦æœ‰é‡å¤ç´¢å¼•çš„æ—¶é—´åºåˆ—</a></li></ul></li><li><a href=#113-æ—¥æœŸçš„èŒƒå›´é¢‘ç‡ä»¥åŠç§»åŠ¨>11.3 æ—¥æœŸçš„èŒƒå›´ã€é¢‘ç‡ä»¥åŠç§»åŠ¨</a><ul><li><a href=#1131-ç”Ÿæˆæ—¥æœŸèŒƒå›´>11.3.1 ç”Ÿæˆæ—¥æœŸèŒƒå›´</a></li><li><a href=#1132-é¢‘ç‡å’Œæ—¥æœŸåç§»é‡>11.3.2 é¢‘ç‡å’Œæ—¥æœŸåç§»é‡</a></li><li><a href=#1133-womæ—¥æœŸ>11.3.3 WOMæ—¥æœŸ</a></li><li><a href=#1134-ç§»åŠ¨è¶…å‰å’Œæ»åæ•°æ®>11.3.4 ç§»åŠ¨ï¼ˆè¶…å‰å’Œæ»åï¼‰æ•°æ®</a></li><li><a href=#1135-é€šè¿‡åç§»é‡å¯¹æ—¥æœŸè¿›è¡Œä½ç§»>11.3.5 é€šè¿‡åç§»é‡å¯¹æ—¥æœŸè¿›è¡Œä½ç§»</a></li></ul></li><li><a href=#114-æ—¶åŒºå¤„ç†>11.4 æ—¶åŒºå¤„ç†</a><ul><li><a href=#1141-æ—¶åŒºæœ¬åœ°åŒ–å’Œè½¬æ¢>11.4.1 æ—¶åŒºæœ¬åœ°åŒ–å’Œè½¬æ¢</a></li><li><a href=#1142-æ“ä½œæ—¶åŒºæ„è¯†å‹timestampå¯¹è±¡>11.4.2 æ“ä½œæ—¶åŒºæ„è¯†å‹Timestampå¯¹è±¡</a></li><li><a href=#1143-ä¸åŒæ—¶åŒºä¹‹é—´çš„è¿ç®—>11.4.3 ä¸åŒæ—¶åŒºä¹‹é—´çš„è¿ç®—</a></li></ul></li><li><a href=#115-æ—¶æœŸåŠå…¶ç®—æœ¯è¿ç®—>11.5 æ—¶æœŸåŠå…¶ç®—æœ¯è¿ç®—</a><ul><li><a href=#1151-æ—¶æœŸçš„é¢‘ç‡è½¬æ¢>11.5.1 æ—¶æœŸçš„é¢‘ç‡è½¬æ¢</a></li><li><a href=#1152-æŒ‰å­£åº¦è®¡ç®—çš„æ—¶æœŸé¢‘ç‡>11.5.2 æŒ‰å­£åº¦è®¡ç®—çš„æ—¶æœŸé¢‘ç‡</a></li><li><a href=#1153-å°†timestampè½¬æ¢ä¸ºperiodåŠå…¶åå‘è¿‡ç¨‹>11.5.3 å°†Timestampè½¬æ¢ä¸ºPeriodï¼ˆåŠå…¶åå‘è¿‡ç¨‹ï¼‰</a></li><li><a href=#1154-é€šè¿‡æ•°ç»„åˆ›å»ºperiodindex>11.5.4 é€šè¿‡æ•°ç»„åˆ›å»ºPeriodIndex</a></li></ul></li><li><a href=#116-é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢>11.6 é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢</a><ul><li><a href=#1161-é™é‡‡æ ·>11.6.1 é™é‡‡æ ·</a></li><li><a href=#1162-é€šè¿‡æ—¶æœŸè¿›è¡Œé‡é‡‡æ ·>11.6.2 é€šè¿‡æ—¶æœŸè¿›è¡Œé‡é‡‡æ ·</a></li></ul></li><li><a href=#117-ç§»åŠ¨çª—å£å‡½æ•°>11.7 ç§»åŠ¨çª—å£å‡½æ•°</a><ul><li><a href=#1171-æŒ‡æ•°åŠ æƒå‡½æ•°>11.7.1 æŒ‡æ•°åŠ æƒå‡½æ•°</a></li><li><a href=#1172-äºŒå…ƒç§»åŠ¨çª—å£å‡½æ•°>11.7.2 äºŒå…ƒç§»åŠ¨çª—å£å‡½æ•°</a></li><li><a href=#1173-ç”¨æˆ·å®šä¹‰çš„ç§»åŠ¨çª—å£å‡½æ•°>11.7.3 ç”¨æˆ·å®šä¹‰çš„ç§»åŠ¨çª—å£å‡½æ•°</a></li></ul></li><li><a href=#118-æ€»ç»“>11.8 æ€»ç»“</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Rich src=/imgs/img-lazy-loading.gif data-src=https://jsd.cdn.zzko.cn/gh/richbridge/picx-images-hosting@master/avatar.avif><p class=site-author-name itemprop=name>Rich</p><div class=site-description itemprop=description>ä¿æŒç®€å•çš„æ˜“ç”¨æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>0</span>
<span class=site-state-item-name>æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>8</span>
<span class=site-state-item-name>åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>99</span>
<span class=site-state-item-name>æ ‡ç­¾</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/richbridge title="Github â†’ https://github.com/richbridge" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/richfan-38 title="çŸ¥ä¹ â†’ https://www.zhihu.com/people/richfan-38" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
çŸ¥ä¹</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans class=cc-opacity rel=noopener target=_blank title=å…±äº«çŸ¥è¯†><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=å…±äº«çŸ¥è¯†></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
å‹æƒ…é“¾æ¥</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li><li class=links-of-blogroll-item><a href=https://lisenhui.cn title=https://lisenhui.cn target=_blank>å‡¡æ¢¦æ˜Ÿå°˜ç©ºé—´ç«™</a></li></ul></div><div class="mydefined animated" itemprop=custom><span>æ”¯æŒè‡ªå®šä¹‰CSSå’ŒSidebarå¸ƒå±€å•¦ğŸ’„ğŸ’„ğŸ’„</span></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>ç½‘ç«™èµ„è®¯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>å·²è¿è¡Œï¼š</div><div class=item-count id=runTimes data-publishdate></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>æ€»è®¿å®¢æ•°ï¼š</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>é¡µé¢æµè§ˆï¼š</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>æ€»å­—æ•°ï¼š</div><div class=item-count id=wordsCount data-count></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>é˜…è¯»çº¦ï¼š</div><div class=item-count id=readTimes data-times></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>æœ€åæ›´æ–°äºï¼š</div><div class=item-count id=last-push-date data-lastpushdate></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-i18n-translate class=button title=å¤šè¯­è¨€ç¿»è¯‘><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=æ·±æµ…æ¨¡å¼åˆ‡æ¢><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=è¿”å›é¡¶éƒ¨><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/richbridge rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=//localhost:1313/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="https://jsd.cdn.zzko.cn/gh/richbridge/picx-images-hosting@master/avatar.avif"><meta itemprop=name content="Rich"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rich"><meta itemprop=description content="ä¿æŒç®€å•çš„æ˜“ç”¨æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—"><meta itemprop=description content="æ—¶é—´åºåˆ—ï¼ˆtime seriesï¼‰æ•°æ®æ˜¯ä¸€ç§é‡è¦çš„ç»“æ„åŒ–æ•°æ®å½¢å¼ï¼Œåº”ç”¨äºå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬é‡‘èå­¦ã€ç»æµå­¦ã€ç”Ÿæ€å­¦ã€ç¥ç»ç§‘å­¦ã€ç‰©ç†å­¦ç­‰ã€‚åœ¨å¤šä¸ªæ—¶é—´ç‚¹è§‚å¯Ÿæˆ–æµ‹é‡åˆ°çš„ä»»ä½•äº‹ç‰©éƒ½å¯ä»¥å½¢æˆä¸€æ®µæ—¶é—´åºåˆ—ã€‚å¾ˆå¤šæ—¶é—´åºåˆ—æ˜¯å›ºå®šé¢‘ç‡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®ç‚¹æ˜¯æ ¹æ®æŸç§è§„å¾‹å®šæœŸå‡ºç°çš„ï¼ˆæ¯”å¦‚æ¯15ç§’ã€æ¯5åˆ†é’Ÿã€æ¯æœˆå‡ºç°ä¸€æ¬¡ï¼‰ã€‚æ—¶é—´åºåˆ—ä¹Ÿå¯ä»¥æ˜¯ä¸å®šæœŸçš„ï¼Œæ²¡æœ‰å›ºå®šçš„æ—¶é—´å•ä½æˆ–å•ä½ä¹‹é—´çš„åç§»é‡ã€‚æ—¶é—´åºåˆ—æ•°æ®çš„æ„ä¹‰å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š"></span><header class=post-header><h1 class=post-title itemprop="name headline">ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=å‘è¡¨äº>å‘è¡¨äºï¼š
</span><time title="åˆ›å»ºæ—¶é—´ï¼š2023-09-25 00:00:00 +00:00" itemprop="dateCreated datePublished" datetime="2023-09-25 00:00:00 +0000 UTC">2023-09-25
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=åˆ†ç±»äº>åˆ†ç±»äºï¼š
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E7%A8%8B%E6%8A%80/ itemprop=url rel=index><span itemprop=name>ç¨‹æŠ€</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=å­—æ•°><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>å­—æ•°ï¼š</span>
<span>15148</span>
</span><span class=post-meta-item title=é˜…è¯»><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>é˜…è¯»ï¼š&ap;</span>
<span>31åˆ†é’Ÿ</span>
</span><span class=post-meta-item title=æµè§ˆ><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>æµè§ˆï¼š
</span><span id=busuanzi_value_page_pv data-path=/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><p>æ—¶é—´åºåˆ—ï¼ˆtime seriesï¼‰æ•°æ®æ˜¯ä¸€ç§é‡è¦çš„ç»“æ„åŒ–æ•°æ®å½¢å¼ï¼Œåº”ç”¨äºå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬é‡‘èå­¦ã€ç»æµå­¦ã€ç”Ÿæ€å­¦ã€ç¥ç»ç§‘å­¦ã€ç‰©ç†å­¦ç­‰ã€‚åœ¨å¤šä¸ªæ—¶é—´ç‚¹è§‚å¯Ÿæˆ–æµ‹é‡åˆ°çš„ä»»ä½•äº‹ç‰©éƒ½å¯ä»¥å½¢æˆä¸€æ®µæ—¶é—´åºåˆ—ã€‚å¾ˆå¤šæ—¶é—´åºåˆ—æ˜¯<code>å›ºå®šé¢‘ç‡</code>çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®ç‚¹æ˜¯æ ¹æ®æŸç§è§„å¾‹å®šæœŸå‡ºç°çš„ï¼ˆæ¯”å¦‚æ¯15ç§’ã€æ¯5åˆ†é’Ÿã€æ¯æœˆå‡ºç°ä¸€æ¬¡ï¼‰ã€‚æ—¶é—´åºåˆ—ä¹Ÿå¯ä»¥æ˜¯ä¸å®šæœŸçš„ï¼Œæ²¡æœ‰å›ºå®šçš„æ—¶é—´å•ä½æˆ–å•ä½ä¹‹é—´çš„åç§»é‡ã€‚æ—¶é—´åºåˆ—æ•°æ®çš„æ„ä¹‰å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><a id=more></a><ul><li>æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼Œç‰¹å®šçš„æ—¶åˆ»ã€‚</li><li>å›ºå®šæ—¶æœŸï¼ˆperiodï¼‰ï¼Œå¦‚2007å¹´1æœˆæˆ–2010å¹´å…¨å¹´ã€‚</li><li>æ—¶é—´é—´éš”ï¼ˆintervalï¼‰ï¼Œç”±èµ·å§‹å’Œç»“æŸæ—¶é—´æˆ³è¡¨ç¤ºã€‚æ—¶æœŸï¼ˆperiodï¼‰å¯ä»¥è¢«çœ‹åšé—´éš”ï¼ˆintervalï¼‰çš„ç‰¹ä¾‹ã€‚</li><li>å®éªŒæˆ–è¿‡ç¨‹æ—¶é—´ï¼Œæ¯ä¸ªæ—¶é—´ç‚¹éƒ½æ˜¯ç›¸å¯¹äºç‰¹å®šèµ·å§‹æ—¶é—´çš„ä¸€ä¸ªåº¦é‡ã€‚ä¾‹å¦‚ï¼Œä»æ”¾å…¥çƒ¤ç®±æ—¶èµ·ï¼Œæ¯ç§’é’Ÿé¥¼å¹²çš„ç›´å¾„ã€‚</li></ul><p>æœ¬ç« ä¸»è¦è®²è§£å‰3ç§æ—¶é—´åºåˆ—ã€‚è®¸å¤šæŠ€æœ¯éƒ½å¯ç”¨äºå¤„ç†å®éªŒå‹æ—¶é—´åºåˆ—ï¼Œå…¶ç´¢å¼•å¯èƒ½æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼ˆè¡¨ç¤ºä»å®éªŒå¼€å§‹ç®—èµ·å·²ç»è¿‡å»çš„æ—¶é—´ï¼‰ã€‚æœ€ç®€å•ä¹Ÿæœ€å¸¸è§çš„æ—¶é—´åºåˆ—éƒ½æ˜¯ç”¨æ—¶é—´æˆ³è¿›è¡Œç´¢å¼•çš„ã€‚</p><blockquote><p>æç¤ºï¼špandasä¹Ÿæ”¯æŒåŸºäºtimedeltasçš„æŒ‡æ•°ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆä»£è¡¨å®éªŒæˆ–ç»è¿‡çš„æ—¶é—´ã€‚è¿™æœ¬ä¹¦ä¸æ¶‰åŠtimedeltaæŒ‡æ•°ï¼Œä½†ä½ å¯ä»¥å­¦ä¹ pandasçš„æ–‡æ¡£ï¼ˆhttp://pandas.pydata.org/ï¼‰ã€‚</p></blockquote><p>pandasæä¾›äº†è®¸å¤šå†…ç½®çš„æ—¶é—´åºåˆ—å¤„ç†å·¥å…·å’Œæ•°æ®ç®—æ³•ã€‚å› æ­¤ï¼Œä½ å¯ä»¥é«˜æ•ˆå¤„ç†éå¸¸å¤§çš„æ—¶é—´åºåˆ—ï¼Œè½»æ¾åœ°è¿›è¡Œåˆ‡ç‰‡/åˆ‡å—ã€èšåˆã€å¯¹å®šæœŸ/ä¸å®šæœŸçš„æ—¶é—´åºåˆ—è¿›è¡Œé‡é‡‡æ ·ç­‰ã€‚æœ‰äº›å·¥å…·ç‰¹åˆ«é€‚åˆé‡‘èå’Œç»æµåº”ç”¨ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å®ƒä»¬æ¥åˆ†ææœåŠ¡å™¨æ—¥å¿—æ•°æ®ã€‚</p><h2 id=111-æ—¥æœŸå’Œæ—¶é—´æ•°æ®ç±»å‹åŠå·¥å…·>11.1 æ—¥æœŸå’Œæ—¶é—´æ•°æ®ç±»å‹åŠå·¥å…·
<a class=header-anchor href=#111-%e6%97%a5%e6%9c%9f%e5%92%8c%e6%97%b6%e9%97%b4%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%8f%8a%e5%b7%a5%e5%85%b7></a></h2><p>Pythonæ ‡å‡†åº“åŒ…å«ç”¨äºæ—¥æœŸï¼ˆdateï¼‰å’Œæ—¶é—´ï¼ˆtimeï¼‰æ•°æ®çš„æ•°æ®ç±»å‹ï¼Œè€Œä¸”è¿˜æœ‰æ—¥å†æ–¹é¢çš„åŠŸèƒ½ã€‚æˆ‘ä»¬ä¸»è¦ä¼šç”¨åˆ°datetimeã€timeä»¥åŠcalendaræ¨¡å—ã€‚datetime.datetimeï¼ˆä¹Ÿå¯ä»¥ç®€å†™ä¸ºdatetimeï¼‰æ˜¯ç”¨å¾—æœ€å¤šçš„æ•°æ®ç±»å‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8>8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>10</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>11</span><span class=p>]:</span> <span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>12</span><span class=p>]:</span> <span class=n>now</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>12</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2017</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>52</span><span class=p>,</span> <span class=mi>72973</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>13</span><span class=p>]:</span> <span class=n>now</span><span class=o>.</span><span class=n>year</span><span class=p>,</span> <span class=n>now</span><span class=o>.</span><span class=n>month</span><span class=p>,</span> <span class=n>now</span><span class=o>.</span><span class=n>day</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>13</span><span class=p>]:</span> <span class=p>(</span><span class=mi>2017</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>datetimeä»¥æ¯«ç§’å½¢å¼å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´ã€‚timedeltaè¡¨ç¤ºä¸¤ä¸ªdatetimeå¯¹è±¡ä¹‹é—´çš„æ—¶é—´å·®ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>14</span><span class=p>]:</span> <span class=n>delta</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span> <span class=o>-</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2008</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>15</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>15</span><span class=p>]:</span> <span class=n>delta</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>15</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=mi>926</span><span class=p>,</span> <span class=mi>56700</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>16</span><span class=p>]:</span> <span class=n>delta</span><span class=o>.</span><span class=n>days</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>16</span><span class=p>]:</span> <span class=mi>926</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>17</span><span class=p>]:</span> <span class=n>delta</span><span class=o>.</span><span class=n>seconds</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>17</span><span class=p>]:</span> <span class=mi>56700</span></span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥ç»™datetimeå¯¹è±¡åŠ ä¸Šï¼ˆæˆ–å‡å»ï¼‰ä¸€ä¸ªæˆ–å¤šä¸ªtimedeltaï¼Œè¿™æ ·ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>18</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>timedelta</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>19</span><span class=p>]:</span> <span class=n>start</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>20</span><span class=p>]:</span> <span class=n>start</span> <span class=o>+</span> <span class=n>timedelta</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>20</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>21</span><span class=p>]:</span> <span class=n>start</span> <span class=o>-</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>timedelta</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>21</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2010</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>datetimeæ¨¡å—ä¸­çš„æ•°æ®ç±»å‹å‚è§è¡¨10-1ã€‚è™½ç„¶æœ¬ç« ä¸»è¦è®²çš„æ˜¯pandasæ•°æ®ç±»å‹å’Œé«˜çº§æ—¶é—´åºåˆ—å¤„ç†ï¼Œä½†ä½ è‚¯å®šä¼šåœ¨Pythonçš„å…¶ä»–åœ°æ–¹é‡åˆ°æœ‰å…³datetimeçš„æ•°æ®ç±»å‹ã€‚</p><p>è¡¨11-1 datetimeæ¨¡å—ä¸­çš„æ•°æ®ç±»å‹</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201030161247046.png alt></p><p>tzinfo å­˜å‚¨æ—¶åŒºä¿¡æ¯çš„åŸºæœ¬ç±»å‹</p><h3 id=1111-å­—ç¬¦ä¸²å’Œdatetimeçš„ç›¸äº’è½¬æ¢>11.1.1 å­—ç¬¦ä¸²å’Œdatetimeçš„ç›¸äº’è½¬æ¢
<a class=header-anchor href=#1111-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8cdatetime%e7%9a%84%e7%9b%b8%e4%ba%92%e8%bd%ac%e6%8d%a2></a></h3><p>åˆ©ç”¨stræˆ–strftimeæ–¹æ³•ï¼ˆä¼ å…¥ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼‰ï¼Œdatetimeå¯¹è±¡å’Œpandasçš„Timestampå¯¹è±¡ï¼ˆç¨åå°±ä¼šä»‹ç»ï¼‰å¯ä»¥è¢«æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>22</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>23</span><span class=p>]:</span> <span class=nb>str</span><span class=p>(</span><span class=n>stamp</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>23</span><span class=p>]:</span> <span class=s1>&#39;2011-01-03 00:00:00&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>24</span><span class=p>]:</span> <span class=n>stamp</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>24</span><span class=p>]:</span> <span class=s1>&#39;2011-01-03&#39;</span></span></span></code></pre></td></tr></table></div></div><p>è¡¨11-2åˆ—å‡ºäº†å…¨éƒ¨çš„æ ¼å¼åŒ–ç¼–ç ã€‚</p><p>è¡¨11-2 datetimeæ ¼å¼å®šä¹‰ï¼ˆå…¼å®¹ISO C89ï¼‰</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201030161432640.png alt></p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201030161423963.png alt></p><p>datetime.strptimeå¯ä»¥ç”¨è¿™äº›æ ¼å¼åŒ–ç¼–ç å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>25</span><span class=p>]:</span> <span class=n>value</span> <span class=o>=</span> <span class=s1>&#39;2011-01-03&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>26</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>26</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>27</span><span class=p>]:</span> <span class=n>datestrs</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;7/6/2011&#39;</span><span class=p>,</span> <span class=s1>&#39;8/6/2011&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>28</span><span class=p>]:</span> <span class=p>[</span><span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;%m/</span><span class=si>%d</span><span class=s1>/%Y&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>datestrs</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>28</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)]</span></span></span></code></pre></td></tr></table></div></div><p>datetime.strptimeæ˜¯é€šè¿‡å·²çŸ¥æ ¼å¼è¿›è¡Œæ—¥æœŸè§£æçš„æœ€ä½³æ–¹å¼ã€‚ä½†æ˜¯æ¯æ¬¡éƒ½è¦ç¼–å†™æ ¼å¼å®šä¹‰æ˜¯å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯å¯¹äºä¸€äº›å¸¸è§çš„æ—¥æœŸæ ¼å¼ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ç”¨dateutilè¿™ä¸ªç¬¬ä¸‰æ–¹åŒ…ä¸­çš„parser.parseæ–¹æ³•ï¼ˆpandasä¸­å·²ç»è‡ªåŠ¨å®‰è£…å¥½äº†ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>29</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>dateutil.parser</span> <span class=kn>import</span> <span class=n>parse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>30</span><span class=p>]:</span> <span class=n>parse</span><span class=p>(</span><span class=s1>&#39;2011-01-03&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>30</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>dateutilå¯ä»¥è§£æå‡ ä¹æ‰€æœ‰äººç±»èƒ½å¤Ÿç†è§£çš„æ—¥æœŸè¡¨ç¤ºå½¢å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>31</span><span class=p>]:</span> <span class=n>parse</span><span class=p>(</span><span class=s1>&#39;Jan 31, 1997 10:45 PM&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>31</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>1997</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>31</span><span class=p>,</span> <span class=mi>22</span><span class=p>,</span> <span class=mi>45</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨å›½é™…é€šç”¨çš„æ ¼å¼ä¸­ï¼Œæ—¥å‡ºç°åœ¨æœˆçš„å‰é¢å¾ˆæ™®éï¼Œä¼ å…¥dayfirst=Trueå³å¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>32</span><span class=p>]:</span> <span class=n>parse</span><span class=p>(</span><span class=s1>&#39;6/12/2011&#39;</span><span class=p>,</span> <span class=n>dayfirst</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>32</span><span class=p>]:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>pandasé€šå¸¸æ˜¯ç”¨äºå¤„ç†æˆç»„æ—¥æœŸçš„ï¼Œä¸ç®¡è¿™äº›æ—¥æœŸæ˜¯DataFrameçš„è½´ç´¢å¼•è¿˜æ˜¯åˆ—ã€‚to_datetimeæ–¹æ³•å¯ä»¥è§£æå¤šç§ä¸åŒçš„æ—¥æœŸè¡¨ç¤ºå½¢å¼ã€‚å¯¹æ ‡å‡†æ—¥æœŸæ ¼å¼ï¼ˆå¦‚ISO8601ï¼‰çš„è§£æéå¸¸å¿«ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>33</span><span class=p>]:</span> <span class=n>datestrs</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;2011-07-06 12:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-08-06 00:00:00&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>34</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>to_datetime</span><span class=p>(</span><span class=n>datestrs</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>34</span><span class=p>]:</span> <span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2011-07-06 12:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-08-06 00:00:00&#39;</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;dat</span>
</span></span><span class=line><span class=cl><span class=n>etime64</span><span class=p>[</span><span class=n>ns</span><span class=p>]</span><span class=s1>&#39;, freq=None)</span></span></span></code></pre></td></tr></table></div></div><p>å®ƒè¿˜å¯ä»¥å¤„ç†ç¼ºå¤±å€¼ï¼ˆNoneã€ç©ºå­—ç¬¦ä¸²ç­‰ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>35</span><span class=p>]:</span> <span class=n>idx</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>to_datetime</span><span class=p>(</span><span class=n>datestrs</span> <span class=o>+</span> <span class=p>[</span><span class=kc>None</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>36</span><span class=p>]:</span> <span class=n>idx</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>36</span><span class=p>]:</span> <span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2011-07-06 12:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-08-06 00:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;NaT&#39;</span><span class=p>],</span> <span class=n>dty</span>
</span></span><span class=line><span class=cl><span class=n>pe</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>37</span><span class=p>]:</span> <span class=n>idx</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>37</span><span class=p>]:</span> <span class=n>NaT</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>38</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>isnull</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>38</span><span class=p>]:</span> <span class=n>array</span><span class=p>([</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span>  <span class=kc>True</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>bool</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>NaTï¼ˆNot a Timeï¼‰æ˜¯pandasä¸­æ—¶é—´æˆ³æ•°æ®çš„nullå€¼ã€‚</p><blockquote><p>æ³¨æ„ï¼šdateutil.parseræ˜¯ä¸€ä¸ªå®ç”¨ä½†ä¸å®Œç¾çš„å·¥å…·ã€‚æ¯”å¦‚è¯´ï¼Œå®ƒä¼šæŠŠä¸€äº›åŸæœ¬ä¸æ˜¯æ—¥æœŸçš„å­—ç¬¦ä¸²è®¤ä½œæ˜¯æ—¥æœŸï¼ˆæ¯”å¦‚"42"ä¼šè¢«è§£æä¸º2042å¹´çš„ä»Šå¤©ï¼‰ã€‚</p></blockquote><p>datetimeå¯¹è±¡è¿˜æœ‰ä¸€äº›ç‰¹å®šäºå½“å‰ç¯å¢ƒï¼ˆä½äºä¸åŒå›½å®¶æˆ–ä½¿ç”¨ä¸åŒè¯­è¨€çš„ç³»ç»Ÿï¼‰çš„æ ¼å¼åŒ–é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œå¾·è¯­æˆ–æ³•è¯­ç³»ç»Ÿæ‰€ç”¨çš„æœˆä»½ç®€å†™å°±ä¸è‹±è¯­ç³»ç»Ÿæ‰€ç”¨çš„ä¸åŒã€‚è¡¨11-3è¿›è¡Œäº†æ€»ç»“ã€‚</p><p>è¡¨11-3 ç‰¹å®šäºå½“å‰ç¯å¢ƒçš„æ—¥æœŸæ ¼å¼</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201030161919403.png alt></p><h2 id=112-æ—¶é—´åºåˆ—åŸºç¡€>11.2 æ—¶é—´åºåˆ—åŸºç¡€
<a class=header-anchor href=#112-%e6%97%b6%e9%97%b4%e5%ba%8f%e5%88%97%e5%9f%ba%e7%a1%80></a></h2><p>pandasæœ€åŸºæœ¬çš„æ—¶é—´åºåˆ—ç±»å‹å°±æ˜¯ä»¥æ—¶é—´æˆ³ï¼ˆé€šå¸¸ä»¥Pythonå­—ç¬¦ä¸²æˆ–datatimeå¯¹è±¡è¡¨ç¤ºï¼‰ä¸ºç´¢å¼•çš„Seriesï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>39</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>40</span><span class=p>]:</span> <span class=n>dates</span> <span class=o>=</span> <span class=p>[</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>          <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>7</span><span class=p>),</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>8</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>          <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>12</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>41</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>6</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>dates</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>42</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>42</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.204708</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>0.478943</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.965781</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span>    <span class=mf>1.393406</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è¿™äº›datetimeå¯¹è±¡å®é™…ä¸Šæ˜¯è¢«æ”¾åœ¨ä¸€ä¸ªDatetimeIndexä¸­çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>43</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>43</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2011-01-02&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-01-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-01-07&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-01-08&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2011-01-10&#39;</span><span class=p>,</span> <span class=s1>&#39;2011-01-12&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>è·Ÿå…¶ä»–Seriesä¸€æ ·ï¼Œä¸åŒç´¢å¼•çš„æ—¶é—´åºåˆ—ä¹‹é—´çš„ç®—æœ¯è¿ç®—ä¼šè‡ªåŠ¨æŒ‰æ—¥æœŸå¯¹é½ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>44</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>+</span> <span class=n>ts</span><span class=p>[::</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>44</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.409415</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>1.038877</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>3.931561</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>ts[::2] æ˜¯æ¯éš”ä¸¤ä¸ªå–ä¸€ä¸ªã€‚</p><p>pandasç”¨NumPyçš„datetime64æ•°æ®ç±»å‹ä»¥çº³ç§’å½¢å¼å­˜å‚¨æ—¶é—´æˆ³ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>45</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>dtype</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>45</span><span class=p>]:</span> <span class=n>dtype</span><span class=p>(</span><span class=s1>&#39;&lt;M8[ns]&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>DatetimeIndexä¸­çš„å„ä¸ªæ ‡é‡å€¼æ˜¯pandasçš„Timestampå¯¹è±¡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>46</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>47</span><span class=p>]:</span> <span class=n>stamp</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>47</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-01-02 00:00:00&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>åªè¦æœ‰éœ€è¦ï¼ŒTimeStampå¯ä»¥éšæ—¶è‡ªåŠ¨è½¬æ¢ä¸ºdatetimeå¯¹è±¡ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥å­˜å‚¨é¢‘ç‡ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä¸”çŸ¥é“å¦‚ä½•æ‰§è¡Œæ—¶åŒºè½¬æ¢ä»¥åŠå…¶ä»–æ“ä½œã€‚ç¨åå°†å¯¹æ­¤è¿›è¡Œè¯¦ç»†è®²è§£ã€‚</p><h3 id=1121-ç´¢å¼•é€‰å–å­é›†æ„é€ >11.2.1 ç´¢å¼•ã€é€‰å–ã€å­é›†æ„é€ 
<a class=header-anchor href=#1121-%e7%b4%a2%e5%bc%95%e9%80%89%e5%8f%96%e5%ad%90%e9%9b%86%e6%9e%84%e9%80%a0></a></h3><p>å½“ä½ æ ¹æ®æ ‡ç­¾ç´¢å¼•é€‰å–æ•°æ®æ—¶ï¼Œæ—¶é—´åºåˆ—å’Œå…¶å®ƒçš„pandas.Serieså¾ˆåƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>48</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>49</span><span class=p>]:</span> <span class=n>ts</span><span class=p>[</span><span class=n>stamp</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>49</span><span class=p>]:</span> <span class=o>-</span><span class=mf>0.51943871505673811</span></span></span></code></pre></td></tr></table></div></div><p>è¿˜æœ‰ä¸€ç§æ›´ä¸ºæ–¹ä¾¿çš„ç”¨æ³•ï¼šä¼ å…¥ä¸€ä¸ªå¯ä»¥è¢«è§£é‡Šä¸ºæ—¥æœŸçš„å­—ç¬¦ä¸²ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>50</span><span class=p>]:</span> <span class=n>ts</span><span class=p>[</span><span class=s1>&#39;1/10/2011&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>50</span><span class=p>]:</span> <span class=mf>1.9657805725027142</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>51</span><span class=p>]:</span> <span class=n>ts</span><span class=p>[</span><span class=s1>&#39;20110110&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>51</span><span class=p>]:</span> <span class=mf>1.9657805725027142</span></span></span></code></pre></td></tr></table></div></div><p>å¯¹äºè¾ƒé•¿çš„æ—¶é—´åºåˆ—ï¼Œåªéœ€ä¼ å…¥â€œå¹´â€æˆ–â€œå¹´æœˆâ€å³å¯è½»æ¾é€‰å–æ•°æ®çš„åˆ‡ç‰‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span><span class=lnt id=hl-17-31><a class=lnlinks href=#hl-17-31>31</a>
</span><span class=lnt id=hl-17-32><a class=lnlinks href=#hl-17-32>32</a>
</span><span class=lnt id=hl-17-33><a class=lnlinks href=#hl-17-33>33</a>
</span><span class=lnt id=hl-17-34><a class=lnlinks href=#hl-17-34>34</a>
</span><span class=lnt id=hl-17-35><a class=lnlinks href=#hl-17-35>35</a>
</span><span class=lnt id=hl-17-36><a class=lnlinks href=#hl-17-36>36</a>
</span><span class=lnt id=hl-17-37><a class=lnlinks href=#hl-17-37>37</a>
</span><span class=lnt id=hl-17-38><a class=lnlinks href=#hl-17-38>38</a>
</span><span class=lnt id=hl-17-39><a class=lnlinks href=#hl-17-39>39</a>
</span><span class=lnt id=hl-17-40><a class=lnlinks href=#hl-17-40>40</a>
</span><span class=lnt id=hl-17-41><a class=lnlinks href=#hl-17-41>41</a>
</span><span class=lnt id=hl-17-42><a class=lnlinks href=#hl-17-42>42</a>
</span><span class=lnt id=hl-17-43><a class=lnlinks href=#hl-17-43>43</a>
</span><span class=lnt id=hl-17-44><a class=lnlinks href=#hl-17-44>44</a>
</span><span class=lnt id=hl-17-45><a class=lnlinks href=#hl-17-45>45</a>
</span><span class=lnt id=hl-17-46><a class=lnlinks href=#hl-17-46>46</a>
</span><span class=lnt id=hl-17-47><a class=lnlinks href=#hl-17-47>47</a>
</span><span class=lnt id=hl-17-48><a class=lnlinks href=#hl-17-48>48</a>
</span><span class=lnt id=hl-17-49><a class=lnlinks href=#hl-17-49>49</a>
</span><span class=lnt id=hl-17-50><a class=lnlinks href=#hl-17-50>50</a>
</span><span class=lnt id=hl-17-51><a class=lnlinks href=#hl-17-51>51</a>
</span><span class=lnt id=hl-17-52><a class=lnlinks href=#hl-17-52>52</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>52</span><span class=p>]:</span> <span class=n>longer_ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>1000</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                       <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/1/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>1000</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>53</span><span class=p>]:</span> <span class=n>longer_ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>53</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>0.092908</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>0.281746</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.769023</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>04</span>    <span class=mf>1.246435</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>1.007189</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span>   <span class=o>-</span><span class=mf>1.296221</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>    <span class=mf>0.274992</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>    <span class=mf>0.228913</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>    <span class=mf>1.352917</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>0.886429</span>
</span></span><span class=line><span class=cl>                <span class=o>...</span>   
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>17</span>   <span class=o>-</span><span class=mf>0.139298</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>18</span>   <span class=o>-</span><span class=mf>1.159926</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>19</span>    <span class=mf>0.618965</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>20</span>    <span class=mf>1.373890</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>21</span>   <span class=o>-</span><span class=mf>0.983505</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>22</span>    <span class=mf>0.930944</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>23</span>   <span class=o>-</span><span class=mf>0.811676</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>24</span>   <span class=o>-</span><span class=mf>1.830156</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>25</span>   <span class=o>-</span><span class=mf>0.138730</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>26</span>    <span class=mf>0.334088</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>1000</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>54</span><span class=p>]:</span> <span class=n>longer_ts</span><span class=p>[</span><span class=s1>&#39;2001&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>54</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>1.599534</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>0.474071</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.151326</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>04</span>   <span class=o>-</span><span class=mf>0.542173</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>   <span class=o>-</span><span class=mf>0.475496</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span>    <span class=mf>0.106403</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>1.308228</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>    <span class=mf>2.173185</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>    <span class=mf>0.564561</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>   <span class=o>-</span><span class=mf>0.190481</span>
</span></span><span class=line><span class=cl>                <span class=o>...</span>   
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>22</span>    <span class=mf>0.000369</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>23</span>    <span class=mf>0.900885</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>24</span>   <span class=o>-</span><span class=mf>0.454869</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>25</span>   <span class=o>-</span><span class=mf>0.864547</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>26</span>    <span class=mf>1.129120</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>27</span>    <span class=mf>0.057874</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>28</span>   <span class=o>-</span><span class=mf>0.433739</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.092698</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>30</span>   <span class=o>-</span><span class=mf>1.397820</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>1.457823</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>365</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œï¼Œå­—ç¬¦ä¸²â€œ2001â€è¢«è§£é‡Šæˆå¹´ï¼Œå¹¶æ ¹æ®å®ƒé€‰å–æ—¶é—´åŒºé—´ã€‚æŒ‡å®šæœˆä¹ŸåŒæ ·å¥æ•ˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>55</span><span class=p>]:</span> <span class=n>longer_ts</span><span class=p>[</span><span class=s1>&#39;2001-05&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>55</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.622547</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>0.936289</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.750018</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>04</span>   <span class=o>-</span><span class=mf>0.056715</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>2.300675</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>06</span>    <span class=mf>0.569497</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>07</span>    <span class=mf>1.489410</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>08</span>    <span class=mf>1.264250</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>09</span>   <span class=o>-</span><span class=mf>0.761837</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>10</span>   <span class=o>-</span><span class=mf>0.331617</span>
</span></span><span class=line><span class=cl>                <span class=o>...</span>   
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>22</span>    <span class=mf>0.503699</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>23</span>   <span class=o>-</span><span class=mf>1.387874</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>24</span>    <span class=mf>0.204851</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>25</span>    <span class=mf>0.603705</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>26</span>    <span class=mf>0.545680</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>27</span>    <span class=mf>0.235477</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>28</span>    <span class=mf>0.111835</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>29</span>   <span class=o>-</span><span class=mf>1.251504</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>30</span>   <span class=o>-</span><span class=mf>2.949343</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>0.634634</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>31</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>datetimeå¯¹è±¡ä¹Ÿå¯ä»¥è¿›è¡Œåˆ‡ç‰‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5>5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6>6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>56</span><span class=p>]:</span> <span class=n>ts</span><span class=p>[</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>7</span><span class=p>):]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>56</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.965781</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span>    <span class=mf>1.393406</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>ç”±äºå¤§éƒ¨åˆ†æ—¶é—´åºåˆ—æ•°æ®éƒ½æ˜¯æŒ‰ç…§æ—¶é—´å…ˆåæ’åºçš„ï¼Œå› æ­¤ä½ ä¹Ÿå¯ä»¥ç”¨ä¸å­˜åœ¨äºè¯¥æ—¶é—´åºåˆ—ä¸­çš„æ—¶é—´æˆ³å¯¹å…¶è¿›è¡Œåˆ‡ç‰‡ï¼ˆå³èŒƒå›´æŸ¥è¯¢ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>57</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>57</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.204708</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>0.478943</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.965781</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span>    <span class=mf>1.393406</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>58</span><span class=p>]:</span> <span class=n>ts</span><span class=p>[</span><span class=s1>&#39;1/6/2011&#39;</span><span class=p>:</span><span class=s1>&#39;1/11/2011&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>58</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.965781</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è·Ÿä¹‹å‰ä¸€æ ·ï¼Œä½ å¯ä»¥ä¼ å…¥å­—ç¬¦ä¸²æ—¥æœŸã€datetimeæˆ–Timestampã€‚æ³¨æ„ï¼Œè¿™æ ·åˆ‡ç‰‡æ‰€äº§ç”Ÿçš„æ˜¯åŸæ—¶é—´åºåˆ—çš„è§†å›¾ï¼Œè·ŸNumPyæ•°ç»„çš„åˆ‡ç‰‡è¿ç®—æ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™æ„å‘³ç€ï¼Œæ²¡æœ‰æ•°æ®è¢«å¤åˆ¶ï¼Œå¯¹åˆ‡ç‰‡è¿›è¡Œä¿®æ”¹ä¼šåæ˜ åˆ°åŸå§‹æ•°æ®ä¸Šã€‚</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç­‰ä»·çš„å®ä¾‹æ–¹æ³•ä¹Ÿå¯ä»¥æˆªå–ä¸¤ä¸ªæ—¥æœŸä¹‹é—´TimeSeriesï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>59</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>truncate</span><span class=p>(</span><span class=n>after</span><span class=o>=</span><span class=s1>&#39;1/9/2011&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>59</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.204708</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>0.478943</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>é¢è¿™äº›æ“ä½œå¯¹DataFrameä¹Ÿæœ‰æ•ˆã€‚ä¾‹å¦‚ï¼Œå¯¹DataFrameçš„è¡Œè¿›è¡Œç´¢å¼•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>60</span><span class=p>]:</span> <span class=n>dates</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/1/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;W-WED&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>61</span><span class=p>]:</span> <span class=n>long_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                        <span class=n>index</span><span class=o>=</span><span class=n>dates</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                        <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;Colorado&#39;</span><span class=p>,</span> <span class=s1>&#39;Texas&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                                 <span class=s1>&#39;New York&#39;</span><span class=p>,</span> <span class=s1>&#39;Ohio&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>62</span><span class=p>]:</span> <span class=n>long_df</span><span class=o>.</span><span class=n>loc</span><span class=p>[</span><span class=s1>&#39;5-2001&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>62</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>02</span> <span class=o>-</span><span class=mf>0.006045</span>  <span class=mf>0.490094</span> <span class=o>-</span><span class=mf>0.277186</span> <span class=o>-</span><span class=mf>0.707213</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>09</span> <span class=o>-</span><span class=mf>0.560107</span>  <span class=mf>2.735527</span>  <span class=mf>0.927335</span>  <span class=mf>1.513906</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>16</span>  <span class=mf>0.538600</span>  <span class=mf>1.273768</span>  <span class=mf>0.667876</span> <span class=o>-</span><span class=mf>0.969206</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>23</span>  <span class=mf>1.676091</span> <span class=o>-</span><span class=mf>0.817649</span>  <span class=mf>0.050188</span>  <span class=mf>1.951312</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>30</span>  <span class=mf>3.260383</span>  <span class=mf>0.963301</span>  <span class=mf>1.201206</span> <span class=o>-</span><span class=mf>1.852001</span></span></span></code></pre></td></tr></table></div></div><h3 id=1122-å¸¦æœ‰é‡å¤ç´¢å¼•çš„æ—¶é—´åºåˆ—>11.2.2 å¸¦æœ‰é‡å¤ç´¢å¼•çš„æ—¶é—´åºåˆ—
<a class=header-anchor href=#1122-%e5%b8%a6%e6%9c%89%e9%87%8d%e5%a4%8d%e7%b4%a2%e5%bc%95%e7%9a%84%e6%97%b6%e9%97%b4%e5%ba%8f%e5%88%97></a></h3><p>åœ¨æŸäº›åº”ç”¨åœºæ™¯ä¸­ï¼Œå¯èƒ½ä¼šå­˜åœ¨å¤šä¸ªè§‚æµ‹æ•°æ®è½åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šçš„æƒ…å†µã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>63</span><span class=p>]:</span> <span class=n>dates</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;1/1/2000&#39;</span><span class=p>,</span> <span class=s1>&#39;1/2/2000&#39;</span><span class=p>,</span> <span class=s1>&#39;1/2/2000&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                           <span class=s1>&#39;1/2/2000&#39;</span><span class=p>,</span> <span class=s1>&#39;1/3/2000&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>64</span><span class=p>]:</span> <span class=n>dup_ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>5</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>dates</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>65</span><span class=p>]:</span> <span class=n>dup_ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>65</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡æ£€æŸ¥ç´¢å¼•çš„is_uniqueå±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“å®ƒæ˜¯ä¸æ˜¯å”¯ä¸€çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>66</span><span class=p>]:</span> <span class=n>dup_ts</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>is_unique</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>66</span><span class=p>]:</span> <span class=kc>False</span></span></span></code></pre></td></tr></table></div></div><p>å¯¹è¿™ä¸ªæ—¶é—´åºåˆ—è¿›è¡Œç´¢å¼•ï¼Œè¦ä¹ˆäº§ç”Ÿæ ‡é‡å€¼ï¼Œè¦ä¹ˆäº§ç”Ÿåˆ‡ç‰‡ï¼Œå…·ä½“è¦çœ‹æ‰€é€‰çš„æ—¶é—´ç‚¹æ˜¯å¦é‡å¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>67</span><span class=p>]:</span> <span class=n>dup_ts</span><span class=p>[</span><span class=s1>&#39;1/3/2000&#39;</span><span class=p>]</span>  <span class=c1># not duplicated</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>67</span><span class=p>]:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>68</span><span class=p>]:</span> <span class=n>dup_ts</span><span class=p>[</span><span class=s1>&#39;1/2/2000&#39;</span><span class=p>]</span>  <span class=c1># duplicated</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>68</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>å‡è®¾ä½ æƒ³è¦å¯¹å…·æœ‰éå”¯ä¸€æ—¶é—´æˆ³çš„æ•°æ®è¿›è¡Œèšåˆã€‚ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨groupbyï¼Œå¹¶ä¼ å…¥level=0ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>69</span><span class=p>]:</span> <span class=n>grouped</span> <span class=o>=</span> <span class=n>dup_ts</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>70</span><span class=p>]:</span> <span class=n>grouped</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>70</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>71</span><span class=p>]:</span> <span class=n>grouped</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>71</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><h2 id=113-æ—¥æœŸçš„èŒƒå›´é¢‘ç‡ä»¥åŠç§»åŠ¨>11.3 æ—¥æœŸçš„èŒƒå›´ã€é¢‘ç‡ä»¥åŠç§»åŠ¨
<a class=header-anchor href=#113-%e6%97%a5%e6%9c%9f%e7%9a%84%e8%8c%83%e5%9b%b4%e9%a2%91%e7%8e%87%e4%bb%a5%e5%8f%8a%e7%a7%bb%e5%8a%a8></a></h2><p>pandasä¸­çš„åŸç”Ÿæ—¶é—´åºåˆ—ä¸€èˆ¬è¢«è®¤ä¸ºæ˜¯ä¸è§„åˆ™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬æ²¡æœ‰å›ºå®šçš„é¢‘ç‡ã€‚å¯¹äºå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œè¿™æ˜¯æ— æ‰€è°“çš„ã€‚ä½†æ˜¯ï¼Œå®ƒå¸¸å¸¸éœ€è¦ä»¥æŸç§ç›¸å¯¹å›ºå®šçš„é¢‘ç‡è¿›è¡Œåˆ†æï¼Œæ¯”å¦‚æ¯æ—¥ã€æ¯æœˆã€æ¯15åˆ†é’Ÿç­‰ï¼ˆè¿™æ ·è‡ªç„¶ä¼šåœ¨æ—¶é—´åºåˆ—ä¸­å¼•å…¥ç¼ºå¤±å€¼ï¼‰ã€‚å¹¸è¿çš„æ˜¯ï¼Œpandasæœ‰ä¸€æ•´å¥—æ ‡å‡†æ—¶é—´åºåˆ—é¢‘ç‡ä»¥åŠç”¨äºé‡é‡‡æ ·ã€é¢‘ç‡æ¨æ–­ã€ç”Ÿæˆå›ºå®šé¢‘ç‡æ—¥æœŸèŒƒå›´çš„å·¥å…·ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¹‹å‰é‚£ä¸ªæ—¶é—´åºåˆ—è½¬æ¢ä¸ºä¸€ä¸ªå…·æœ‰å›ºå®šé¢‘ç‡ï¼ˆæ¯æ—¥ï¼‰çš„æ—¶é—´åºåˆ—ï¼Œåªéœ€è°ƒç”¨resampleå³å¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>72</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>72</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.204708</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>0.478943</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>0.519439</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.555730</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.965781</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span>    <span class=mf>1.393406</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>73</span><span class=p>]:</span> <span class=n>resampler</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>å­—ç¬¦ä¸²â€œDâ€æ˜¯æ¯å¤©çš„æ„æ€ã€‚</p><p>é¢‘ç‡çš„è½¬æ¢ï¼ˆæˆ–é‡é‡‡æ ·ï¼‰æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ä¸»é¢˜ï¼Œç¨åå°†ä¸“é—¨ç”¨ä¸€èŠ‚æ¥è¿›è¡Œè®¨è®ºï¼ˆ11.6å°èŠ‚ï¼‰ã€‚è¿™é‡Œï¼Œæˆ‘å°†å‘Šè¯‰ä½ å¦‚ä½•ä½¿ç”¨åŸºæœ¬çš„é¢‘ç‡å’Œå®ƒçš„å€æ•°ã€‚</p><h3 id=1131-ç”Ÿæˆæ—¥æœŸèŒƒå›´>11.3.1 ç”Ÿæˆæ—¥æœŸèŒƒå›´
<a class=header-anchor href=#1131-%e7%94%9f%e6%88%90%e6%97%a5%e6%9c%9f%e8%8c%83%e5%9b%b4></a></h3><p>è™½ç„¶æˆ‘ä¹‹å‰ç”¨çš„æ—¶å€™æ²¡æœ‰æ˜è¯´ï¼Œä½†ä½ å¯èƒ½å·²ç»çŒœåˆ°pandas.date_rangeå¯ç”¨äºæ ¹æ®æŒ‡å®šçš„é¢‘ç‡ç”ŸæˆæŒ‡å®šé•¿åº¦çš„DatetimeIndexï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19>19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20>20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>74</span><span class=p>]:</span> <span class=n>index</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2012-04-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-06-01&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>75</span><span class=p>]:</span> <span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>75</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-04-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-02&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-04&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-06&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-07&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-08&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-09&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-10&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-11&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-12&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-14&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-15&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-16&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-17&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-18&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-19&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-20&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-21&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-22&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-23&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-24&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-25&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-26&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-27&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-28&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-29&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-30&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-02&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-04&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-06&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-07&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-08&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-09&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-10&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-11&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-12&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-14&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-15&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-16&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-17&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-18&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-19&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-20&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-21&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-22&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-23&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-24&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-25&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-26&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-27&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-28&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-29&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-30&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-06-01&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œdate_rangeä¼šäº§ç”ŸæŒ‰å¤©è®¡ç®—çš„æ—¶é—´ç‚¹ã€‚å¦‚æœåªä¼ å…¥èµ·å§‹æˆ–ç»“æŸæ—¥æœŸï¼Œé‚£å°±è¿˜å¾—ä¼ å…¥ä¸€ä¸ªè¡¨ç¤ºä¸€æ®µæ—¶é—´çš„æ•°å­—ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>76</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=s1>&#39;2012-04-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>76</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-04-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-02&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-04&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-06&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-07&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-08&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-09&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-10&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-11&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-12&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-14&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-15&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-16&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-04-17&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-18&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-19&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-04-20&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>77</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=s1>&#39;2012-06-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>77</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-05-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-14&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-15&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-16&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-17&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-18&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-19&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-20&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-21&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-22&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-23&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-24&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-25&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-26&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-27&#39;</span><span class=p>,</span><span class=s1>&#39;2012-05-28&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-29&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-30&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-06-01&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>èµ·å§‹å’Œç»“æŸæ—¥æœŸå®šä¹‰äº†æ—¥æœŸç´¢å¼•çš„ä¸¥æ ¼è¾¹ç•Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦ç”Ÿæˆä¸€ä¸ªç”±æ¯æœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ç»„æˆçš„æ—¥æœŸç´¢å¼•ï¼Œå¯ä»¥ä¼ å…¥"BM"é¢‘ç‡ï¼ˆè¡¨ç¤ºbusiness end of monthï¼Œè¡¨11-4æ˜¯é¢‘ç‡åˆ—è¡¨ï¼‰ï¼Œè¿™æ ·å°±åªä¼šåŒ…å«æ—¶é—´é—´éš”å†…ï¼ˆæˆ–åˆšå¥½åœ¨è¾¹ç•Œä¸Šçš„ï¼‰ç¬¦åˆé¢‘ç‡è¦æ±‚çš„æ—¥æœŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2>2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3>3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4>4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5>5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>78</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-12-01&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;BM&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>78</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2000-01-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-02-29&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-03-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-04-28&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-05-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-06-30&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-07-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-08-31&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-09-29&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-10-31&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-11-30&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;BM&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>è¡¨11-4 åŸºæœ¬çš„æ—¶é—´åºåˆ—é¢‘ç‡ï¼ˆä¸å®Œæ•´ï¼‰</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031110410148.png alt></p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031110418935.png alt></p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031110426368.png alt></p><p>date_rangeé»˜è®¤ä¼šä¿ç•™èµ·å§‹å’Œç»“æŸæ—¶é—´æˆ³çš„æ—¶é—´ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>79</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2012-05-02 12:56:31&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>79</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-05-02 12:56:31&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-03 12:56:31&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-04 12:56:31&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-05 12:56:31&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-06 12:56:31&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>æœ‰æ—¶ï¼Œè™½ç„¶èµ·å§‹å’Œç»“æŸæ—¥æœŸå¸¦æœ‰æ—¶é—´ä¿¡æ¯ï¼Œä½†ä½ å¸Œæœ›äº§ç”Ÿä¸€ç»„è¢«è§„èŒƒåŒ–ï¼ˆnormalizeï¼‰åˆ°åˆå¤œçš„æ—¶é—´æˆ³ã€‚<code>normalize</code>é€‰é¡¹å³å¯å®ç°è¯¥åŠŸèƒ½ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2>2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3>3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4>4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>80</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2012-05-02 12:56:31&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>80</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-05-02&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-04&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-05-05&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-05-06&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=1132-é¢‘ç‡å’Œæ—¥æœŸåç§»é‡>11.3.2 é¢‘ç‡å’Œæ—¥æœŸåç§»é‡
<a class=header-anchor href=#1132-%e9%a2%91%e7%8e%87%e5%92%8c%e6%97%a5%e6%9c%9f%e5%81%8f%e7%a7%bb%e9%87%8f></a></h3><p>pandasä¸­çš„é¢‘ç‡æ˜¯ç”±ä¸€ä¸ªåŸºç¡€é¢‘ç‡ï¼ˆbase frequencyï¼‰å’Œä¸€ä¸ªä¹˜æ•°ç»„æˆçš„ã€‚åŸºç¡€é¢‘ç‡é€šå¸¸ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ«åè¡¨ç¤ºï¼Œæ¯”å¦‚"M"è¡¨ç¤ºæ¯æœˆï¼Œ&ldquo;H"è¡¨ç¤ºæ¯å°æ—¶ã€‚å¯¹äºæ¯ä¸ªåŸºç¡€é¢‘ç‡ï¼Œéƒ½æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºæ—¥æœŸåç§»é‡ï¼ˆdate offsetï¼‰çš„å¯¹è±¡ä¸ä¹‹å¯¹åº”ã€‚ä¾‹å¦‚ï¼ŒæŒ‰å°æ—¶è®¡ç®—çš„é¢‘ç‡å¯ä»¥ç”¨Hourç±»è¡¨ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4>4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5>5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>81</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>pandas.tseries.offsets</span> <span class=kn>import</span> <span class=n>Hour</span><span class=p>,</span> <span class=n>Minute</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>82</span><span class=p>]:</span> <span class=n>hour</span> <span class=o>=</span> <span class=n>Hour</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>83</span><span class=p>]:</span> <span class=n>hour</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>83</span><span class=p>]:</span> <span class=o>&lt;</span><span class=n>Hour</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>ä¼ å…¥ä¸€ä¸ªæ•´æ•°å³å¯å®šä¹‰åç§»é‡çš„å€æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1>1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2>2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3>3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>84</span><span class=p>]:</span> <span class=n>four_hours</span> <span class=o>=</span> <span class=n>Hour</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>85</span><span class=p>]:</span> <span class=n>four_hours</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>85</span><span class=p>]:</span> <span class=o>&lt;</span><span class=mi>4</span> <span class=o>*</span> <span class=n>Hours</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ— éœ€æ˜ç¡®åˆ›å»ºè¿™æ ·çš„å¯¹è±¡ï¼Œåªéœ€ä½¿ç”¨è¯¸å¦‚"H"æˆ–"4H"è¿™æ ·çš„å­—ç¬¦ä¸²åˆ«åå³å¯ã€‚åœ¨åŸºç¡€é¢‘ç‡å‰é¢æ”¾ä¸Šä¸€ä¸ªæ•´æ•°å³å¯åˆ›å»ºå€æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span><span class=lnt id=hl-35-12><a class=lnlinks href=#hl-35-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>86</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-03 23:59&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;4h&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>86</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2000-01-01 00:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 04:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 08:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 12:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 16:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 20:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-02 00:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-02 04:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-02 08:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-02 12:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-02 16:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-02 20:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-03 00:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-03 04:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-03 08:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-03 12:00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-03 16:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-03 20:00:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;4H&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>å¤§éƒ¨åˆ†åç§»é‡å¯¹è±¡éƒ½å¯é€šè¿‡åŠ æ³•è¿›è¡Œè¿æ¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>87</span><span class=p>]:</span> <span class=n>Hour</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=n>Minute</span><span class=p>(</span><span class=mi>30</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>87</span><span class=p>]:</span> <span class=o>&lt;</span><span class=mi>150</span> <span class=o>*</span> <span class=n>Minutes</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>åŒç†ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥é¢‘ç‡å­—ç¬¦ä¸²ï¼ˆå¦‚"2h30min&rdquo;ï¼‰ï¼Œè¿™ç§å­—ç¬¦ä¸²å¯ä»¥è¢«é«˜æ•ˆåœ°è§£æä¸ºç­‰æ•ˆçš„è¡¨è¾¾å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3>3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4>4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5>5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6>6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7>7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>88</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;1h30min&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>88</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2000-01-01 00:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 01:30:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 03:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 04:30:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 06:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 07:30:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 09:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 10:30:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2000-01-01 12:00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-01-01 13:30:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;90T&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>æœ‰äº›é¢‘ç‡æ‰€æè¿°çš„æ—¶é—´ç‚¹å¹¶ä¸æ˜¯å‡åŒ€åˆ†éš”çš„ã€‚ä¾‹å¦‚ï¼Œ&ldquo;M&rdquo;ï¼ˆæ—¥å†æœˆæœ«ï¼‰å’Œ"BM"ï¼ˆæ¯æœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼‰å°±å–å†³äºæ¯æœˆçš„å¤©æ•°ï¼Œå¯¹äºåè€…ï¼Œè¿˜è¦è€ƒè™‘æœˆæœ«æ˜¯ä¸æ˜¯å‘¨æœ«ã€‚ç”±äºæ²¡æœ‰æ›´å¥½çš„æœ¯è¯­ï¼Œæˆ‘å°†è¿™äº›ç§°ä¸ºé”šç‚¹åç§»é‡ï¼ˆanchored offsetï¼‰ã€‚</p><p>è¡¨11-4åˆ—å‡ºäº†pandasä¸­çš„é¢‘ç‡ä»£ç å’Œæ—¥æœŸåç§»é‡ç±»ã€‚</p><blockquote><p>ç¬”è®°ï¼šç”¨æˆ·å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è‡ªå®šä¹‰ä¸€äº›é¢‘ç‡ç±»ä»¥ä¾¿æä¾›pandasæ‰€æ²¡æœ‰çš„æ—¥æœŸé€»è¾‘ï¼Œä½†å…·ä½“çš„ç»†èŠ‚è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ã€‚</p></blockquote><p>è¡¨11-4 æ—¶é—´åºåˆ—çš„åŸºç¡€é¢‘ç‡</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031111231028.png alt></p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031111236718.png alt></p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031111244837.png alt></p><h3 id=1133-womæ—¥æœŸ>11.3.3 WOMæ—¥æœŸ
<a class=header-anchor href=#1133-wom%e6%97%a5%e6%9c%9f></a></h3><p>WOMï¼ˆWeek Of Monthï¼‰æ˜¯ä¸€ç§éå¸¸å®ç”¨çš„é¢‘ç‡ç±»ï¼Œå®ƒä»¥WOMå¼€å¤´ã€‚å®ƒä½¿ä½ èƒ½è·å¾—è¯¸å¦‚â€œæ¯æœˆç¬¬3ä¸ªæ˜ŸæœŸäº”â€ä¹‹ç±»çš„æ—¥æœŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>89</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2012-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-09-01&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>90</span><span class=p>]:</span> <span class=nb>list</span><span class=p>(</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>90</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-01-20 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-02-17 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-03-16 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-04-20 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-05-18 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-06-15 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-07-20 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-08-17 00:00:00&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;WOM-3FRI&#39;</span><span class=p>)]</span></span></span></code></pre></td></tr></table></div></div><h3 id=1134-ç§»åŠ¨è¶…å‰å’Œæ»åæ•°æ®>11.3.4 ç§»åŠ¨ï¼ˆè¶…å‰å’Œæ»åï¼‰æ•°æ®
<a class=header-anchor href=#1134-%e7%a7%bb%e5%8a%a8%e8%b6%85%e5%89%8d%e5%92%8c%e6%bb%9e%e5%90%8e%e6%95%b0%e6%8d%ae></a></h3><p>ç§»åŠ¨ï¼ˆshiftingï¼‰æŒ‡çš„æ˜¯æ²¿ç€æ—¶é—´è½´å°†æ•°æ®å‰ç§»æˆ–åç§»ã€‚Serieså’ŒDataFrameéƒ½æœ‰ä¸€ä¸ªshiftæ–¹æ³•ç”¨äºæ‰§è¡Œå•çº¯çš„å‰ç§»æˆ–åç§»æ“ä½œï¼Œä¿æŒç´¢å¼•ä¸å˜ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span><span class=lnt id=hl-39-13><a class=lnlinks href=#hl-39-13>13</a>
</span><span class=lnt id=hl-39-14><a class=lnlinks href=#hl-39-14>14</a>
</span><span class=lnt id=hl-39-15><a class=lnlinks href=#hl-39-15>15</a>
</span><span class=lnt id=hl-39-16><a class=lnlinks href=#hl-39-16>16</a>
</span><span class=lnt id=hl-39-17><a class=lnlinks href=#hl-39-17>17</a>
</span><span class=lnt id=hl-39-18><a class=lnlinks href=#hl-39-18>18</a>
</span><span class=lnt id=hl-39-19><a class=lnlinks href=#hl-39-19>19</a>
</span><span class=lnt id=hl-39-20><a class=lnlinks href=#hl-39-20>20</a>
</span><span class=lnt id=hl-39-21><a class=lnlinks href=#hl-39-21>21</a>
</span><span class=lnt id=hl-39-22><a class=lnlinks href=#hl-39-22>22</a>
</span><span class=lnt id=hl-39-23><a class=lnlinks href=#hl-39-23>23</a>
</span><span class=lnt id=hl-39-24><a class=lnlinks href=#hl-39-24>24</a>
</span><span class=lnt id=hl-39-25><a class=lnlinks href=#hl-39-25>25</a>
</span><span class=lnt id=hl-39-26><a class=lnlinks href=#hl-39-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>91</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>....</span><span class=p>:</span>                <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/1/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>92</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>92</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.066748</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.838639</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.117388</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span>   <span class=o>-</span><span class=mf>0.517795</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>93</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>93</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.066748</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span>    <span class=mf>0.838639</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>94</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>94</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.117388</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>   <span class=o>-</span><span class=mf>0.517795</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>å½“æˆ‘ä»¬è¿™æ ·è¿›è¡Œç§»åŠ¨æ—¶ï¼Œå°±ä¼šåœ¨æ—¶é—´åºåˆ—çš„å‰é¢æˆ–åé¢äº§ç”Ÿç¼ºå¤±æ•°æ®ã€‚</p><p>shifté€šå¸¸ç”¨äºè®¡ç®—ä¸€ä¸ªæ—¶é—´åºåˆ—æˆ–å¤šä¸ªæ—¶é—´åºåˆ—ï¼ˆå¦‚DataFrameçš„åˆ—ï¼‰ä¸­çš„ç™¾åˆ†æ¯”å˜åŒ–ã€‚å¯ä»¥è¿™æ ·è¡¨è¾¾ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>ts</span> <span class=o>/</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span></span></span></code></pre></td></tr></table></div></div><p>ç”±äºå•çº¯çš„ç§»ä½æ“ä½œä¸ä¼šä¿®æ”¹ç´¢å¼•ï¼Œæ‰€ä»¥éƒ¨åˆ†æ•°æ®ä¼šè¢«ä¸¢å¼ƒã€‚å› æ­¤ï¼Œå¦‚æœé¢‘ç‡å·²çŸ¥ï¼Œåˆ™å¯ä»¥å°†å…¶ä¼ ç»™shiftä»¥ä¾¿å®ç°å¯¹æ—¶é—´æˆ³è¿›è¡Œä½ç§»è€Œä¸æ˜¯å¯¹æ•°æ®è¿›è¡Œç®€å•ä½ç§»ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2>2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3>3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4>4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5>5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6>6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>95</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>95</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.066748</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span>    <span class=mf>0.838639</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.117388</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>30</span>   <span class=o>-</span><span class=mf>0.517795</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é¢‘ç‡ï¼Œäºæ˜¯ä½ å°±èƒ½éå¸¸çµæ´»åœ°å¯¹æ•°æ®è¿›è¡Œè¶…å‰å’Œæ»åå¤„ç†äº†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1> 1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2> 2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3> 3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4> 4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5> 5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6> 6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7> 7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8> 8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9> 9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10>10</a>
</span><span class=lnt id=hl-42-11><a class=lnlinks href=#hl-42-11>11</a>
</span><span class=lnt id=hl-42-12><a class=lnlinks href=#hl-42-12>12</a>
</span><span class=lnt id=hl-42-13><a class=lnlinks href=#hl-42-13>13</a>
</span><span class=lnt id=hl-42-14><a class=lnlinks href=#hl-42-14>14</a>
</span><span class=lnt id=hl-42-15><a class=lnlinks href=#hl-42-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>96</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>96</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.066748</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.838639</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.117388</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.517795</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>97</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;90T&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>97</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span> <span class=mi>01</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.066748</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span> <span class=mi>01</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.838639</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span> <span class=mi>01</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.117388</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span> <span class=mi>01</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.517795</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><h3 id=1135-é€šè¿‡åç§»é‡å¯¹æ—¥æœŸè¿›è¡Œä½ç§»>11.3.5 é€šè¿‡åç§»é‡å¯¹æ—¥æœŸè¿›è¡Œä½ç§»
<a class=header-anchor href=#1135-%e9%80%9a%e8%bf%87%e5%81%8f%e7%a7%bb%e9%87%8f%e5%af%b9%e6%97%a5%e6%9c%9f%e8%bf%9b%e8%a1%8c%e4%bd%8d%e7%a7%bb></a></h3><p>pandasçš„æ—¥æœŸåç§»é‡è¿˜å¯ä»¥ç”¨åœ¨datetimeæˆ–Timestampå¯¹è±¡ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1>1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2>2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3>3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4>4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5>5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>98</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>pandas.tseries.offsets</span> <span class=kn>import</span> <span class=n>Day</span><span class=p>,</span> <span class=n>MonthEnd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>99</span><span class=p>]:</span> <span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2011</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>17</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>100</span><span class=p>]:</span> <span class=n>now</span> <span class=o>+</span> <span class=mi>3</span> <span class=o>*</span> <span class=n>Day</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>100</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-11-20 00:00:00&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>å¦‚æœåŠ çš„æ˜¯é”šç‚¹åç§»é‡ï¼ˆæ¯”å¦‚MonthEndï¼‰ï¼Œç¬¬ä¸€æ¬¡å¢é‡ä¼šå°†åŸæ—¥æœŸå‘å‰æ»šåŠ¨åˆ°ç¬¦åˆé¢‘ç‡è§„åˆ™çš„ä¸‹ä¸€ä¸ªæ—¥æœŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1>1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2>2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3>3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4>4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>101</span><span class=p>]:</span> <span class=n>now</span> <span class=o>+</span> <span class=n>MonthEnd</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>101</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-11-30 00:00:00&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>102</span><span class=p>]:</span> <span class=n>now</span> <span class=o>+</span> <span class=n>MonthEnd</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>102</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-12-31 00:00:00&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡é”šç‚¹åç§»é‡çš„rollforwardå’Œrollbackæ–¹æ³•ï¼Œå¯æ˜ç¡®åœ°å°†æ—¥æœŸå‘å‰æˆ–å‘åâ€œæ»šåŠ¨â€ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1>1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2>2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3>3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4>4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5>5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6>6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>103</span><span class=p>]:</span> <span class=n>offset</span> <span class=o>=</span> <span class=n>MonthEnd</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>104</span><span class=p>]:</span> <span class=n>offset</span><span class=o>.</span><span class=n>rollforward</span><span class=p>(</span><span class=n>now</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>104</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-11-30 00:00:00&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>105</span><span class=p>]:</span> <span class=n>offset</span><span class=o>.</span><span class=n>rollback</span><span class=p>(</span><span class=n>now</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>105</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-10-31 00:00:00&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>æ—¥æœŸåç§»é‡è¿˜æœ‰ä¸€ä¸ªå·§å¦™çš„ç”¨æ³•ï¼Œå³ç»“åˆgroupbyä½¿ç”¨è¿™ä¸¤ä¸ªâ€œæ»šåŠ¨â€æ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span><span class=lnt id=hl-46-12><a class=lnlinks href=#hl-46-12>12</a>
</span><span class=lnt id=hl-46-13><a class=lnlinks href=#hl-46-13>13</a>
</span><span class=lnt id=hl-46-14><a class=lnlinks href=#hl-46-14>14</a>
</span><span class=lnt id=hl-46-15><a class=lnlinks href=#hl-46-15>15</a>
</span><span class=lnt id=hl-46-16><a class=lnlinks href=#hl-46-16>16</a>
</span><span class=lnt id=hl-46-17><a class=lnlinks href=#hl-46-17>17</a>
</span><span class=lnt id=hl-46-18><a class=lnlinks href=#hl-46-18>18</a>
</span><span class=lnt id=hl-46-19><a class=lnlinks href=#hl-46-19>19</a>
</span><span class=lnt id=hl-46-20><a class=lnlinks href=#hl-46-20>20</a>
</span><span class=lnt id=hl-46-21><a class=lnlinks href=#hl-46-21>21</a>
</span><span class=lnt id=hl-46-22><a class=lnlinks href=#hl-46-22>22</a>
</span><span class=lnt id=hl-46-23><a class=lnlinks href=#hl-46-23>23</a>
</span><span class=lnt id=hl-46-24><a class=lnlinks href=#hl-46-24>24</a>
</span><span class=lnt id=hl-46-25><a class=lnlinks href=#hl-46-25>25</a>
</span><span class=lnt id=hl-46-26><a class=lnlinks href=#hl-46-26>26</a>
</span><span class=lnt id=hl-46-27><a class=lnlinks href=#hl-46-27>27</a>
</span><span class=lnt id=hl-46-28><a class=lnlinks href=#hl-46-28>28</a>
</span><span class=lnt id=hl-46-29><a class=lnlinks href=#hl-46-29>29</a>
</span><span class=lnt id=hl-46-30><a class=lnlinks href=#hl-46-30>30</a>
</span><span class=lnt id=hl-46-31><a class=lnlinks href=#hl-46-31>31</a>
</span><span class=lnt id=hl-46-32><a class=lnlinks href=#hl-46-32>32</a>
</span><span class=lnt id=hl-46-33><a class=lnlinks href=#hl-46-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>106</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/15/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;4d&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>107</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>107</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span>   <span class=o>-</span><span class=mf>0.116696</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>19</span>    <span class=mf>2.389645</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>23</span>   <span class=o>-</span><span class=mf>0.932454</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>27</span>   <span class=o>-</span><span class=mf>0.229331</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>1.140330</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>04</span>    <span class=mf>0.439920</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.823758</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>12</span>   <span class=o>-</span><span class=mf>0.520930</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>16</span>    <span class=mf>0.350282</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span>    <span class=mf>0.204395</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>24</span>    <span class=mf>0.133445</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>28</span>    <span class=mf>0.327905</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.072153</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>07</span>    <span class=mf>0.131678</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span>   <span class=o>-</span><span class=mf>1.297459</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>15</span>    <span class=mf>0.997747</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>19</span>    <span class=mf>0.870955</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>23</span>   <span class=o>-</span><span class=mf>0.991253</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>27</span>    <span class=mf>0.151699</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>1.266151</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=mi>4</span><span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>108</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>offset</span><span class=o>.</span><span class=n>rollforward</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>108</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.005833</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.015894</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>0.150209</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>å½“ç„¶ï¼Œæ›´ç®€å•ã€æ›´å¿«é€Ÿåœ°å®ç°è¯¥åŠŸèƒ½çš„åŠæ³•æ˜¯ä½¿ç”¨resampleï¼ˆ11.6å°èŠ‚å°†å¯¹æ­¤è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1>1</a>
</span><span class=lnt id=hl-47-2><a class=lnlinks href=#hl-47-2>2</a>
</span><span class=lnt id=hl-47-3><a class=lnlinks href=#hl-47-3>3</a>
</span><span class=lnt id=hl-47-4><a class=lnlinks href=#hl-47-4>4</a>
</span><span class=lnt id=hl-47-5><a class=lnlinks href=#hl-47-5>5</a>
</span><span class=lnt id=hl-47-6><a class=lnlinks href=#hl-47-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>109</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>109</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.005833</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.015894</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>0.150209</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><h2 id=114-æ—¶åŒºå¤„ç†>11.4 æ—¶åŒºå¤„ç†
<a class=header-anchor href=#114-%e6%97%b6%e5%8c%ba%e5%a4%84%e7%90%86></a></h2><p>æ—¶é—´åºåˆ—å¤„ç†å·¥ä½œä¸­æœ€è®©äººä¸çˆ½çš„å°±æ˜¯å¯¹æ—¶åŒºçš„å¤„ç†ã€‚è®¸å¤šäººéƒ½é€‰æ‹©ä»¥åè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼Œå®ƒæ˜¯æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ï¼ˆGreenwich Mean Timeï¼‰çš„æ¥æ›¿è€…ï¼Œç›®å‰å·²ç»æ˜¯å›½é™…æ ‡å‡†äº†ï¼‰æ¥å¤„ç†æ—¶é—´åºåˆ—ã€‚æ—¶åŒºæ˜¯ä»¥UTCåç§»é‡çš„å½¢å¼è¡¨ç¤ºçš„ã€‚ä¾‹å¦‚ï¼Œå¤ä»¤æ—¶æœŸé—´ï¼Œçº½çº¦æ¯”UTCæ…¢4å°æ—¶ï¼Œè€Œåœ¨å…¨å¹´å…¶ä»–æ—¶é—´åˆ™æ¯”UTCæ…¢5å°æ—¶ã€‚</p><p>åœ¨Pythonä¸­ï¼Œæ—¶åŒºä¿¡æ¯æ¥è‡ªç¬¬ä¸‰æ–¹åº“pytzï¼Œå®ƒä½¿Pythonå¯ä»¥ä½¿ç”¨Olsonæ•°æ®åº“ï¼ˆæ±‡ç¼–äº†ä¸–ç•Œæ—¶åŒºä¿¡æ¯ï¼‰ã€‚è¿™å¯¹å†å²æ•°æ®éå¸¸é‡è¦ï¼Œè¿™æ˜¯å› ä¸ºç”±äºå„åœ°æ”¿åºœçš„å„ç§çªå‘å¥‡æƒ³ï¼Œå¤ä»¤æ—¶è½¬å˜æ—¥æœŸï¼ˆç”šè‡³UTCåç§»é‡ï¼‰å·²ç»å‘ç”Ÿè¿‡å¤šæ¬¡æ”¹å˜äº†ã€‚å°±æ‹¿ç¾å›½æ¥è¯´ï¼ŒDSTè½¬å˜æ—¶é—´è‡ª1900å¹´ä»¥æ¥å°±æ”¹å˜è¿‡å¤šæ¬¡ï¼</p><p>æœ‰å…³pytzåº“çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥é˜…å…¶æ–‡æ¡£ã€‚å°±æœ¬ä¹¦è€Œè¨€ï¼Œç”±äºpandasåŒ…è£…äº†pytzçš„åŠŸèƒ½ï¼Œå› æ­¤ä½ å¯ä»¥ä¸ç”¨è®°å¿†å…¶APIï¼Œåªè¦è®°å¾—æ—¶åŒºçš„åç§°å³å¯ã€‚æ—¶åŒºåå¯ä»¥åœ¨shellä¸­çœ‹åˆ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ–‡æ¡£æŸ¥çœ‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1>1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2>2</a>
</span><span class=lnt id=hl-48-3><a class=lnlinks href=#hl-48-3>3</a>
</span><span class=lnt id=hl-48-4><a class=lnlinks href=#hl-48-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>110</span><span class=p>]:</span> <span class=kn>import</span> <span class=nn>pytz</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>111</span><span class=p>]:</span> <span class=n>pytz</span><span class=o>.</span><span class=n>common_timezones</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>111</span><span class=p>]:</span> <span class=p>[</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>,</span> <span class=s1>&#39;US/Hawaii&#39;</span><span class=p>,</span> <span class=s1>&#39;US/Mountain&#39;</span><span class=p>,</span> <span class=s1>&#39;US/Pacific&#39;</span><span class=p>,</span> <span class=s1>&#39;UTC&#39;</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>è¦ä»pytzä¸­è·å–æ—¶åŒºå¯¹è±¡ï¼Œä½¿ç”¨pytz.timezoneå³å¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1>1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2>2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3>3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>112</span><span class=p>]:</span> <span class=n>tz</span> <span class=o>=</span> <span class=n>pytz</span><span class=o>.</span><span class=n>timezone</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>113</span><span class=p>]:</span> <span class=n>tz</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>113</span><span class=p>]:</span> <span class=o>&lt;</span><span class=n>DstTzInfo</span> <span class=s1>&#39;America/New_York&#39;</span> <span class=n>LMT</span><span class=o>-</span><span class=mi>1</span> <span class=n>day</span><span class=p>,</span> <span class=mi>19</span><span class=p>:</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span> <span class=n>STD</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>pandasä¸­çš„æ–¹æ³•æ—¢å¯ä»¥æ¥å—æ—¶åŒºåä¹Ÿå¯ä»¥æ¥å—è¿™äº›å¯¹è±¡ã€‚</p><h3 id=1141-æ—¶åŒºæœ¬åœ°åŒ–å’Œè½¬æ¢>11.4.1 æ—¶åŒºæœ¬åœ°åŒ–å’Œè½¬æ¢
<a class=header-anchor href=#1141-%e6%97%b6%e5%8c%ba%e6%9c%ac%e5%9c%b0%e5%8c%96%e5%92%8c%e8%bd%ac%e6%8d%a2></a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œpandasä¸­çš„æ—¶é—´åºåˆ—æ˜¯å•çº¯ï¼ˆnaiveï¼‰çš„æ—¶åŒºã€‚çœ‹çœ‹ä¸‹é¢è¿™ä¸ªæ—¶é—´åºåˆ—ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span><span class=lnt id=hl-50-12><a class=lnlinks href=#hl-50-12>12</a>
</span><span class=lnt id=hl-50-13><a class=lnlinks href=#hl-50-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>114</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;3/9/2012 9:30&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>115</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rng</span><span class=p>)),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>116</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>116</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>å…¶ç´¢å¼•çš„tzå­—æ®µä¸ºNoneï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1>1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>117</span><span class=p>]:</span> <span class=nb>print</span><span class=p>(</span><span class=n>ts</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>tz</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>None</span></span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥ç”¨æ—¶åŒºé›†ç”Ÿæˆæ—¥æœŸèŒƒå›´ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1>1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2>2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3>3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4>4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5>5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6>6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7>7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>118</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;3/9/2012 9:30&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;UTC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>118</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-03-09 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-10 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-11 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-12 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-13 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-14 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-15 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-16 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-17 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-18 09:30:00+00:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns, UTC]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>ä»å•çº¯åˆ°æœ¬åœ°åŒ–çš„è½¬æ¢æ˜¯é€šè¿‡tz_localizeæ–¹æ³•å¤„ç†çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1> 1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2> 2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3> 3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4> 4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5> 5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6> 6</a>
</span><span class=lnt id=hl-53-7><a class=lnlinks href=#hl-53-7> 7</a>
</span><span class=lnt id=hl-53-8><a class=lnlinks href=#hl-53-8> 8</a>
</span><span class=lnt id=hl-53-9><a class=lnlinks href=#hl-53-9> 9</a>
</span><span class=lnt id=hl-53-10><a class=lnlinks href=#hl-53-10>10</a>
</span><span class=lnt id=hl-53-11><a class=lnlinks href=#hl-53-11>11</a>
</span><span class=lnt id=hl-53-12><a class=lnlinks href=#hl-53-12>12</a>
</span><span class=lnt id=hl-53-13><a class=lnlinks href=#hl-53-13>13</a>
</span><span class=lnt id=hl-53-14><a class=lnlinks href=#hl-53-14>14</a>
</span><span class=lnt id=hl-53-15><a class=lnlinks href=#hl-53-15>15</a>
</span><span class=lnt id=hl-53-16><a class=lnlinks href=#hl-53-16>16</a>
</span><span class=lnt id=hl-53-17><a class=lnlinks href=#hl-53-17>17</a>
</span><span class=lnt id=hl-53-18><a class=lnlinks href=#hl-53-18>18</a>
</span><span class=lnt id=hl-53-19><a class=lnlinks href=#hl-53-19>19</a>
</span><span class=lnt id=hl-53-20><a class=lnlinks href=#hl-53-20>20</a>
</span><span class=lnt id=hl-53-21><a class=lnlinks href=#hl-53-21>21</a>
</span><span class=lnt id=hl-53-22><a class=lnlinks href=#hl-53-22>22</a>
</span><span class=lnt id=hl-53-23><a class=lnlinks href=#hl-53-23>23</a>
</span><span class=lnt id=hl-53-24><a class=lnlinks href=#hl-53-24>24</a>
</span><span class=lnt id=hl-53-25><a class=lnlinks href=#hl-53-25>25</a>
</span><span class=lnt id=hl-53-26><a class=lnlinks href=#hl-53-26>26</a>
</span><span class=lnt id=hl-53-27><a class=lnlinks href=#hl-53-27>27</a>
</span><span class=lnt id=hl-53-28><a class=lnlinks href=#hl-53-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>119</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>119</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>120</span><span class=p>]:</span> <span class=n>ts_utc</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>tz_localize</span><span class=p>(</span><span class=s1>&#39;UTC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>121</span><span class=p>]:</span> <span class=n>ts_utc</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>121</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>122</span><span class=p>]:</span> <span class=n>ts_utc</span><span class=o>.</span><span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>122</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-03-09 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-10 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-11 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-12 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-13 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-14 09:30:00+00:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns, UTC]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>ä¸€æ—¦æ—¶é—´åºåˆ—è¢«æœ¬åœ°åŒ–åˆ°æŸä¸ªç‰¹å®šæ—¶åŒºï¼Œå°±å¯ä»¥ç”¨tz_convertå°†å…¶è½¬æ¢åˆ°åˆ«çš„æ—¶åŒºäº†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1>1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2>2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3>3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4>4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5>5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6>6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7>7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8>8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>123</span><span class=p>]:</span> <span class=n>ts_utc</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>123</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>04</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>04</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>05</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>05</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>05</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>05</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>-</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>å¯¹äºä¸Šé¢è¿™ç§æ—¶é—´åºåˆ—ï¼ˆå®ƒè·¨è¶Šäº†ç¾å›½ä¸œéƒ¨æ—¶åŒºçš„å¤ä»¤æ—¶è½¬å˜æœŸï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æœ¬åœ°åŒ–åˆ°ESTï¼Œç„¶åè½¬æ¢ä¸ºUTCæˆ–æŸæ—æ—¶é—´ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span><span class=lnt id=hl-55-16><a class=lnlinks href=#hl-55-16>16</a>
</span><span class=lnt id=hl-55-17><a class=lnlinks href=#hl-55-17>17</a>
</span><span class=lnt id=hl-55-18><a class=lnlinks href=#hl-55-18>18</a>
</span><span class=lnt id=hl-55-19><a class=lnlinks href=#hl-55-19>19</a>
</span><span class=lnt id=hl-55-20><a class=lnlinks href=#hl-55-20>20</a>
</span><span class=lnt id=hl-55-21><a class=lnlinks href=#hl-55-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>124</span><span class=p>]:</span> <span class=n>ts_eastern</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>tz_localize</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>125</span><span class=p>]:</span> <span class=n>ts_eastern</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;UTC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>125</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>13</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>13</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>13</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>13</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>126</span><span class=p>]:</span> <span class=n>ts_eastern</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;Europe/Berlin&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>126</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>15</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.202469</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>10</span> <span class=mi>15</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.050718</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>11</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.639869</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.597594</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.797246</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>14</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span><span class=o>+</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.472879</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>tz_localizeå’Œtz_convertä¹Ÿæ˜¯DatetimeIndexçš„å®ä¾‹æ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1>1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2>2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3>3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4>4</a>
</span><span class=lnt id=hl-56-5><a class=lnlinks href=#hl-56-5>5</a>
</span><span class=lnt id=hl-56-6><a class=lnlinks href=#hl-56-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>127</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>tz_localize</span><span class=p>(</span><span class=s1>&#39;Asia/Shanghai&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>127</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-03-09 09:30:00+08:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-10 09:30:00+08:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-11 09:30:00+08:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-12 09:30:00+08:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-13 09:30:00+08:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-14 09:30:00+08:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns, Asia/Shanghai]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>æ³¨æ„ï¼šå¯¹å•çº¯æ—¶é—´æˆ³çš„æœ¬åœ°åŒ–æ“ä½œè¿˜ä¼šæ£€æŸ¥å¤ä»¤æ—¶è½¬å˜æœŸé™„è¿‘å®¹æ˜“æ··æ·†æˆ–ä¸å­˜åœ¨çš„æ—¶é—´ã€‚</p></blockquote><h3 id=1142-æ“ä½œæ—¶åŒºæ„è¯†å‹timestampå¯¹è±¡>11.4.2 æ“ä½œæ—¶åŒºæ„è¯†å‹Timestampå¯¹è±¡
<a class=header-anchor href=#1142-%e6%93%8d%e4%bd%9c%e6%97%b6%e5%8c%ba%e6%84%8f%e8%af%86%e5%9e%8btimestamp%e5%af%b9%e8%b1%a1></a></h3><p>è·Ÿæ—¶é—´åºåˆ—å’Œæ—¥æœŸèŒƒå›´å·®ä¸å¤šï¼Œç‹¬ç«‹çš„Timestampå¯¹è±¡ä¹Ÿèƒ½è¢«ä»å•çº¯å‹ï¼ˆnaiveï¼‰æœ¬åœ°åŒ–ä¸ºæ—¶åŒºæ„è¯†å‹ï¼ˆtime zone-awareï¼‰ï¼Œå¹¶ä»ä¸€ä¸ªæ—¶åŒºè½¬æ¢åˆ°å¦ä¸€ä¸ªæ—¶åŒºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-57-1><a class=lnlinks href=#hl-57-1>1</a>
</span><span class=lnt id=hl-57-2><a class=lnlinks href=#hl-57-2>2</a>
</span><span class=lnt id=hl-57-3><a class=lnlinks href=#hl-57-3>3</a>
</span><span class=lnt id=hl-57-4><a class=lnlinks href=#hl-57-4>4</a>
</span><span class=lnt id=hl-57-5><a class=lnlinks href=#hl-57-5>5</a>
</span><span class=lnt id=hl-57-6><a class=lnlinks href=#hl-57-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>128</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-03-12 04:00&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>129</span><span class=p>]:</span> <span class=n>stamp_utc</span> <span class=o>=</span> <span class=n>stamp</span><span class=o>.</span><span class=n>tz_localize</span><span class=p>(</span><span class=s1>&#39;utc&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>130</span><span class=p>]:</span> <span class=n>stamp_utc</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>130</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-03-11 23:00:00-0500&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨åˆ›å»ºTimestampæ—¶ï¼Œè¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ—¶åŒºä¿¡æ¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-58-1><a class=lnlinks href=#hl-58-1>1</a>
</span><span class=lnt id=hl-58-2><a class=lnlinks href=#hl-58-2>2</a>
</span><span class=lnt id=hl-58-3><a class=lnlinks href=#hl-58-3>3</a>
</span><span class=lnt id=hl-58-4><a class=lnlinks href=#hl-58-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>131</span><span class=p>]:</span> <span class=n>stamp_moscow</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-03-12 04:00&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;Europe/Moscow&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>132</span><span class=p>]:</span> <span class=n>stamp_moscow</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>132</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2011-03-12 04:00:00+0300&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;Europe/Moscow&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>æ—¶åŒºæ„è¯†å‹Timestampå¯¹è±¡åœ¨å†…éƒ¨ä¿å­˜äº†ä¸€ä¸ªUTCæ—¶é—´æˆ³å€¼ï¼ˆè‡ªUNIXçºªå…ƒï¼ˆ1970å¹´1æœˆ1æ—¥ï¼‰ç®—èµ·çš„çº³ç§’æ•°ï¼‰ã€‚è¿™ä¸ªUTCå€¼åœ¨æ—¶åŒºè½¬æ¢è¿‡ç¨‹ä¸­æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1>1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2>2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3>3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4>4</a>
</span><span class=lnt id=hl-59-5><a class=lnlinks href=#hl-59-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>133</span><span class=p>]:</span> <span class=n>stamp_utc</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>133</span><span class=p>]:</span> <span class=mi>1299902400000000000</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>134</span><span class=p>]:</span> <span class=n>stamp_utc</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>134</span><span class=p>]:</span> <span class=mi>1299902400000000000</span></span></span></code></pre></td></tr></table></div></div><p>å½“ä½¿ç”¨pandasçš„DateOffsetå¯¹è±¡æ‰§è¡Œæ—¶é—´ç®—æœ¯è¿ç®—æ—¶ï¼Œè¿ç®—è¿‡ç¨‹ä¼šè‡ªåŠ¨å…³æ³¨æ˜¯å¦å­˜åœ¨å¤ä»¤æ—¶è½¬å˜æœŸã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†åœ¨DSTè½¬å˜ä¹‹å‰çš„æ—¶é—´æˆ³ã€‚é¦–å…ˆï¼Œæ¥çœ‹å¤ä»¤æ—¶è½¬å˜å‰çš„30åˆ†é’Ÿï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-60-1><a class=lnlinks href=#hl-60-1>1</a>
</span><span class=lnt id=hl-60-2><a class=lnlinks href=#hl-60-2>2</a>
</span><span class=lnt id=hl-60-3><a class=lnlinks href=#hl-60-3>3</a>
</span><span class=lnt id=hl-60-4><a class=lnlinks href=#hl-60-4>4</a>
</span><span class=lnt id=hl-60-5><a class=lnlinks href=#hl-60-5>5</a>
</span><span class=lnt id=hl-60-6><a class=lnlinks href=#hl-60-6>6</a>
</span><span class=lnt id=hl-60-7><a class=lnlinks href=#hl-60-7>7</a>
</span><span class=lnt id=hl-60-8><a class=lnlinks href=#hl-60-8>8</a>
</span><span class=lnt id=hl-60-9><a class=lnlinks href=#hl-60-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>135</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>pandas.tseries.offsets</span> <span class=kn>import</span> <span class=n>Hour</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>136</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-03-12 01:30&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>137</span><span class=p>]:</span> <span class=n>stamp</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>137</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-03-12 01:30:00-0400&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>138</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>+</span> <span class=n>Hour</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>138</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-03-12 02:30:00-0400&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>ç„¶åï¼Œå¤ä»¤æ—¶è½¬å˜å‰90åˆ†é’Ÿï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1>1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2>2</a>
</span><span class=lnt id=hl-61-3><a class=lnlinks href=#hl-61-3>3</a>
</span><span class=lnt id=hl-61-4><a class=lnlinks href=#hl-61-4>4</a>
</span><span class=lnt id=hl-61-5><a class=lnlinks href=#hl-61-5>5</a>
</span><span class=lnt id=hl-61-6><a class=lnlinks href=#hl-61-6>6</a>
</span><span class=lnt id=hl-61-7><a class=lnlinks href=#hl-61-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>139</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-11-04 00:30&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>140</span><span class=p>]:</span> <span class=n>stamp</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>140</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-11-04 00:30:00-0400&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>141</span><span class=p>]:</span> <span class=n>stamp</span> <span class=o>+</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>Hour</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>141</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-11-04 01:30:00-0500&#39;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s1>&#39;US/Eastern&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=1143-ä¸åŒæ—¶åŒºä¹‹é—´çš„è¿ç®—>11.4.3 ä¸åŒæ—¶åŒºä¹‹é—´çš„è¿ç®—
<a class=header-anchor href=#1143-%e4%b8%8d%e5%90%8c%e6%97%b6%e5%8c%ba%e4%b9%8b%e9%97%b4%e7%9a%84%e8%bf%90%e7%ae%97></a></h3><p>å¦‚æœä¸¤ä¸ªæ—¶é—´åºåˆ—çš„æ—¶åŒºä¸åŒï¼Œåœ¨å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€èµ·æ—¶ï¼Œæœ€ç»ˆç»“æœå°±ä¼šæ˜¯UTCã€‚ç”±äºæ—¶é—´æˆ³å…¶å®æ˜¯ä»¥UTCå­˜å‚¨çš„ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„è¿ç®—ï¼Œå¹¶ä¸éœ€è¦å‘ç”Ÿä»»ä½•è½¬æ¢ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-62-1><a class=lnlinks href=#hl-62-1> 1</a>
</span><span class=lnt id=hl-62-2><a class=lnlinks href=#hl-62-2> 2</a>
</span><span class=lnt id=hl-62-3><a class=lnlinks href=#hl-62-3> 3</a>
</span><span class=lnt id=hl-62-4><a class=lnlinks href=#hl-62-4> 4</a>
</span><span class=lnt id=hl-62-5><a class=lnlinks href=#hl-62-5> 5</a>
</span><span class=lnt id=hl-62-6><a class=lnlinks href=#hl-62-6> 6</a>
</span><span class=lnt id=hl-62-7><a class=lnlinks href=#hl-62-7> 7</a>
</span><span class=lnt id=hl-62-8><a class=lnlinks href=#hl-62-8> 8</a>
</span><span class=lnt id=hl-62-9><a class=lnlinks href=#hl-62-9> 9</a>
</span><span class=lnt id=hl-62-10><a class=lnlinks href=#hl-62-10>10</a>
</span><span class=lnt id=hl-62-11><a class=lnlinks href=#hl-62-11>11</a>
</span><span class=lnt id=hl-62-12><a class=lnlinks href=#hl-62-12>12</a>
</span><span class=lnt id=hl-62-13><a class=lnlinks href=#hl-62-13>13</a>
</span><span class=lnt id=hl-62-14><a class=lnlinks href=#hl-62-14>14</a>
</span><span class=lnt id=hl-62-15><a class=lnlinks href=#hl-62-15>15</a>
</span><span class=lnt id=hl-62-16><a class=lnlinks href=#hl-62-16>16</a>
</span><span class=lnt id=hl-62-17><a class=lnlinks href=#hl-62-17>17</a>
</span><span class=lnt id=hl-62-18><a class=lnlinks href=#hl-62-18>18</a>
</span><span class=lnt id=hl-62-19><a class=lnlinks href=#hl-62-19>19</a>
</span><span class=lnt id=hl-62-20><a class=lnlinks href=#hl-62-20>20</a>
</span><span class=lnt id=hl-62-21><a class=lnlinks href=#hl-62-21>21</a>
</span><span class=lnt id=hl-62-22><a class=lnlinks href=#hl-62-22>22</a>
</span><span class=lnt id=hl-62-23><a class=lnlinks href=#hl-62-23>23</a>
</span><span class=lnt id=hl-62-24><a class=lnlinks href=#hl-62-24>24</a>
</span><span class=lnt id=hl-62-25><a class=lnlinks href=#hl-62-25>25</a>
</span><span class=lnt id=hl-62-26><a class=lnlinks href=#hl-62-26>26</a>
</span><span class=lnt id=hl-62-27><a class=lnlinks href=#hl-62-27>27</a>
</span><span class=lnt id=hl-62-28><a class=lnlinks href=#hl-62-28>28</a>
</span><span class=lnt id=hl-62-29><a class=lnlinks href=#hl-62-29>29</a>
</span><span class=lnt id=hl-62-30><a class=lnlinks href=#hl-62-30>30</a>
</span><span class=lnt id=hl-62-31><a class=lnlinks href=#hl-62-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>142</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;3/7/2012 9:30&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;B&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>143</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rng</span><span class=p>)),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>144</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>144</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>07</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.522356</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>08</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.546348</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>09</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.733537</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>12</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>1.302736</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>13</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.022199</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>14</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.364287</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>15</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.922839</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>16</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>    <span class=mf>0.312656</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>19</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>1.128497</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>20</span> <span class=mi>09</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=mi>00</span>   <span class=o>-</span><span class=mf>0.333488</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>B</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>145</span><span class=p>]:</span> <span class=n>ts1</span> <span class=o>=</span> <span class=n>ts</span><span class=p>[:</span><span class=mi>7</span><span class=p>]</span><span class=o>.</span><span class=n>tz_localize</span><span class=p>(</span><span class=s1>&#39;Europe/London&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>146</span><span class=p>]:</span> <span class=n>ts2</span> <span class=o>=</span> <span class=n>ts1</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span><span class=o>.</span><span class=n>tz_convert</span><span class=p>(</span><span class=s1>&#39;Europe/Moscow&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>147</span><span class=p>]:</span> <span class=n>result</span> <span class=o>=</span> <span class=n>ts1</span> <span class=o>+</span> <span class=n>ts2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>148</span><span class=p>]:</span> <span class=n>result</span><span class=o>.</span><span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>148</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2012-03-07 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-08 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-09 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-12 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-13 09:30:00+00:00&#39;</span><span class=p>,</span> <span class=s1>&#39;2012-03-14 09:30:00+00:00&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2012-03-15 09:30:00+00:00&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns, UTC]&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;B&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h2 id=115-æ—¶æœŸåŠå…¶ç®—æœ¯è¿ç®—>11.5 æ—¶æœŸåŠå…¶ç®—æœ¯è¿ç®—
<a class=header-anchor href=#115-%e6%97%b6%e6%9c%9f%e5%8f%8a%e5%85%b6%e7%ae%97%e6%9c%af%e8%bf%90%e7%ae%97></a></h2><p>æ—¶æœŸï¼ˆperiodï¼‰è¡¨ç¤ºçš„æ˜¯æ—¶é—´åŒºé—´ï¼Œæ¯”å¦‚æ•°æ—¥ã€æ•°æœˆã€æ•°å­£ã€æ•°å¹´ç­‰ã€‚Periodç±»æ‰€è¡¨ç¤ºçš„å°±æ˜¯è¿™ç§æ•°æ®ç±»å‹ï¼Œå…¶æ„é€ å‡½æ•°éœ€è¦ç”¨åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•´æ•°ï¼Œä»¥åŠè¡¨11-4ä¸­çš„é¢‘ç‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-63-1><a class=lnlinks href=#hl-63-1>1</a>
</span><span class=lnt id=hl-63-2><a class=lnlinks href=#hl-63-2>2</a>
</span><span class=lnt id=hl-63-3><a class=lnlinks href=#hl-63-3>3</a>
</span><span class=lnt id=hl-63-4><a class=lnlinks href=#hl-63-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>149</span><span class=p>]:</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=mi>2007</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>150</span><span class=p>]:</span> <span class=n>p</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>150</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007&#39;</span><span class=p>,</span> <span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œï¼Œè¿™ä¸ªPeriodå¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä»2007å¹´1æœˆ1æ—¥åˆ°2007å¹´12æœˆ31æ—¥ä¹‹é—´çš„æ•´æ®µæ—¶é—´ã€‚åªéœ€å¯¹Periodå¯¹è±¡åŠ ä¸Šæˆ–å‡å»ä¸€ä¸ªæ•´æ•°å³å¯è¾¾åˆ°æ ¹æ®å…¶é¢‘ç‡è¿›è¡Œä½ç§»çš„æ•ˆæœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-64-1><a class=lnlinks href=#hl-64-1>1</a>
</span><span class=lnt id=hl-64-2><a class=lnlinks href=#hl-64-2>2</a>
</span><span class=lnt id=hl-64-3><a class=lnlinks href=#hl-64-3>3</a>
</span><span class=lnt id=hl-64-4><a class=lnlinks href=#hl-64-4>4</a>
</span><span class=lnt id=hl-64-5><a class=lnlinks href=#hl-64-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>151</span><span class=p>]:</span> <span class=n>p</span> <span class=o>+</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>151</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2012&#39;</span><span class=p>,</span> <span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>152</span><span class=p>]:</span> <span class=n>p</span> <span class=o>-</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>152</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2005&#39;</span><span class=p>,</span> <span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>å¦‚æœä¸¤ä¸ªPeriodå¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„é¢‘ç‡ï¼Œåˆ™å®ƒä»¬çš„å·®å°±æ˜¯å®ƒä»¬ä¹‹é—´çš„å•ä½æ•°é‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-65-1><a class=lnlinks href=#hl-65-1>1</a>
</span><span class=lnt id=hl-65-2><a class=lnlinks href=#hl-65-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>153</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2014&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span> <span class=o>-</span> <span class=n>p</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>153</span><span class=p>]:</span> <span class=mi>7</span></span></span></code></pre></td></tr></table></div></div><p>period_rangeå‡½æ•°å¯ç”¨äºåˆ›å»ºè§„åˆ™çš„æ—¶æœŸèŒƒå›´ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-66-1><a class=lnlinks href=#hl-66-1>1</a>
</span><span class=lnt id=hl-66-2><a class=lnlinks href=#hl-66-2>2</a>
</span><span class=lnt id=hl-66-3><a class=lnlinks href=#hl-66-3>3</a>
</span><span class=lnt id=hl-66-4><a class=lnlinks href=#hl-66-4>4</a>
</span><span class=lnt id=hl-66-5><a class=lnlinks href=#hl-66-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>154</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>period_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-06-30&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>155</span><span class=p>]:</span> <span class=n>rng</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>155</span><span class=p>]:</span> <span class=n>PeriodIndex</span><span class=p>([</span><span class=s1>&#39;2000-01&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-02&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-04&#39;</span><span class=p>,</span> <span class=s1>&#39;2000-05&#39;</span><span class=p>,</span> <span class=s1>&#39;20</span>
</span></span><span class=line><span class=cl><span class=mi>00</span><span class=o>-</span><span class=mi>06</span><span class=s1>&#39;], dtype=&#39;</span><span class=n>period</span><span class=p>[</span><span class=n>M</span><span class=p>]</span><span class=s1>&#39;, freq=&#39;</span><span class=n>M</span><span class=s1>&#39;)</span></span></span></code></pre></td></tr></table></div></div><p>PeriodIndexç±»ä¿å­˜äº†ä¸€ç»„Periodï¼Œå®ƒå¯ä»¥åœ¨ä»»ä½•pandasæ•°æ®ç»“æ„ä¸­è¢«ç”¨ä½œè½´ç´¢å¼•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-67-1><a class=lnlinks href=#hl-67-1>1</a>
</span><span class=lnt id=hl-67-2><a class=lnlinks href=#hl-67-2>2</a>
</span><span class=lnt id=hl-67-3><a class=lnlinks href=#hl-67-3>3</a>
</span><span class=lnt id=hl-67-4><a class=lnlinks href=#hl-67-4>4</a>
</span><span class=lnt id=hl-67-5><a class=lnlinks href=#hl-67-5>5</a>
</span><span class=lnt id=hl-67-6><a class=lnlinks href=#hl-67-6>6</a>
</span><span class=lnt id=hl-67-7><a class=lnlinks href=#hl-67-7>7</a>
</span><span class=lnt id=hl-67-8><a class=lnlinks href=#hl-67-8>8</a>
</span><span class=lnt id=hl-67-9><a class=lnlinks href=#hl-67-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>156</span><span class=p>]:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>6</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>156</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.514551</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.559782</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.783408</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span>   <span class=o>-</span><span class=mf>1.797685</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>05</span>   <span class=o>-</span><span class=mf>0.172670</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>06</span>    <span class=mf>0.680215</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>å¦‚æœä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨PeriodIndexç±»ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-68-1><a class=lnlinks href=#hl-68-1>1</a>
</span><span class=lnt id=hl-68-2><a class=lnlinks href=#hl-68-2>2</a>
</span><span class=lnt id=hl-68-3><a class=lnlinks href=#hl-68-3>3</a>
</span><span class=lnt id=hl-68-4><a class=lnlinks href=#hl-68-4>4</a>
</span><span class=lnt id=hl-68-5><a class=lnlinks href=#hl-68-5>5</a>
</span><span class=lnt id=hl-68-6><a class=lnlinks href=#hl-68-6>6</a>
</span><span class=lnt id=hl-68-7><a class=lnlinks href=#hl-68-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>157</span><span class=p>]:</span> <span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;2001Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;2002Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;2003Q1&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>158</span><span class=p>]:</span> <span class=n>index</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>PeriodIndex</span><span class=p>(</span><span class=n>values</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>159</span><span class=p>]:</span> <span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>159</span><span class=p>]:</span> <span class=n>PeriodIndex</span><span class=p>([</span><span class=s1>&#39;2001Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;2002Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;2003Q1&#39;</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;period[Q-DEC]&#39;</span><span class=p>,</span> <span class=n>freq</span>
</span></span><span class=line><span class=cl><span class=o>=</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=1151-æ—¶æœŸçš„é¢‘ç‡è½¬æ¢>11.5.1 æ—¶æœŸçš„é¢‘ç‡è½¬æ¢
<a class=header-anchor href=#1151-%e6%97%b6%e6%9c%9f%e7%9a%84%e9%a2%91%e7%8e%87%e8%bd%ac%e6%8d%a2></a></h3><p>Periodå’ŒPeriodIndexå¯¹è±¡éƒ½å¯ä»¥é€šè¿‡å…¶asfreqæ–¹æ³•è¢«è½¬æ¢æˆåˆ«çš„é¢‘ç‡ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¹´åº¦æ—¶æœŸï¼Œå¸Œæœ›å°†å…¶è½¬æ¢ä¸ºå½“å¹´å¹´åˆæˆ–å¹´æœ«çš„ä¸€ä¸ªæœˆåº¦æ—¶æœŸã€‚è¯¥ä»»åŠ¡éå¸¸ç®€å•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-69-1><a class=lnlinks href=#hl-69-1> 1</a>
</span><span class=lnt id=hl-69-2><a class=lnlinks href=#hl-69-2> 2</a>
</span><span class=lnt id=hl-69-3><a class=lnlinks href=#hl-69-3> 3</a>
</span><span class=lnt id=hl-69-4><a class=lnlinks href=#hl-69-4> 4</a>
</span><span class=lnt id=hl-69-5><a class=lnlinks href=#hl-69-5> 5</a>
</span><span class=lnt id=hl-69-6><a class=lnlinks href=#hl-69-6> 6</a>
</span><span class=lnt id=hl-69-7><a class=lnlinks href=#hl-69-7> 7</a>
</span><span class=lnt id=hl-69-8><a class=lnlinks href=#hl-69-8> 8</a>
</span><span class=lnt id=hl-69-9><a class=lnlinks href=#hl-69-9> 9</a>
</span><span class=lnt id=hl-69-10><a class=lnlinks href=#hl-69-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>160</span><span class=p>]:</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>161</span><span class=p>]:</span> <span class=n>p</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>161</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007&#39;</span><span class=p>,</span> <span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>162</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s1>&#39;start&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>162</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007-01&#39;</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>163</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s1>&#39;end&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>163</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007-12&#39;</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>ä½ å¯ä»¥å°†Period(&lsquo;2007&rsquo;,&lsquo;A-DEC&rsquo;)çœ‹åšä¸€ä¸ªè¢«åˆ’åˆ†ä¸ºå¤šä¸ªæœˆåº¦æ—¶æœŸçš„æ—¶é—´æ®µä¸­çš„æ¸¸æ ‡ã€‚å›¾11-1å¯¹æ­¤è¿›è¡Œäº†è¯´æ˜ã€‚å¯¹äºä¸€ä¸ªä¸ä»¥12æœˆç»“æŸçš„è´¢æ”¿å¹´åº¦ï¼Œæœˆåº¦å­æ—¶æœŸçš„å½’å±æƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-70-1><a class=lnlinks href=#hl-70-1> 1</a>
</span><span class=lnt id=hl-70-2><a class=lnlinks href=#hl-70-2> 2</a>
</span><span class=lnt id=hl-70-3><a class=lnlinks href=#hl-70-3> 3</a>
</span><span class=lnt id=hl-70-4><a class=lnlinks href=#hl-70-4> 4</a>
</span><span class=lnt id=hl-70-5><a class=lnlinks href=#hl-70-5> 5</a>
</span><span class=lnt id=hl-70-6><a class=lnlinks href=#hl-70-6> 6</a>
</span><span class=lnt id=hl-70-7><a class=lnlinks href=#hl-70-7> 7</a>
</span><span class=lnt id=hl-70-8><a class=lnlinks href=#hl-70-8> 8</a>
</span><span class=lnt id=hl-70-9><a class=lnlinks href=#hl-70-9> 9</a>
</span><span class=lnt id=hl-70-10><a class=lnlinks href=#hl-70-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>164</span><span class=p>]:</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;A-JUN&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>165</span><span class=p>]:</span> <span class=n>p</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>165</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007&#39;</span><span class=p>,</span> <span class=s1>&#39;A-JUN&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>166</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=s1>&#39;start&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>166</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2006-07&#39;</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>167</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=s1>&#39;end&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>167</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2007-06&#39;</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031121609434.png alt="å›¾11-1 Periodé¢‘ç‡è½¬æ¢ç¤ºä¾‹"></p><p>åœ¨å°†é«˜é¢‘ç‡è½¬æ¢ä¸ºä½é¢‘ç‡æ—¶ï¼Œè¶…æ—¶æœŸï¼ˆsuperperiodï¼‰æ˜¯ç”±å­æ—¶æœŸï¼ˆsubperiodï¼‰æ‰€å±çš„ä½ç½®å†³å®šçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨A-JUNé¢‘ç‡ä¸­ï¼Œæœˆä»½â€œ2007å¹´8æœˆâ€å®é™…ä¸Šæ˜¯å±äºå‘¨æœŸâ€œ2008å¹´â€çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-71-1><a class=lnlinks href=#hl-71-1>1</a>
</span><span class=lnt id=hl-71-2><a class=lnlinks href=#hl-71-2>2</a>
</span><span class=lnt id=hl-71-3><a class=lnlinks href=#hl-71-3>3</a>
</span><span class=lnt id=hl-71-4><a class=lnlinks href=#hl-71-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>168</span><span class=p>]:</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=s1>&#39;Aug-2007&#39;</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>169</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;A-JUN&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>169</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2008&#39;</span><span class=p>,</span> <span class=s1>&#39;A-JUN&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>å®Œæ•´çš„PeriodIndexæˆ–TimeSeriesçš„é¢‘ç‡è½¬æ¢æ–¹å¼ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-72-1><a class=lnlinks href=#hl-72-1> 1</a>
</span><span class=lnt id=hl-72-2><a class=lnlinks href=#hl-72-2> 2</a>
</span><span class=lnt id=hl-72-3><a class=lnlinks href=#hl-72-3> 3</a>
</span><span class=lnt id=hl-72-4><a class=lnlinks href=#hl-72-4> 4</a>
</span><span class=lnt id=hl-72-5><a class=lnlinks href=#hl-72-5> 5</a>
</span><span class=lnt id=hl-72-6><a class=lnlinks href=#hl-72-6> 6</a>
</span><span class=lnt id=hl-72-7><a class=lnlinks href=#hl-72-7> 7</a>
</span><span class=lnt id=hl-72-8><a class=lnlinks href=#hl-72-8> 8</a>
</span><span class=lnt id=hl-72-9><a class=lnlinks href=#hl-72-9> 9</a>
</span><span class=lnt id=hl-72-10><a class=lnlinks href=#hl-72-10>10</a>
</span><span class=lnt id=hl-72-11><a class=lnlinks href=#hl-72-11>11</a>
</span><span class=lnt id=hl-72-12><a class=lnlinks href=#hl-72-12>12</a>
</span><span class=lnt id=hl-72-13><a class=lnlinks href=#hl-72-13>13</a>
</span><span class=lnt id=hl-72-14><a class=lnlinks href=#hl-72-14>14</a>
</span><span class=lnt id=hl-72-15><a class=lnlinks href=#hl-72-15>15</a>
</span><span class=lnt id=hl-72-16><a class=lnlinks href=#hl-72-16>16</a>
</span><span class=lnt id=hl-72-17><a class=lnlinks href=#hl-72-17>17</a>
</span><span class=lnt id=hl-72-18><a class=lnlinks href=#hl-72-18>18</a>
</span><span class=lnt id=hl-72-19><a class=lnlinks href=#hl-72-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>170</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>period_range</span><span class=p>(</span><span class=s1>&#39;2006&#39;</span><span class=p>,</span> <span class=s1>&#39;2009&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>171</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rng</span><span class=p>)),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>172</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>172</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2006</span>    <span class=mf>1.607578</span>
</span></span><span class=line><span class=cl><span class=mi>2007</span>    <span class=mf>0.200381</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span>   <span class=o>-</span><span class=mf>0.834068</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span>   <span class=o>-</span><span class=mf>0.302988</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>A</span><span class=o>-</span><span class=n>DEC</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>173</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s1>&#39;start&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>173</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2006</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>1.607578</span>
</span></span><span class=line><span class=cl><span class=mi>2007</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>0.200381</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.834068</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.302988</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œï¼Œæ ¹æ®å¹´åº¦æ—¶æœŸçš„ç¬¬ä¸€ä¸ªæœˆï¼Œæ¯å¹´çš„æ—¶æœŸè¢«å–ä»£ä¸ºæ¯æœˆçš„æ—¶æœŸã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æ¯å¹´çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œBâ€é¢‘ç‡ï¼Œå¹¶æŒ‡æ˜æƒ³è¦è¯¥æ—¶æœŸçš„æœ«å°¾ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-73-1><a class=lnlinks href=#hl-73-1>1</a>
</span><span class=lnt id=hl-73-2><a class=lnlinks href=#hl-73-2>2</a>
</span><span class=lnt id=hl-73-3><a class=lnlinks href=#hl-73-3>3</a>
</span><span class=lnt id=hl-73-4><a class=lnlinks href=#hl-73-4>4</a>
</span><span class=lnt id=hl-73-5><a class=lnlinks href=#hl-73-5>5</a>
</span><span class=lnt id=hl-73-6><a class=lnlinks href=#hl-73-6>6</a>
</span><span class=lnt id=hl-73-7><a class=lnlinks href=#hl-73-7>7</a>
</span><span class=lnt id=hl-73-8><a class=lnlinks href=#hl-73-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>174</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s1>&#39;end&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>174</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2006</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>1.607578</span>
</span></span><span class=line><span class=cl><span class=mi>2007</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>0.200381</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.834068</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.302988</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>B</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><h3 id=1152-æŒ‰å­£åº¦è®¡ç®—çš„æ—¶æœŸé¢‘ç‡>11.5.2 æŒ‰å­£åº¦è®¡ç®—çš„æ—¶æœŸé¢‘ç‡
<a class=header-anchor href=#1152-%e6%8c%89%e5%ad%a3%e5%ba%a6%e8%ae%a1%e7%ae%97%e7%9a%84%e6%97%b6%e6%9c%9f%e9%a2%91%e7%8e%87></a></h3><p>å­£åº¦å‹æ•°æ®åœ¨ä¼šè®¡ã€é‡‘èç­‰é¢†åŸŸä¸­å¾ˆå¸¸è§ã€‚è®¸å¤šå­£åº¦å‹æ•°æ®éƒ½ä¼šæ¶‰åŠâ€œè´¢å¹´æœ«â€çš„æ¦‚å¿µï¼Œé€šå¸¸æ˜¯ä¸€å¹´12ä¸ªæœˆä¸­æŸæœˆçš„æœ€åä¸€ä¸ªæ—¥å†æ—¥æˆ–å·¥ä½œæ—¥ã€‚å°±è¿™ä¸€ç‚¹æ¥è¯´ï¼Œæ—¶æœŸ"2012Q4"æ ¹æ®è´¢å¹´æœ«çš„ä¸åŒä¼šæœ‰ä¸åŒçš„å«ä¹‰ã€‚pandasæ”¯æŒ12ç§å¯èƒ½çš„å­£åº¦å‹é¢‘ç‡ï¼Œå³Q-JANåˆ°Q-DECï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-74-1><a class=lnlinks href=#hl-74-1>1</a>
</span><span class=lnt id=hl-74-2><a class=lnlinks href=#hl-74-2>2</a>
</span><span class=lnt id=hl-74-3><a class=lnlinks href=#hl-74-3>3</a>
</span><span class=lnt id=hl-74-4><a class=lnlinks href=#hl-74-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>175</span><span class=p>]:</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2012Q4&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;Q-JAN&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>176</span><span class=p>]:</span> <span class=n>p</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>176</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2012Q4&#39;</span><span class=p>,</span> <span class=s1>&#39;Q-JAN&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨ä»¥1æœˆç»“æŸçš„è´¢å¹´ä¸­ï¼Œ2012Q4æ˜¯ä»11æœˆåˆ°1æœˆï¼ˆå°†å…¶è½¬æ¢ä¸ºæ—¥å‹é¢‘ç‡å°±æ˜ç™½äº†ï¼‰ã€‚å›¾11-2å¯¹æ­¤è¿›è¡Œäº†è¯´æ˜ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-75-1><a class=lnlinks href=#hl-75-1>1</a>
</span><span class=lnt id=hl-75-2><a class=lnlinks href=#hl-75-2>2</a>
</span><span class=lnt id=hl-75-3><a class=lnlinks href=#hl-75-3>3</a>
</span><span class=lnt id=hl-75-4><a class=lnlinks href=#hl-75-4>4</a>
</span><span class=lnt id=hl-75-5><a class=lnlinks href=#hl-75-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>177</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>,</span> <span class=s1>&#39;start&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>177</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2011-11-01&#39;</span><span class=p>,</span> <span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>178</span><span class=p>]:</span> <span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>,</span> <span class=s1>&#39;end&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>178</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2012-01-31&#39;</span><span class=p>,</span> <span class=s1>&#39;D&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031121647886.png alt="å›¾11.2 ä¸åŒå­£åº¦å‹é¢‘ç‡ä¹‹é—´çš„è½¬æ¢"></p><p>å› æ­¤ï¼ŒPeriodä¹‹é—´çš„ç®—æœ¯è¿ç®—ä¼šéå¸¸ç®€å•ã€‚ä¾‹å¦‚ï¼Œè¦è·å–è¯¥å­£åº¦å€’æ•°ç¬¬äºŒä¸ªå·¥ä½œæ—¥ä¸‹åˆ4ç‚¹çš„æ—¶é—´æˆ³ï¼Œä½ å¯ä»¥è¿™æ ·ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-76-1><a class=lnlinks href=#hl-76-1>1</a>
</span><span class=lnt id=hl-76-2><a class=lnlinks href=#hl-76-2>2</a>
</span><span class=lnt id=hl-76-3><a class=lnlinks href=#hl-76-3>3</a>
</span><span class=lnt id=hl-76-4><a class=lnlinks href=#hl-76-4>4</a>
</span><span class=lnt id=hl-76-5><a class=lnlinks href=#hl-76-5>5</a>
</span><span class=lnt id=hl-76-6><a class=lnlinks href=#hl-76-6>6</a>
</span><span class=lnt id=hl-76-7><a class=lnlinks href=#hl-76-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>179</span><span class=p>]:</span> <span class=n>p4pm</span> <span class=o>=</span> <span class=p>(</span><span class=n>p</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;e&#39;</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>,</span> <span class=s1>&#39;s&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=mi>16</span> <span class=o>*</span> <span class=mi>60</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>180</span><span class=p>]:</span> <span class=n>p4pm</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>180</span><span class=p>]:</span> <span class=n>Period</span><span class=p>(</span><span class=s1>&#39;2012-01-30 16:00&#39;</span><span class=p>,</span> <span class=s1>&#39;T&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>181</span><span class=p>]:</span> <span class=n>p4pm</span><span class=o>.</span><span class=n>to_timestamp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>181</span><span class=p>]:</span> <span class=n>Timestamp</span><span class=p>(</span><span class=s1>&#39;2012-01-30 16:00:00&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>period_rangeå¯ç”¨äºç”Ÿæˆå­£åº¦å‹èŒƒå›´ã€‚å­£åº¦å‹èŒƒå›´çš„ç®—æœ¯è¿ç®—ä¹Ÿè·Ÿä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-77-1><a class=lnlinks href=#hl-77-1> 1</a>
</span><span class=lnt id=hl-77-2><a class=lnlinks href=#hl-77-2> 2</a>
</span><span class=lnt id=hl-77-3><a class=lnlinks href=#hl-77-3> 3</a>
</span><span class=lnt id=hl-77-4><a class=lnlinks href=#hl-77-4> 4</a>
</span><span class=lnt id=hl-77-5><a class=lnlinks href=#hl-77-5> 5</a>
</span><span class=lnt id=hl-77-6><a class=lnlinks href=#hl-77-6> 6</a>
</span><span class=lnt id=hl-77-7><a class=lnlinks href=#hl-77-7> 7</a>
</span><span class=lnt id=hl-77-8><a class=lnlinks href=#hl-77-8> 8</a>
</span><span class=lnt id=hl-77-9><a class=lnlinks href=#hl-77-9> 9</a>
</span><span class=lnt id=hl-77-10><a class=lnlinks href=#hl-77-10>10</a>
</span><span class=lnt id=hl-77-11><a class=lnlinks href=#hl-77-11>11</a>
</span><span class=lnt id=hl-77-12><a class=lnlinks href=#hl-77-12>12</a>
</span><span class=lnt id=hl-77-13><a class=lnlinks href=#hl-77-13>13</a>
</span><span class=lnt id=hl-77-14><a class=lnlinks href=#hl-77-14>14</a>
</span><span class=lnt id=hl-77-15><a class=lnlinks href=#hl-77-15>15</a>
</span><span class=lnt id=hl-77-16><a class=lnlinks href=#hl-77-16>16</a>
</span><span class=lnt id=hl-77-17><a class=lnlinks href=#hl-77-17>17</a>
</span><span class=lnt id=hl-77-18><a class=lnlinks href=#hl-77-18>18</a>
</span><span class=lnt id=hl-77-19><a class=lnlinks href=#hl-77-19>19</a>
</span><span class=lnt id=hl-77-20><a class=lnlinks href=#hl-77-20>20</a>
</span><span class=lnt id=hl-77-21><a class=lnlinks href=#hl-77-21>21</a>
</span><span class=lnt id=hl-77-22><a class=lnlinks href=#hl-77-22>22</a>
</span><span class=lnt id=hl-77-23><a class=lnlinks href=#hl-77-23>23</a>
</span><span class=lnt id=hl-77-24><a class=lnlinks href=#hl-77-24>24</a>
</span><span class=lnt id=hl-77-25><a class=lnlinks href=#hl-77-25>25</a>
</span><span class=lnt id=hl-77-26><a class=lnlinks href=#hl-77-26>26</a>
</span><span class=lnt id=hl-77-27><a class=lnlinks href=#hl-77-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>182</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>period_range</span><span class=p>(</span><span class=s1>&#39;2011Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;2012Q4&#39;</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;Q-JAN&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>183</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rng</span><span class=p>)),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>184</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>184</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=n>Q3</span>    <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=n>Q4</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=n>Q1</span>    <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=n>Q2</span>    <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=n>Q3</span>    <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=n>Q4</span>    <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>Q</span><span class=o>-</span><span class=n>JAN</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>185</span><span class=p>]:</span> <span class=n>new_rng</span> <span class=o>=</span> <span class=p>(</span><span class=n>rng</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;e&#39;</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>asfreq</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>,</span> <span class=s1>&#39;s&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=mi>16</span> <span class=o>*</span> <span class=mi>60</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>186</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=n>new_rng</span><span class=o>.</span><span class=n>to_timestamp</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>187</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>187</span><span class=p>]:</span>
</span></span><span class=line><span class=cl><span class=mi>2010</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>28</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>28</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>28</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>07</span><span class=o>-</span><span class=mi>28</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>28</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>2012</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>30</span> <span class=mi>16</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><h3 id=1153-å°†timestampè½¬æ¢ä¸ºperiodåŠå…¶åå‘è¿‡ç¨‹>11.5.3 å°†Timestampè½¬æ¢ä¸ºPeriodï¼ˆåŠå…¶åå‘è¿‡ç¨‹ï¼‰
<a class=header-anchor href=#1153-%e5%b0%86timestamp%e8%bd%ac%e6%8d%a2%e4%b8%baperiod%e5%8f%8a%e5%85%b6%e5%8f%8d%e5%90%91%e8%bf%87%e7%a8%8b></a></h3><p>é€šè¿‡ä½¿ç”¨to_periodæ–¹æ³•ï¼Œå¯ä»¥å°†ç”±æ—¶é—´æˆ³ç´¢å¼•çš„Serieså’ŒDataFrameå¯¹è±¡è½¬æ¢ä¸ºä»¥æ—¶æœŸç´¢å¼•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-78-1><a class=lnlinks href=#hl-78-1> 1</a>
</span><span class=lnt id=hl-78-2><a class=lnlinks href=#hl-78-2> 2</a>
</span><span class=lnt id=hl-78-3><a class=lnlinks href=#hl-78-3> 3</a>
</span><span class=lnt id=hl-78-4><a class=lnlinks href=#hl-78-4> 4</a>
</span><span class=lnt id=hl-78-5><a class=lnlinks href=#hl-78-5> 5</a>
</span><span class=lnt id=hl-78-6><a class=lnlinks href=#hl-78-6> 6</a>
</span><span class=lnt id=hl-78-7><a class=lnlinks href=#hl-78-7> 7</a>
</span><span class=lnt id=hl-78-8><a class=lnlinks href=#hl-78-8> 8</a>
</span><span class=lnt id=hl-78-9><a class=lnlinks href=#hl-78-9> 9</a>
</span><span class=lnt id=hl-78-10><a class=lnlinks href=#hl-78-10>10</a>
</span><span class=lnt id=hl-78-11><a class=lnlinks href=#hl-78-11>11</a>
</span><span class=lnt id=hl-78-12><a class=lnlinks href=#hl-78-12>12</a>
</span><span class=lnt id=hl-78-13><a class=lnlinks href=#hl-78-13>13</a>
</span><span class=lnt id=hl-78-14><a class=lnlinks href=#hl-78-14>14</a>
</span><span class=lnt id=hl-78-15><a class=lnlinks href=#hl-78-15>15</a>
</span><span class=lnt id=hl-78-16><a class=lnlinks href=#hl-78-16>16</a>
</span><span class=lnt id=hl-78-17><a class=lnlinks href=#hl-78-17>17</a>
</span><span class=lnt id=hl-78-18><a class=lnlinks href=#hl-78-18>18</a>
</span><span class=lnt id=hl-78-19><a class=lnlinks href=#hl-78-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>188</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>189</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>190</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>190</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>1.663261</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>   <span class=o>-</span><span class=mf>0.996206</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>1.521760</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>191</span><span class=p>]:</span> <span class=n>pts</span> <span class=o>=</span> <span class=n>ts</span><span class=o>.</span><span class=n>to_period</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>192</span><span class=p>]:</span> <span class=n>pts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>192</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>1.663261</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.996206</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>1.521760</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>ç”±äºæ—¶æœŸæŒ‡çš„æ˜¯éé‡å æ—¶é—´åŒºé—´ï¼Œå› æ­¤å¯¹äºç»™å®šçš„é¢‘ç‡ï¼Œä¸€ä¸ªæ—¶é—´æˆ³åªèƒ½å±äºä¸€ä¸ªæ—¶æœŸã€‚æ–°PeriodIndexçš„é¢‘ç‡é»˜è®¤æ˜¯ä»æ—¶é—´æˆ³æ¨æ–­è€Œæ¥çš„ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šä»»ä½•åˆ«çš„é¢‘ç‡ã€‚ç»“æœä¸­å…è®¸å­˜åœ¨é‡å¤æ—¶æœŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-79-1><a class=lnlinks href=#hl-79-1> 1</a>
</span><span class=lnt id=hl-79-2><a class=lnlinks href=#hl-79-2> 2</a>
</span><span class=lnt id=hl-79-3><a class=lnlinks href=#hl-79-3> 3</a>
</span><span class=lnt id=hl-79-4><a class=lnlinks href=#hl-79-4> 4</a>
</span><span class=lnt id=hl-79-5><a class=lnlinks href=#hl-79-5> 5</a>
</span><span class=lnt id=hl-79-6><a class=lnlinks href=#hl-79-6> 6</a>
</span><span class=lnt id=hl-79-7><a class=lnlinks href=#hl-79-7> 7</a>
</span><span class=lnt id=hl-79-8><a class=lnlinks href=#hl-79-8> 8</a>
</span><span class=lnt id=hl-79-9><a class=lnlinks href=#hl-79-9> 9</a>
</span><span class=lnt id=hl-79-10><a class=lnlinks href=#hl-79-10>10</a>
</span><span class=lnt id=hl-79-11><a class=lnlinks href=#hl-79-11>11</a>
</span><span class=lnt id=hl-79-12><a class=lnlinks href=#hl-79-12>12</a>
</span><span class=lnt id=hl-79-13><a class=lnlinks href=#hl-79-13>13</a>
</span><span class=lnt id=hl-79-14><a class=lnlinks href=#hl-79-14>14</a>
</span><span class=lnt id=hl-79-15><a class=lnlinks href=#hl-79-15>15</a>
</span><span class=lnt id=hl-79-16><a class=lnlinks href=#hl-79-16>16</a>
</span><span class=lnt id=hl-79-17><a class=lnlinks href=#hl-79-17>17</a>
</span><span class=lnt id=hl-79-18><a class=lnlinks href=#hl-79-18>18</a>
</span><span class=lnt id=hl-79-19><a class=lnlinks href=#hl-79-19>19</a>
</span><span class=lnt id=hl-79-20><a class=lnlinks href=#hl-79-20>20</a>
</span><span class=lnt id=hl-79-21><a class=lnlinks href=#hl-79-21>21</a>
</span><span class=lnt id=hl-79-22><a class=lnlinks href=#hl-79-22>22</a>
</span><span class=lnt id=hl-79-23><a class=lnlinks href=#hl-79-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>193</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/29/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>194</span><span class=p>]:</span> <span class=n>ts2</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>6</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>195</span><span class=p>]:</span> <span class=n>ts2</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>195</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.244175</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>30</span>    <span class=mf>0.423331</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.654040</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>2.089154</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.060220</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.167933</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>196</span><span class=p>]:</span> <span class=n>ts2</span><span class=o>.</span><span class=n>to_period</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>196</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>0.244175</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>0.423331</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.654040</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>2.089154</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.060220</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.167933</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>è¦è½¬æ¢å›æ—¶é—´æˆ³ï¼Œä½¿ç”¨to_timestampå³å¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-80-1><a class=lnlinks href=#hl-80-1> 1</a>
</span><span class=lnt id=hl-80-2><a class=lnlinks href=#hl-80-2> 2</a>
</span><span class=lnt id=hl-80-3><a class=lnlinks href=#hl-80-3> 3</a>
</span><span class=lnt id=hl-80-4><a class=lnlinks href=#hl-80-4> 4</a>
</span><span class=lnt id=hl-80-5><a class=lnlinks href=#hl-80-5> 5</a>
</span><span class=lnt id=hl-80-6><a class=lnlinks href=#hl-80-6> 6</a>
</span><span class=lnt id=hl-80-7><a class=lnlinks href=#hl-80-7> 7</a>
</span><span class=lnt id=hl-80-8><a class=lnlinks href=#hl-80-8> 8</a>
</span><span class=lnt id=hl-80-9><a class=lnlinks href=#hl-80-9> 9</a>
</span><span class=lnt id=hl-80-10><a class=lnlinks href=#hl-80-10>10</a>
</span><span class=lnt id=hl-80-11><a class=lnlinks href=#hl-80-11>11</a>
</span><span class=lnt id=hl-80-12><a class=lnlinks href=#hl-80-12>12</a>
</span><span class=lnt id=hl-80-13><a class=lnlinks href=#hl-80-13>13</a>
</span><span class=lnt id=hl-80-14><a class=lnlinks href=#hl-80-14>14</a>
</span><span class=lnt id=hl-80-15><a class=lnlinks href=#hl-80-15>15</a>
</span><span class=lnt id=hl-80-16><a class=lnlinks href=#hl-80-16>16</a>
</span><span class=lnt id=hl-80-17><a class=lnlinks href=#hl-80-17>17</a>
</span><span class=lnt id=hl-80-18><a class=lnlinks href=#hl-80-18>18</a>
</span><span class=lnt id=hl-80-19><a class=lnlinks href=#hl-80-19>19</a>
</span><span class=lnt id=hl-80-20><a class=lnlinks href=#hl-80-20>20</a>
</span><span class=lnt id=hl-80-21><a class=lnlinks href=#hl-80-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>197</span><span class=p>]:</span> <span class=n>pts</span> <span class=o>=</span> <span class=n>ts2</span><span class=o>.</span><span class=n>to_period</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>198</span><span class=p>]:</span> <span class=n>pts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>198</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.244175</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>30</span>    <span class=mf>0.423331</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.654040</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>2.089154</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.060220</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.167933</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>199</span><span class=p>]:</span> <span class=n>pts</span><span class=o>.</span><span class=n>to_timestamp</span><span class=p>(</span><span class=n>how</span><span class=o>=</span><span class=s1>&#39;end&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>199</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.244175</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>30</span>    <span class=mf>0.423331</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.654040</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>2.089154</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>0.060220</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>0.167933</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><h3 id=1154-é€šè¿‡æ•°ç»„åˆ›å»ºperiodindex>11.5.4 é€šè¿‡æ•°ç»„åˆ›å»ºPeriodIndex
<a class=header-anchor href=#1154-%e9%80%9a%e8%bf%87%e6%95%b0%e7%bb%84%e5%88%9b%e5%bb%baperiodindex></a></h3><p>å›ºå®šé¢‘ç‡çš„æ•°æ®é›†é€šå¸¸ä¼šå°†æ—¶é—´ä¿¡æ¯åˆ†å¼€å­˜æ”¾åœ¨å¤šä¸ªåˆ—ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢è¿™ä¸ªå®è§‚ç»æµæ•°æ®é›†ä¸­ï¼Œå¹´åº¦å’Œå­£åº¦å°±åˆ†åˆ«å­˜æ”¾åœ¨ä¸åŒçš„åˆ—ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-81-1><a class=lnlinks href=#hl-81-1> 1</a>
</span><span class=lnt id=hl-81-2><a class=lnlinks href=#hl-81-2> 2</a>
</span><span class=lnt id=hl-81-3><a class=lnlinks href=#hl-81-3> 3</a>
</span><span class=lnt id=hl-81-4><a class=lnlinks href=#hl-81-4> 4</a>
</span><span class=lnt id=hl-81-5><a class=lnlinks href=#hl-81-5> 5</a>
</span><span class=lnt id=hl-81-6><a class=lnlinks href=#hl-81-6> 6</a>
</span><span class=lnt id=hl-81-7><a class=lnlinks href=#hl-81-7> 7</a>
</span><span class=lnt id=hl-81-8><a class=lnlinks href=#hl-81-8> 8</a>
</span><span class=lnt id=hl-81-9><a class=lnlinks href=#hl-81-9> 9</a>
</span><span class=lnt id=hl-81-10><a class=lnlinks href=#hl-81-10>10</a>
</span><span class=lnt id=hl-81-11><a class=lnlinks href=#hl-81-11>11</a>
</span><span class=lnt id=hl-81-12><a class=lnlinks href=#hl-81-12>12</a>
</span><span class=lnt id=hl-81-13><a class=lnlinks href=#hl-81-13>13</a>
</span><span class=lnt id=hl-81-14><a class=lnlinks href=#hl-81-14>14</a>
</span><span class=lnt id=hl-81-15><a class=lnlinks href=#hl-81-15>15</a>
</span><span class=lnt id=hl-81-16><a class=lnlinks href=#hl-81-16>16</a>
</span><span class=lnt id=hl-81-17><a class=lnlinks href=#hl-81-17>17</a>
</span><span class=lnt id=hl-81-18><a class=lnlinks href=#hl-81-18>18</a>
</span><span class=lnt id=hl-81-19><a class=lnlinks href=#hl-81-19>19</a>
</span><span class=lnt id=hl-81-20><a class=lnlinks href=#hl-81-20>20</a>
</span><span class=lnt id=hl-81-21><a class=lnlinks href=#hl-81-21>21</a>
</span><span class=lnt id=hl-81-22><a class=lnlinks href=#hl-81-22>22</a>
</span><span class=lnt id=hl-81-23><a class=lnlinks href=#hl-81-23>23</a>
</span><span class=lnt id=hl-81-24><a class=lnlinks href=#hl-81-24>24</a>
</span><span class=lnt id=hl-81-25><a class=lnlinks href=#hl-81-25>25</a>
</span><span class=lnt id=hl-81-26><a class=lnlinks href=#hl-81-26>26</a>
</span><span class=lnt id=hl-81-27><a class=lnlinks href=#hl-81-27>27</a>
</span><span class=lnt id=hl-81-28><a class=lnlinks href=#hl-81-28>28</a>
</span><span class=lnt id=hl-81-29><a class=lnlinks href=#hl-81-29>29</a>
</span><span class=lnt id=hl-81-30><a class=lnlinks href=#hl-81-30>30</a>
</span><span class=lnt id=hl-81-31><a class=lnlinks href=#hl-81-31>31</a>
</span><span class=lnt id=hl-81-32><a class=lnlinks href=#hl-81-32>32</a>
</span><span class=lnt id=hl-81-33><a class=lnlinks href=#hl-81-33>33</a>
</span><span class=lnt id=hl-81-34><a class=lnlinks href=#hl-81-34>34</a>
</span><span class=lnt id=hl-81-35><a class=lnlinks href=#hl-81-35>35</a>
</span><span class=lnt id=hl-81-36><a class=lnlinks href=#hl-81-36>36</a>
</span><span class=lnt id=hl-81-37><a class=lnlinks href=#hl-81-37>37</a>
</span><span class=lnt id=hl-81-38><a class=lnlinks href=#hl-81-38>38</a>
</span><span class=lnt id=hl-81-39><a class=lnlinks href=#hl-81-39>39</a>
</span><span class=lnt id=hl-81-40><a class=lnlinks href=#hl-81-40>40</a>
</span><span class=lnt id=hl-81-41><a class=lnlinks href=#hl-81-41>41</a>
</span><span class=lnt id=hl-81-42><a class=lnlinks href=#hl-81-42>42</a>
</span><span class=lnt id=hl-81-43><a class=lnlinks href=#hl-81-43>43</a>
</span><span class=lnt id=hl-81-44><a class=lnlinks href=#hl-81-44>44</a>
</span><span class=lnt id=hl-81-45><a class=lnlinks href=#hl-81-45>45</a>
</span><span class=lnt id=hl-81-46><a class=lnlinks href=#hl-81-46>46</a>
</span><span class=lnt id=hl-81-47><a class=lnlinks href=#hl-81-47>47</a>
</span><span class=lnt id=hl-81-48><a class=lnlinks href=#hl-81-48>48</a>
</span><span class=lnt id=hl-81-49><a class=lnlinks href=#hl-81-49>49</a>
</span><span class=lnt id=hl-81-50><a class=lnlinks href=#hl-81-50>50</a>
</span><span class=lnt id=hl-81-51><a class=lnlinks href=#hl-81-51>51</a>
</span><span class=lnt id=hl-81-52><a class=lnlinks href=#hl-81-52>52</a>
</span><span class=lnt id=hl-81-53><a class=lnlinks href=#hl-81-53>53</a>
</span><span class=lnt id=hl-81-54><a class=lnlinks href=#hl-81-54>54</a>
</span><span class=lnt id=hl-81-55><a class=lnlinks href=#hl-81-55>55</a>
</span><span class=lnt id=hl-81-56><a class=lnlinks href=#hl-81-56>56</a>
</span><span class=lnt id=hl-81-57><a class=lnlinks href=#hl-81-57>57</a>
</span><span class=lnt id=hl-81-58><a class=lnlinks href=#hl-81-58>58</a>
</span><span class=lnt id=hl-81-59><a class=lnlinks href=#hl-81-59>59</a>
</span><span class=lnt id=hl-81-60><a class=lnlinks href=#hl-81-60>60</a>
</span><span class=lnt id=hl-81-61><a class=lnlinks href=#hl-81-61>61</a>
</span><span class=lnt id=hl-81-62><a class=lnlinks href=#hl-81-62>62</a>
</span><span class=lnt id=hl-81-63><a class=lnlinks href=#hl-81-63>63</a>
</span><span class=lnt id=hl-81-64><a class=lnlinks href=#hl-81-64>64</a>
</span><span class=lnt id=hl-81-65><a class=lnlinks href=#hl-81-65>65</a>
</span><span class=lnt id=hl-81-66><a class=lnlinks href=#hl-81-66>66</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>200</span><span class=p>]:</span> <span class=n>data</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;examples/macrodata.csv&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>201</span><span class=p>]:</span> <span class=n>data</span><span class=o>.</span><span class=n>head</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>201</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>     <span class=n>year</span>  <span class=n>quarter</span>   <span class=n>realgdp</span>  <span class=n>realcons</span>  <span class=n>realinv</span>  <span class=n>realgovt</span>  <span class=n>realdpi</span>    <span class=n>cpi</span>  \
</span></span><span class=line><span class=cl><span class=mi>0</span>  <span class=mf>1959.0</span>      <span class=mf>1.0</span>  <span class=mf>2710.349</span>    <span class=mf>1707.4</span>  <span class=mf>286.898</span>   <span class=mf>470.045</span>   <span class=mf>1886.9</span>  <span class=mf>28.98</span>   
</span></span><span class=line><span class=cl><span class=mi>1</span>  <span class=mf>1959.0</span>      <span class=mf>2.0</span>  <span class=mf>2778.801</span>    <span class=mf>1733.7</span>  <span class=mf>310.859</span>   <span class=mf>481.301</span>   <span class=mf>1919.7</span>  <span class=mf>29.15</span>   
</span></span><span class=line><span class=cl><span class=mi>2</span>  <span class=mf>1959.0</span>      <span class=mf>3.0</span>  <span class=mf>2775.488</span>    <span class=mf>1751.8</span>  <span class=mf>289.226</span>   <span class=mf>491.260</span>   <span class=mf>1916.4</span>  <span class=mf>29.35</span>   
</span></span><span class=line><span class=cl><span class=mi>3</span>  <span class=mf>1959.0</span>      <span class=mf>4.0</span>  <span class=mf>2785.204</span>    <span class=mf>1753.7</span>  <span class=mf>299.356</span>   <span class=mf>484.052</span>   <span class=mf>1931.3</span>  <span class=mf>29.37</span>   
</span></span><span class=line><span class=cl><span class=mi>4</span>  <span class=mf>1960.0</span>      <span class=mf>1.0</span>  <span class=mf>2847.699</span>    <span class=mf>1770.5</span>  <span class=mf>331.722</span>   <span class=mf>462.199</span>   <span class=mf>1955.5</span>  <span class=mf>29.54</span>   
</span></span><span class=line><span class=cl>      <span class=n>m1</span>  <span class=n>tbilrate</span>  <span class=n>unemp</span>      <span class=n>pop</span>  <span class=n>infl</span>  <span class=n>realint</span>  
</span></span><span class=line><span class=cl><span class=mi>0</span>  <span class=mf>139.7</span>      <span class=mf>2.82</span>    <span class=mf>5.8</span>  <span class=mf>177.146</span>  <span class=mf>0.00</span>     <span class=mf>0.00</span>  
</span></span><span class=line><span class=cl><span class=mi>1</span>  <span class=mf>141.7</span>      <span class=mf>3.08</span>    <span class=mf>5.1</span>  <span class=mf>177.830</span>  <span class=mf>2.34</span>     <span class=mf>0.74</span>  
</span></span><span class=line><span class=cl><span class=mi>2</span>  <span class=mf>140.5</span>      <span class=mf>3.82</span>    <span class=mf>5.3</span>  <span class=mf>178.657</span>  <span class=mf>2.74</span>     <span class=mf>1.09</span>  
</span></span><span class=line><span class=cl><span class=mi>3</span>  <span class=mf>140.0</span>      <span class=mf>4.33</span>    <span class=mf>5.6</span>  <span class=mf>179.386</span>  <span class=mf>0.27</span>     <span class=mf>4.06</span>  
</span></span><span class=line><span class=cl><span class=mi>4</span>  <span class=mf>139.6</span>      <span class=mf>3.50</span>    <span class=mf>5.2</span>  <span class=mf>180.007</span>  <span class=mf>2.31</span>     <span class=mf>1.19</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>202</span><span class=p>]:</span> <span class=n>data</span><span class=o>.</span><span class=n>year</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>202</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>0</span>      <span class=mf>1959.0</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>      <span class=mf>1959.0</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>      <span class=mf>1959.0</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>      <span class=mf>1959.0</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>      <span class=mf>1960.0</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>      <span class=mf>1960.0</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>      <span class=mf>1960.0</span>
</span></span><span class=line><span class=cl><span class=mi>7</span>      <span class=mf>1960.0</span>
</span></span><span class=line><span class=cl><span class=mi>8</span>      <span class=mf>1961.0</span>
</span></span><span class=line><span class=cl><span class=mi>9</span>      <span class=mf>1961.0</span>
</span></span><span class=line><span class=cl>        <span class=o>...</span>  
</span></span><span class=line><span class=cl><span class=mi>193</span>    <span class=mf>2007.0</span>
</span></span><span class=line><span class=cl><span class=mi>194</span>    <span class=mf>2007.0</span>
</span></span><span class=line><span class=cl><span class=mi>195</span>    <span class=mf>2007.0</span>
</span></span><span class=line><span class=cl><span class=mi>196</span>    <span class=mf>2008.0</span>
</span></span><span class=line><span class=cl><span class=mi>197</span>    <span class=mf>2008.0</span>
</span></span><span class=line><span class=cl><span class=mi>198</span>    <span class=mf>2008.0</span>
</span></span><span class=line><span class=cl><span class=mi>199</span>    <span class=mf>2008.0</span>
</span></span><span class=line><span class=cl><span class=mi>200</span>    <span class=mf>2009.0</span>
</span></span><span class=line><span class=cl><span class=mi>201</span>    <span class=mf>2009.0</span>
</span></span><span class=line><span class=cl><span class=mi>202</span>    <span class=mf>2009.0</span>
</span></span><span class=line><span class=cl><span class=n>Name</span><span class=p>:</span> <span class=n>year</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>203</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>203</span><span class=p>]:</span> <span class=n>data</span><span class=o>.</span><span class=n>quarter</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>203</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>0</span>      <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>      <span class=mf>2.0</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>      <span class=mf>3.0</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>      <span class=mf>4.0</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>      <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>      <span class=mf>2.0</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>      <span class=mf>3.0</span>
</span></span><span class=line><span class=cl><span class=mi>7</span>      <span class=mf>4.0</span>
</span></span><span class=line><span class=cl><span class=mi>8</span>      <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=mi>9</span>      <span class=mf>2.0</span>
</span></span><span class=line><span class=cl>      <span class=o>...</span> 
</span></span><span class=line><span class=cl><span class=mi>193</span>    <span class=mf>2.0</span>
</span></span><span class=line><span class=cl><span class=mi>194</span>    <span class=mf>3.0</span>
</span></span><span class=line><span class=cl><span class=mi>195</span>    <span class=mf>4.0</span>
</span></span><span class=line><span class=cl><span class=mi>196</span>    <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=mi>197</span>    <span class=mf>2.0</span>
</span></span><span class=line><span class=cl><span class=mi>198</span>    <span class=mf>3.0</span>
</span></span><span class=line><span class=cl><span class=mi>199</span>    <span class=mf>4.0</span>
</span></span><span class=line><span class=cl><span class=mi>200</span>    <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=mi>201</span>    <span class=mf>2.0</span>
</span></span><span class=line><span class=cl><span class=mi>202</span>    <span class=mf>3.0</span>
</span></span><span class=line><span class=cl><span class=n>Name</span><span class=p>:</span> <span class=n>quarter</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>203</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡å°†è¿™äº›æ•°ç»„ä»¥åŠä¸€ä¸ªé¢‘ç‡ä¼ å…¥PeriodIndexï¼Œå°±å¯ä»¥å°†å®ƒä»¬åˆå¹¶æˆDataFrameçš„ä¸€ä¸ªç´¢å¼•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-82-1><a class=lnlinks href=#hl-82-1> 1</a>
</span><span class=lnt id=hl-82-2><a class=lnlinks href=#hl-82-2> 2</a>
</span><span class=lnt id=hl-82-3><a class=lnlinks href=#hl-82-3> 3</a>
</span><span class=lnt id=hl-82-4><a class=lnlinks href=#hl-82-4> 4</a>
</span><span class=lnt id=hl-82-5><a class=lnlinks href=#hl-82-5> 5</a>
</span><span class=lnt id=hl-82-6><a class=lnlinks href=#hl-82-6> 6</a>
</span><span class=lnt id=hl-82-7><a class=lnlinks href=#hl-82-7> 7</a>
</span><span class=lnt id=hl-82-8><a class=lnlinks href=#hl-82-8> 8</a>
</span><span class=lnt id=hl-82-9><a class=lnlinks href=#hl-82-9> 9</a>
</span><span class=lnt id=hl-82-10><a class=lnlinks href=#hl-82-10>10</a>
</span><span class=lnt id=hl-82-11><a class=lnlinks href=#hl-82-11>11</a>
</span><span class=lnt id=hl-82-12><a class=lnlinks href=#hl-82-12>12</a>
</span><span class=lnt id=hl-82-13><a class=lnlinks href=#hl-82-13>13</a>
</span><span class=lnt id=hl-82-14><a class=lnlinks href=#hl-82-14>14</a>
</span><span class=lnt id=hl-82-15><a class=lnlinks href=#hl-82-15>15</a>
</span><span class=lnt id=hl-82-16><a class=lnlinks href=#hl-82-16>16</a>
</span><span class=lnt id=hl-82-17><a class=lnlinks href=#hl-82-17>17</a>
</span><span class=lnt id=hl-82-18><a class=lnlinks href=#hl-82-18>18</a>
</span><span class=lnt id=hl-82-19><a class=lnlinks href=#hl-82-19>19</a>
</span><span class=lnt id=hl-82-20><a class=lnlinks href=#hl-82-20>20</a>
</span><span class=lnt id=hl-82-21><a class=lnlinks href=#hl-82-21>21</a>
</span><span class=lnt id=hl-82-22><a class=lnlinks href=#hl-82-22>22</a>
</span><span class=lnt id=hl-82-23><a class=lnlinks href=#hl-82-23>23</a>
</span><span class=lnt id=hl-82-24><a class=lnlinks href=#hl-82-24>24</a>
</span><span class=lnt id=hl-82-25><a class=lnlinks href=#hl-82-25>25</a>
</span><span class=lnt id=hl-82-26><a class=lnlinks href=#hl-82-26>26</a>
</span><span class=lnt id=hl-82-27><a class=lnlinks href=#hl-82-27>27</a>
</span><span class=lnt id=hl-82-28><a class=lnlinks href=#hl-82-28>28</a>
</span><span class=lnt id=hl-82-29><a class=lnlinks href=#hl-82-29>29</a>
</span><span class=lnt id=hl-82-30><a class=lnlinks href=#hl-82-30>30</a>
</span><span class=lnt id=hl-82-31><a class=lnlinks href=#hl-82-31>31</a>
</span><span class=lnt id=hl-82-32><a class=lnlinks href=#hl-82-32>32</a>
</span><span class=lnt id=hl-82-33><a class=lnlinks href=#hl-82-33>33</a>
</span><span class=lnt id=hl-82-34><a class=lnlinks href=#hl-82-34>34</a>
</span><span class=lnt id=hl-82-35><a class=lnlinks href=#hl-82-35>35</a>
</span><span class=lnt id=hl-82-36><a class=lnlinks href=#hl-82-36>36</a>
</span><span class=lnt id=hl-82-37><a class=lnlinks href=#hl-82-37>37</a>
</span><span class=lnt id=hl-82-38><a class=lnlinks href=#hl-82-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>204</span><span class=p>]:</span> <span class=n>index</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>PeriodIndex</span><span class=p>(</span><span class=n>year</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>year</span><span class=p>,</span> <span class=n>quarter</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>quarter</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                        <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>205</span><span class=p>]:</span> <span class=n>index</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>205</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=n>PeriodIndex</span><span class=p>([</span><span class=s1>&#39;1959Q1&#39;</span><span class=p>,</span> <span class=s1>&#39;1959Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;1959Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;1959Q4&#39;</span><span class=p>,</span> <span class=s1>&#39;1960Q1&#39;</span><span class=p>,</span> <span class=s1>&#39;1960Q2&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=s1>&#39;1960Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;1960Q4&#39;</span><span class=p>,</span> <span class=s1>&#39;1961Q1&#39;</span><span class=p>,</span> <span class=s1>&#39;1961Q2&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=o>...</span>
</span></span><span class=line><span class=cl>             <span class=s1>&#39;2007Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;2007Q3&#39;</span><span class=p>,</span> <span class=s1>&#39;2007Q4&#39;</span><span class=p>,</span> <span class=s1>&#39;2008Q1&#39;</span><span class=p>,</span> <span class=s1>&#39;2008Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;2008Q3&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=s1>&#39;2008Q4&#39;</span><span class=p>,</span> <span class=s1>&#39;2009Q1&#39;</span><span class=p>,</span> <span class=s1>&#39;2009Q2&#39;</span><span class=p>,</span> <span class=s1>&#39;2009Q3&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;period[Q-DEC]&#39;</span><span class=p>,</span> <span class=n>length</span><span class=o>=</span><span class=mi>203</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>206</span><span class=p>]:</span> <span class=n>data</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=n>index</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>207</span><span class=p>]:</span> <span class=n>data</span><span class=o>.</span><span class=n>infl</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>207</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>1959</span><span class=n>Q1</span>    <span class=mf>0.00</span>
</span></span><span class=line><span class=cl><span class=mi>1959</span><span class=n>Q2</span>    <span class=mf>2.34</span>
</span></span><span class=line><span class=cl><span class=mi>1959</span><span class=n>Q3</span>    <span class=mf>2.74</span>
</span></span><span class=line><span class=cl><span class=mi>1959</span><span class=n>Q4</span>    <span class=mf>0.27</span>
</span></span><span class=line><span class=cl><span class=mi>1960</span><span class=n>Q1</span>    <span class=mf>2.31</span>
</span></span><span class=line><span class=cl><span class=mi>1960</span><span class=n>Q2</span>    <span class=mf>0.14</span>
</span></span><span class=line><span class=cl><span class=mi>1960</span><span class=n>Q3</span>    <span class=mf>2.70</span>
</span></span><span class=line><span class=cl><span class=mi>1960</span><span class=n>Q4</span>    <span class=mf>1.21</span>
</span></span><span class=line><span class=cl><span class=mi>1961</span><span class=n>Q1</span>   <span class=o>-</span><span class=mf>0.40</span>
</span></span><span class=line><span class=cl><span class=mi>1961</span><span class=n>Q2</span>    <span class=mf>1.47</span>
</span></span><span class=line><span class=cl>          <span class=o>...</span> 
</span></span><span class=line><span class=cl><span class=mi>2007</span><span class=n>Q2</span>    <span class=mf>2.75</span>
</span></span><span class=line><span class=cl><span class=mi>2007</span><span class=n>Q3</span>    <span class=mf>3.45</span>
</span></span><span class=line><span class=cl><span class=mi>2007</span><span class=n>Q4</span>    <span class=mf>6.38</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=n>Q1</span>    <span class=mf>2.82</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=n>Q2</span>    <span class=mf>8.53</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=n>Q3</span>   <span class=o>-</span><span class=mf>3.16</span>
</span></span><span class=line><span class=cl><span class=mi>2008</span><span class=n>Q4</span>   <span class=o>-</span><span class=mf>8.79</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span><span class=n>Q1</span>    <span class=mf>0.94</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span><span class=n>Q2</span>    <span class=mf>3.37</span>
</span></span><span class=line><span class=cl><span class=mi>2009</span><span class=n>Q3</span>    <span class=mf>3.56</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>Q</span><span class=o>-</span><span class=n>DEC</span><span class=p>,</span> <span class=n>Name</span><span class=p>:</span> <span class=n>infl</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>203</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><h2 id=116-é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢>11.6 é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢
<a class=header-anchor href=#116-%e9%87%8d%e9%87%87%e6%a0%b7%e5%8f%8a%e9%a2%91%e7%8e%87%e8%bd%ac%e6%8d%a2></a></h2><p>é‡é‡‡æ ·ï¼ˆresamplingï¼‰æŒ‡çš„æ˜¯å°†æ—¶é—´åºåˆ—ä»ä¸€ä¸ªé¢‘ç‡è½¬æ¢åˆ°å¦ä¸€ä¸ªé¢‘ç‡çš„å¤„ç†è¿‡ç¨‹ã€‚å°†é«˜é¢‘ç‡æ•°æ®èšåˆåˆ°ä½é¢‘ç‡ç§°ä¸ºé™é‡‡æ ·ï¼ˆdownsamplingï¼‰ï¼Œè€Œå°†ä½é¢‘ç‡æ•°æ®è½¬æ¢åˆ°é«˜é¢‘ç‡åˆ™ç§°ä¸ºå‡é‡‡æ ·ï¼ˆupsamplingï¼‰ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„é‡é‡‡æ ·éƒ½èƒ½è¢«åˆ’åˆ†åˆ°è¿™ä¸¤ä¸ªå¤§ç±»ä¸­ã€‚ä¾‹å¦‚ï¼Œå°†W-WEDï¼ˆæ¯å‘¨ä¸‰ï¼‰è½¬æ¢ä¸ºW-FRIæ—¢ä¸æ˜¯é™é‡‡æ ·ä¹Ÿä¸æ˜¯å‡é‡‡æ ·ã€‚</p><p>pandaså¯¹è±¡éƒ½å¸¦æœ‰ä¸€ä¸ªresampleæ–¹æ³•ï¼Œå®ƒæ˜¯å„ç§é¢‘ç‡è½¬æ¢å·¥ä½œçš„ä¸»åŠ›å‡½æ•°ã€‚resampleæœ‰ä¸€ä¸ªç±»ä¼¼äºgroupbyçš„APIï¼Œè°ƒç”¨resampleå¯ä»¥åˆ†ç»„æ•°æ®ï¼Œç„¶åä¼šè°ƒç”¨ä¸€ä¸ªèšåˆå‡½æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-83-1><a class=lnlinks href=#hl-83-1> 1</a>
</span><span class=lnt id=hl-83-2><a class=lnlinks href=#hl-83-2> 2</a>
</span><span class=lnt id=hl-83-3><a class=lnlinks href=#hl-83-3> 3</a>
</span><span class=lnt id=hl-83-4><a class=lnlinks href=#hl-83-4> 4</a>
</span><span class=lnt id=hl-83-5><a class=lnlinks href=#hl-83-5> 5</a>
</span><span class=lnt id=hl-83-6><a class=lnlinks href=#hl-83-6> 6</a>
</span><span class=lnt id=hl-83-7><a class=lnlinks href=#hl-83-7> 7</a>
</span><span class=lnt id=hl-83-8><a class=lnlinks href=#hl-83-8> 8</a>
</span><span class=lnt id=hl-83-9><a class=lnlinks href=#hl-83-9> 9</a>
</span><span class=lnt id=hl-83-10><a class=lnlinks href=#hl-83-10>10</a>
</span><span class=lnt id=hl-83-11><a class=lnlinks href=#hl-83-11>11</a>
</span><span class=lnt id=hl-83-12><a class=lnlinks href=#hl-83-12>12</a>
</span><span class=lnt id=hl-83-13><a class=lnlinks href=#hl-83-13>13</a>
</span><span class=lnt id=hl-83-14><a class=lnlinks href=#hl-83-14>14</a>
</span><span class=lnt id=hl-83-15><a class=lnlinks href=#hl-83-15>15</a>
</span><span class=lnt id=hl-83-16><a class=lnlinks href=#hl-83-16>16</a>
</span><span class=lnt id=hl-83-17><a class=lnlinks href=#hl-83-17>17</a>
</span><span class=lnt id=hl-83-18><a class=lnlinks href=#hl-83-18>18</a>
</span><span class=lnt id=hl-83-19><a class=lnlinks href=#hl-83-19>19</a>
</span><span class=lnt id=hl-83-20><a class=lnlinks href=#hl-83-20>20</a>
</span><span class=lnt id=hl-83-21><a class=lnlinks href=#hl-83-21>21</a>
</span><span class=lnt id=hl-83-22><a class=lnlinks href=#hl-83-22>22</a>
</span><span class=lnt id=hl-83-23><a class=lnlinks href=#hl-83-23>23</a>
</span><span class=lnt id=hl-83-24><a class=lnlinks href=#hl-83-24>24</a>
</span><span class=lnt id=hl-83-25><a class=lnlinks href=#hl-83-25>25</a>
</span><span class=lnt id=hl-83-26><a class=lnlinks href=#hl-83-26>26</a>
</span><span class=lnt id=hl-83-27><a class=lnlinks href=#hl-83-27>27</a>
</span><span class=lnt id=hl-83-28><a class=lnlinks href=#hl-83-28>28</a>
</span><span class=lnt id=hl-83-29><a class=lnlinks href=#hl-83-29>29</a>
</span><span class=lnt id=hl-83-30><a class=lnlinks href=#hl-83-30>30</a>
</span><span class=lnt id=hl-83-31><a class=lnlinks href=#hl-83-31>31</a>
</span><span class=lnt id=hl-83-32><a class=lnlinks href=#hl-83-32>32</a>
</span><span class=lnt id=hl-83-33><a class=lnlinks href=#hl-83-33>33</a>
</span><span class=lnt id=hl-83-34><a class=lnlinks href=#hl-83-34>34</a>
</span><span class=lnt id=hl-83-35><a class=lnlinks href=#hl-83-35>35</a>
</span><span class=lnt id=hl-83-36><a class=lnlinks href=#hl-83-36>36</a>
</span><span class=lnt id=hl-83-37><a class=lnlinks href=#hl-83-37>37</a>
</span><span class=lnt id=hl-83-38><a class=lnlinks href=#hl-83-38>38</a>
</span><span class=lnt id=hl-83-39><a class=lnlinks href=#hl-83-39>39</a>
</span><span class=lnt id=hl-83-40><a class=lnlinks href=#hl-83-40>40</a>
</span><span class=lnt id=hl-83-41><a class=lnlinks href=#hl-83-41>41</a>
</span><span class=lnt id=hl-83-42><a class=lnlinks href=#hl-83-42>42</a>
</span><span class=lnt id=hl-83-43><a class=lnlinks href=#hl-83-43>43</a>
</span><span class=lnt id=hl-83-44><a class=lnlinks href=#hl-83-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>208</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>209</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rng</span><span class=p>)),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>210</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>210</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>    <span class=mf>0.631634</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>   <span class=o>-</span><span class=mf>1.594313</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>   <span class=o>-</span><span class=mf>1.519937</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>04</span>    <span class=mf>1.108752</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span>    <span class=mf>1.255853</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span>   <span class=o>-</span><span class=mf>0.024330</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>   <span class=o>-</span><span class=mf>2.047939</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>0.272657</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>   <span class=o>-</span><span class=mf>1.692615</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>1.423830</span>
</span></span><span class=line><span class=cl>                <span class=o>...</span>   
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.007852</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>1.638806</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>1.401227</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>1.758539</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>04</span>    <span class=mf>0.628932</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>05</span>   <span class=o>-</span><span class=mf>0.423776</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>06</span>    <span class=mf>0.789740</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>07</span>    <span class=mf>0.937568</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>08</span>   <span class=o>-</span><span class=mf>2.253294</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>09</span>   <span class=o>-</span><span class=mf>1.772919</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>D</span><span class=p>,</span> <span class=n>Length</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>211</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>211</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>31</span>   <span class=o>-</span><span class=mf>0.165893</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>29</span>    <span class=mf>0.078606</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span><span class=o>-</span><span class=mi>31</span>    <span class=mf>0.223811</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>30</span>   <span class=o>-</span><span class=mf>0.063643</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>212</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;period&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>212</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>   <span class=o>-</span><span class=mf>0.165893</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>0.078606</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>0.223811</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span>   <span class=o>-</span><span class=mf>0.063643</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>M</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span></span></span></code></pre></td></tr></table></div></div><p>resampleæ˜¯ä¸€ä¸ªçµæ´»é«˜æ•ˆçš„æ–¹æ³•ï¼Œå¯ç”¨äºå¤„ç†éå¸¸å¤§çš„æ—¶é—´åºåˆ—ã€‚æˆ‘å°†é€šè¿‡ä¸€ç³»åˆ—çš„ç¤ºä¾‹è¯´æ˜å…¶ç”¨æ³•ã€‚è¡¨11-5æ€»ç»“å®ƒçš„ä¸€äº›é€‰é¡¹ã€‚</p><p>è¡¨11-5 resampleæ–¹æ³•çš„å‚æ•°
<img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122022359.png alt></p><h3 id=1161-é™é‡‡æ ·>11.6.1 é™é‡‡æ ·
<a class=header-anchor href=#1161-%e9%99%8d%e9%87%87%e6%a0%b7></a></h3><p>å°†æ•°æ®èšåˆåˆ°è§„å¾‹çš„ä½é¢‘ç‡æ˜¯ä¸€ä»¶éå¸¸æ™®é€šçš„æ—¶é—´åºåˆ—å¤„ç†ä»»åŠ¡ã€‚å¾…èšåˆçš„æ•°æ®ä¸å¿…æ‹¥æœ‰å›ºå®šçš„é¢‘ç‡ï¼ŒæœŸæœ›çš„é¢‘ç‡ä¼šè‡ªåŠ¨å®šä¹‰èšåˆçš„é¢å…ƒè¾¹ç•Œï¼Œè¿™äº›é¢å…ƒç”¨äºå°†æ—¶é—´åºåˆ—æ‹†åˆ†ä¸ºå¤šä¸ªç‰‡æ®µã€‚ä¾‹å¦‚ï¼Œè¦è½¬æ¢åˆ°æœˆåº¦é¢‘ç‡ï¼ˆ&lsquo;M&rsquo;æˆ–&rsquo;BM&rsquo;ï¼‰ï¼Œæ•°æ®éœ€è¦è¢«åˆ’åˆ†åˆ°å¤šä¸ªå•æœˆæ—¶é—´æ®µä¸­ã€‚å„æ—¶é—´æ®µéƒ½æ˜¯åŠå¼€æ”¾çš„ã€‚ä¸€ä¸ªæ•°æ®ç‚¹åªèƒ½å±äºä¸€ä¸ªæ—¶é—´æ®µï¼Œæ‰€æœ‰æ—¶é—´æ®µçš„å¹¶é›†å¿…é¡»èƒ½ç»„æˆæ•´ä¸ªæ—¶é—´å¸§ã€‚åœ¨ç”¨resampleå¯¹æ•°æ®è¿›è¡Œé™é‡‡æ ·æ—¶ï¼Œéœ€è¦è€ƒè™‘ä¸¤æ ·ä¸œè¥¿ï¼š</p><ul><li>å„åŒºé—´å“ªè¾¹æ˜¯é—­åˆçš„ã€‚</li><li>å¦‚ä½•æ ‡è®°å„ä¸ªèšåˆé¢å…ƒï¼Œç”¨åŒºé—´çš„å¼€å¤´è¿˜æ˜¯æœ«å°¾ã€‚</li></ul><p>ä¸ºäº†è¯´æ˜ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›â€œ1åˆ†é’Ÿâ€æ•°æ®ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-84-1><a class=lnlinks href=#hl-84-1> 1</a>
</span><span class=lnt id=hl-84-2><a class=lnlinks href=#hl-84-2> 2</a>
</span><span class=lnt id=hl-84-3><a class=lnlinks href=#hl-84-3> 3</a>
</span><span class=lnt id=hl-84-4><a class=lnlinks href=#hl-84-4> 4</a>
</span><span class=lnt id=hl-84-5><a class=lnlinks href=#hl-84-5> 5</a>
</span><span class=lnt id=hl-84-6><a class=lnlinks href=#hl-84-6> 6</a>
</span><span class=lnt id=hl-84-7><a class=lnlinks href=#hl-84-7> 7</a>
</span><span class=lnt id=hl-84-8><a class=lnlinks href=#hl-84-8> 8</a>
</span><span class=lnt id=hl-84-9><a class=lnlinks href=#hl-84-9> 9</a>
</span><span class=lnt id=hl-84-10><a class=lnlinks href=#hl-84-10>10</a>
</span><span class=lnt id=hl-84-11><a class=lnlinks href=#hl-84-11>11</a>
</span><span class=lnt id=hl-84-12><a class=lnlinks href=#hl-84-12>12</a>
</span><span class=lnt id=hl-84-13><a class=lnlinks href=#hl-84-13>13</a>
</span><span class=lnt id=hl-84-14><a class=lnlinks href=#hl-84-14>14</a>
</span><span class=lnt id=hl-84-15><a class=lnlinks href=#hl-84-15>15</a>
</span><span class=lnt id=hl-84-16><a class=lnlinks href=#hl-84-16>16</a>
</span><span class=lnt id=hl-84-17><a class=lnlinks href=#hl-84-17>17</a>
</span><span class=lnt id=hl-84-18><a class=lnlinks href=#hl-84-18>18</a>
</span><span class=lnt id=hl-84-19><a class=lnlinks href=#hl-84-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>213</span><span class=p>]:</span> <span class=n>rng</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;T&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>214</span><span class=p>]:</span> <span class=n>ts</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>12</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=n>rng</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>215</span><span class=p>]:</span> <span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>215</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>01</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>02</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>03</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>04</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>06</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>6</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>07</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>7</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>08</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>8</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>09</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>11</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>11</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>T</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>å‡è®¾ä½ æƒ³è¦é€šè¿‡æ±‚å’Œçš„æ–¹å¼å°†è¿™äº›æ•°æ®èšåˆåˆ°â€œ5åˆ†é’Ÿâ€å—ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-85-1><a class=lnlinks href=#hl-85-1>1</a>
</span><span class=lnt id=hl-85-2><a class=lnlinks href=#hl-85-2>2</a>
</span><span class=lnt id=hl-85-3><a class=lnlinks href=#hl-85-3>3</a>
</span><span class=lnt id=hl-85-4><a class=lnlinks href=#hl-85-4>4</a>
</span><span class=lnt id=hl-85-5><a class=lnlinks href=#hl-85-5>5</a>
</span><span class=lnt id=hl-85-6><a class=lnlinks href=#hl-85-6>6</a>
</span><span class=lnt id=hl-85-7><a class=lnlinks href=#hl-85-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>216</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>,</span> <span class=n>closed</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>216</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>1999</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span> <span class=mi>23</span><span class=p>:</span><span class=mi>55</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>15</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>40</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>11</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=mi>5</span><span class=n>T</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>ä¼ å…¥çš„é¢‘ç‡å°†ä¼šä»¥â€œ5åˆ†é’Ÿâ€çš„å¢é‡å®šä¹‰é¢å…ƒè¾¹ç•Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé¢å…ƒçš„å³è¾¹ç•Œæ˜¯åŒ…å«çš„ï¼Œå› æ­¤00:00åˆ°00:05çš„åŒºé—´ä¸­æ˜¯åŒ…å«00:05çš„ã€‚ä¼ å…¥closed=&lsquo;left&rsquo;ä¼šè®©åŒºé—´ä»¥å·¦è¾¹ç•Œé—­åˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-86-1><a class=lnlinks href=#hl-86-1>1</a>
</span><span class=lnt id=hl-86-2><a class=lnlinks href=#hl-86-2>2</a>
</span><span class=lnt id=hl-86-3><a class=lnlinks href=#hl-86-3>3</a>
</span><span class=lnt id=hl-86-4><a class=lnlinks href=#hl-86-4>4</a>
</span><span class=lnt id=hl-86-5><a class=lnlinks href=#hl-86-5>5</a>
</span><span class=lnt id=hl-86-6><a class=lnlinks href=#hl-86-6>6</a>
</span><span class=lnt id=hl-86-7><a class=lnlinks href=#hl-86-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>217</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>,</span> <span class=n>closed</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>217</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>1999</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span> <span class=mi>23</span><span class=p>:</span><span class=mi>55</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>15</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>40</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>11</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=mi>5</span><span class=n>T</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>å¦‚ä½ æ‰€è§ï¼Œæœ€ç»ˆçš„æ—¶é—´åºåˆ—æ˜¯ä»¥å„é¢å…ƒå³è¾¹ç•Œçš„æ—¶é—´æˆ³è¿›è¡Œæ ‡è®°çš„ã€‚ä¼ å…¥label=&lsquo;right&rsquo;å³å¯ç”¨é¢å…ƒçš„é‚®ç¼–ç•Œå¯¹å…¶è¿›è¡Œæ ‡è®°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-87-1><a class=lnlinks href=#hl-87-1>1</a>
</span><span class=lnt id=hl-87-2><a class=lnlinks href=#hl-87-2>2</a>
</span><span class=lnt id=hl-87-3><a class=lnlinks href=#hl-87-3>3</a>
</span><span class=lnt id=hl-87-4><a class=lnlinks href=#hl-87-4>4</a>
</span><span class=lnt id=hl-87-5><a class=lnlinks href=#hl-87-5>5</a>
</span><span class=lnt id=hl-87-6><a class=lnlinks href=#hl-87-6>6</a>
</span><span class=lnt id=hl-87-7><a class=lnlinks href=#hl-87-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>218</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>,</span> <span class=n>closed</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>218</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>15</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>40</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>15</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>11</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=mi>5</span><span class=n>T</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>int64</span></span></span></code></pre></td></tr></table></div></div><p>å›¾11-3è¯´æ˜äº†â€œ1åˆ†é’Ÿâ€æ•°æ®è¢«è½¬æ¢ä¸ºâ€œ5åˆ†é’Ÿâ€æ•°æ®çš„å¤„ç†è¿‡ç¨‹ã€‚</p><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122053525.png alt="å›¾11-3 å„ç§closedã€labelçº¦å®šçš„â€œ5åˆ†é’Ÿâ€é‡é‡‡æ ·æ¼”ç¤º"></p><p>æœ€åï¼Œä½ å¯èƒ½å¸Œæœ›å¯¹ç»“æœç´¢å¼•åšä¸€äº›ä½ç§»ï¼Œæ¯”å¦‚ä»å³è¾¹ç•Œå‡å»ä¸€ç§’ä»¥ä¾¿æ›´å®¹æ˜“æ˜ç™½è¯¥æ—¶é—´æˆ³åˆ°åº•è¡¨ç¤ºçš„æ˜¯å“ªä¸ªåŒºé—´ã€‚åªéœ€é€šè¿‡loffsetè®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ—¥æœŸåç§»é‡å³å¯å®ç°è¿™ä¸ªç›®çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-88-1><a class=lnlinks href=#hl-88-1> 1</a>
</span><span class=lnt id=hl-88-2><a class=lnlinks href=#hl-88-2> 2</a>
</span><span class=lnt id=hl-88-3><a class=lnlinks href=#hl-88-3> 3</a>
</span><span class=lnt id=hl-88-4><a class=lnlinks href=#hl-88-4> 4</a>
</span><span class=lnt id=hl-88-5><a class=lnlinks href=#hl-88-5> 5</a>
</span><span class=lnt id=hl-88-6><a class=lnlinks href=#hl-88-6> 6</a>
</span><span class=lnt id=hl-88-7><a class=lnlinks href=#hl-88-7> 7</a>
</span><span class=lnt id=hl-88-8><a class=lnlinks href=#hl-88-8> 8</a>
</span><span class=lnt id=hl-88-9><a class=lnlinks href=#hl-88-9> 9</a>
</span><span class=lnt id=hl-88-10><a class=lnlinks href=#hl-88-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>219</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>,</span> <span class=n>closed</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>             <span class=n>label</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>,</span> <span class=n>loffset</span><span class=o>=</span><span class=s1>&#39;-1s&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>219</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>1999</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span> <span class=mi>23</span><span class=p>:</span><span class=mi>59</span><span class=p>:</span><span class=mi>59</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>04</span><span class=p>:</span><span class=mi>59</span>    <span class=mi>15</span>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>219</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>,</span> <span class=n>closed</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>             <span class=n>label</span><span class=o>=</span><span class=s1>&#39;right&#39;</span><span class=p>,</span> <span class=n>loffset</span><span class=o>=</span><span class=s1>&#39;-1s&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>219</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>1999</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>31</span> <span class=mi>23</span><span class=p>:</span><span class=mi>59</span><span class=p>:</span><span class=mi>59</span>     <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>04</span><span class=p>:</span><span class=mi>59</span>    <span class=mi>15</span></span></span></code></pre></td></tr></table></div></div><p>æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ç»“æœå¯¹è±¡çš„shiftæ–¹æ³•æ¥å®ç°è¯¥ç›®çš„ï¼Œè¿™æ ·å°±ä¸éœ€è¦è®¾ç½®loffsetäº†ã€‚</p><p>##OHLCé‡é‡‡æ ·</p><p>é‡‘èé¢†åŸŸä¸­æœ‰ä¸€ç§æ— æ‰€ä¸åœ¨çš„æ—¶é—´åºåˆ—èšåˆæ–¹å¼ï¼Œå³è®¡ç®—å„é¢å…ƒçš„å››ä¸ªå€¼ï¼šç¬¬ä¸€ä¸ªå€¼ï¼ˆopenï¼Œå¼€ç›˜ï¼‰ã€æœ€åä¸€ä¸ªå€¼ï¼ˆcloseï¼Œæ”¶ç›˜ï¼‰ã€æœ€å¤§å€¼ï¼ˆhighï¼Œæœ€é«˜ï¼‰ä»¥åŠæœ€å°å€¼ï¼ˆlowï¼Œæœ€ä½ï¼‰ã€‚ä¼ å…¥how=&lsquo;ohlc&rsquo;å³å¯å¾—åˆ°ä¸€ä¸ªå«æœ‰è¿™å››ç§èšåˆå€¼çš„DataFrameã€‚æ•´ä¸ªè¿‡ç¨‹å¾ˆé«˜æ•ˆï¼Œåªéœ€ä¸€æ¬¡æ‰«æå³å¯è®¡ç®—å‡ºç»“æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-89-1><a class=lnlinks href=#hl-89-1>1</a>
</span><span class=lnt id=hl-89-2><a class=lnlinks href=#hl-89-2>2</a>
</span><span class=lnt id=hl-89-3><a class=lnlinks href=#hl-89-3>3</a>
</span><span class=lnt id=hl-89-4><a class=lnlinks href=#hl-89-4>4</a>
</span><span class=lnt id=hl-89-5><a class=lnlinks href=#hl-89-5>5</a>
</span><span class=lnt id=hl-89-6><a class=lnlinks href=#hl-89-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>220</span><span class=p>]:</span> <span class=n>ts</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;5min&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ohlc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>220</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>                     <span class=nb>open</span>  <span class=n>high</span>  <span class=n>low</span>  <span class=n>close</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>0</span>     <span class=mi>4</span>    <span class=mi>0</span>      <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>05</span><span class=p>:</span><span class=mi>00</span>     <span class=mi>5</span>     <span class=mi>9</span>    <span class=mi>5</span>      <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>00</span>    <span class=mi>10</span>    <span class=mi>11</span>   <span class=mi>10</span>     <span class=mi>11</span></span></span></code></pre></td></tr></table></div></div><p>##å‡é‡‡æ ·å’Œæ’å€¼</p><p>åœ¨å°†æ•°æ®ä»ä½é¢‘ç‡è½¬æ¢åˆ°é«˜é¢‘ç‡æ—¶ï¼Œå°±ä¸éœ€è¦èšåˆäº†ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¸¦æœ‰ä¸€äº›å‘¨å‹æ•°æ®çš„DataFrameï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-90-1><a class=lnlinks href=#hl-90-1> 1</a>
</span><span class=lnt id=hl-90-2><a class=lnlinks href=#hl-90-2> 2</a>
</span><span class=lnt id=hl-90-3><a class=lnlinks href=#hl-90-3> 3</a>
</span><span class=lnt id=hl-90-4><a class=lnlinks href=#hl-90-4> 4</a>
</span><span class=lnt id=hl-90-5><a class=lnlinks href=#hl-90-5> 5</a>
</span><span class=lnt id=hl-90-6><a class=lnlinks href=#hl-90-6> 6</a>
</span><span class=lnt id=hl-90-7><a class=lnlinks href=#hl-90-7> 7</a>
</span><span class=lnt id=hl-90-8><a class=lnlinks href=#hl-90-8> 8</a>
</span><span class=lnt id=hl-90-9><a class=lnlinks href=#hl-90-9> 9</a>
</span><span class=lnt id=hl-90-10><a class=lnlinks href=#hl-90-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>221</span><span class=p>]:</span> <span class=n>frame</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                      <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>&#39;1/1/2000&#39;</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                                          <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;W-WED&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                      <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;Colorado&#39;</span><span class=p>,</span> <span class=s1>&#39;Texas&#39;</span><span class=p>,</span> <span class=s1>&#39;New York&#39;</span><span class=p>,</span> <span class=s1>&#39;Ohio&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>222</span><span class=p>]:</span> <span class=n>frame</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>222</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span> <span class=o>-</span><span class=mf>0.046662</span>  <span class=mf>0.927238</span>  <span class=mf>0.482284</span> <span class=o>-</span><span class=mf>0.867130</span></span></span></code></pre></td></tr></table></div></div><p>å½“ä½ å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œèšåˆï¼Œæ¯ç»„åªæœ‰ä¸€ä¸ªå€¼ï¼Œè¿™æ ·å°±ä¼šå¼•å…¥ç¼ºå¤±å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨asfreqæ–¹æ³•è½¬æ¢æˆé«˜é¢‘ï¼Œä¸ç»è¿‡èšåˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-91-1><a class=lnlinks href=#hl-91-1> 1</a>
</span><span class=lnt id=hl-91-2><a class=lnlinks href=#hl-91-2> 2</a>
</span><span class=lnt id=hl-91-3><a class=lnlinks href=#hl-91-3> 3</a>
</span><span class=lnt id=hl-91-4><a class=lnlinks href=#hl-91-4> 4</a>
</span><span class=lnt id=hl-91-5><a class=lnlinks href=#hl-91-5> 5</a>
</span><span class=lnt id=hl-91-6><a class=lnlinks href=#hl-91-6> 6</a>
</span><span class=lnt id=hl-91-7><a class=lnlinks href=#hl-91-7> 7</a>
</span><span class=lnt id=hl-91-8><a class=lnlinks href=#hl-91-8> 8</a>
</span><span class=lnt id=hl-91-9><a class=lnlinks href=#hl-91-9> 9</a>
</span><span class=lnt id=hl-91-10><a class=lnlinks href=#hl-91-10>10</a>
</span><span class=lnt id=hl-91-11><a class=lnlinks href=#hl-91-11>11</a>
</span><span class=lnt id=hl-91-12><a class=lnlinks href=#hl-91-12>12</a>
</span><span class=lnt id=hl-91-13><a class=lnlinks href=#hl-91-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>223</span><span class=p>]:</span> <span class=n>df_daily</span> <span class=o>=</span> <span class=n>frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>asfreq</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>224</span><span class=p>]:</span> <span class=n>df_daily</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>224</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>11</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span> <span class=o>-</span><span class=mf>0.046662</span>  <span class=mf>0.927238</span>  <span class=mf>0.482284</span> <span class=o>-</span><span class=mf>0.867130</span></span></span></code></pre></td></tr></table></div></div><p>å‡è®¾ä½ æƒ³è¦ç”¨å‰é¢çš„å‘¨å‹å€¼å¡«å……â€œéæ˜ŸæœŸä¸‰â€ã€‚resamplingçš„å¡«å……å’Œæ’å€¼æ–¹å¼è·Ÿfillnaå’Œreindexçš„ä¸€æ ·ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-92-1><a class=lnlinks href=#hl-92-1> 1</a>
</span><span class=lnt id=hl-92-2><a class=lnlinks href=#hl-92-2> 2</a>
</span><span class=lnt id=hl-92-3><a class=lnlinks href=#hl-92-3> 3</a>
</span><span class=lnt id=hl-92-4><a class=lnlinks href=#hl-92-4> 4</a>
</span><span class=lnt id=hl-92-5><a class=lnlinks href=#hl-92-5> 5</a>
</span><span class=lnt id=hl-92-6><a class=lnlinks href=#hl-92-6> 6</a>
</span><span class=lnt id=hl-92-7><a class=lnlinks href=#hl-92-7> 7</a>
</span><span class=lnt id=hl-92-8><a class=lnlinks href=#hl-92-8> 8</a>
</span><span class=lnt id=hl-92-9><a class=lnlinks href=#hl-92-9> 9</a>
</span><span class=lnt id=hl-92-10><a class=lnlinks href=#hl-92-10>10</a>
</span><span class=lnt id=hl-92-11><a class=lnlinks href=#hl-92-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>225</span><span class=p>]:</span> <span class=n>frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>225</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>11</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span> <span class=o>-</span><span class=mf>0.046662</span>  <span class=mf>0.927238</span>  <span class=mf>0.482284</span> <span class=o>-</span><span class=mf>0.867130</span></span></span></code></pre></td></tr></table></div></div><p>åŒæ ·ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åªå¡«å……æŒ‡å®šçš„æ—¶æœŸæ•°ï¼ˆç›®çš„æ˜¯é™åˆ¶å‰é¢çš„è§‚æµ‹å€¼çš„æŒç»­ä½¿ç”¨è·ç¦»ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-93-1><a class=lnlinks href=#hl-93-1> 1</a>
</span><span class=lnt id=hl-93-2><a class=lnlinks href=#hl-93-2> 2</a>
</span><span class=lnt id=hl-93-3><a class=lnlinks href=#hl-93-3> 3</a>
</span><span class=lnt id=hl-93-4><a class=lnlinks href=#hl-93-4> 4</a>
</span><span class=lnt id=hl-93-5><a class=lnlinks href=#hl-93-5> 5</a>
</span><span class=lnt id=hl-93-6><a class=lnlinks href=#hl-93-6> 6</a>
</span><span class=lnt id=hl-93-7><a class=lnlinks href=#hl-93-7> 7</a>
</span><span class=lnt id=hl-93-8><a class=lnlinks href=#hl-93-8> 8</a>
</span><span class=lnt id=hl-93-9><a class=lnlinks href=#hl-93-9> 9</a>
</span><span class=lnt id=hl-93-10><a class=lnlinks href=#hl-93-10>10</a>
</span><span class=lnt id=hl-93-11><a class=lnlinks href=#hl-93-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>226</span><span class=p>]:</span> <span class=n>frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>(</span><span class=n>limit</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>226</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>05</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>11</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>       <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>12</span> <span class=o>-</span><span class=mf>0.046662</span>  <span class=mf>0.927238</span>  <span class=mf>0.482284</span> <span class=o>-</span><span class=mf>0.867130</span></span></span></code></pre></td></tr></table></div></div><p>æ³¨æ„ï¼Œæ–°çš„æ—¥æœŸç´¢å¼•å®Œå…¨æ²¡å¿…è¦è·Ÿæ—§çš„é‡å ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-94-1><a class=lnlinks href=#hl-94-1>1</a>
</span><span class=lnt id=hl-94-2><a class=lnlinks href=#hl-94-2>2</a>
</span><span class=lnt id=hl-94-3><a class=lnlinks href=#hl-94-3>3</a>
</span><span class=lnt id=hl-94-4><a class=lnlinks href=#hl-94-4>4</a>
</span><span class=lnt id=hl-94-5><a class=lnlinks href=#hl-94-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>227</span><span class=p>]:</span> <span class=n>frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;W-THU&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>227</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>            <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span> <span class=o>-</span><span class=mf>0.896431</span>  <span class=mf>0.677263</span>  <span class=mf>0.036503</span>  <span class=mf>0.087102</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>13</span> <span class=o>-</span><span class=mf>0.046662</span>  <span class=mf>0.927238</span>  <span class=mf>0.482284</span> <span class=o>-</span><span class=mf>0.867130</span></span></span></code></pre></td></tr></table></div></div><h3 id=1162-é€šè¿‡æ—¶æœŸè¿›è¡Œé‡é‡‡æ ·>11.6.2 é€šè¿‡æ—¶æœŸè¿›è¡Œé‡é‡‡æ ·
<a class=header-anchor href=#1162-%e9%80%9a%e8%bf%87%e6%97%b6%e6%9c%9f%e8%bf%9b%e8%a1%8c%e9%87%8d%e9%87%87%e6%a0%b7></a></h3><p>å¯¹é‚£äº›ä½¿ç”¨æ—¶æœŸç´¢å¼•çš„æ•°æ®è¿›è¡Œé‡é‡‡æ ·ä¸æ—¶é—´æˆ³å¾ˆåƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-95-1><a class=lnlinks href=#hl-95-1> 1</a>
</span><span class=lnt id=hl-95-2><a class=lnlinks href=#hl-95-2> 2</a>
</span><span class=lnt id=hl-95-3><a class=lnlinks href=#hl-95-3> 3</a>
</span><span class=lnt id=hl-95-4><a class=lnlinks href=#hl-95-4> 4</a>
</span><span class=lnt id=hl-95-5><a class=lnlinks href=#hl-95-5> 5</a>
</span><span class=lnt id=hl-95-6><a class=lnlinks href=#hl-95-6> 6</a>
</span><span class=lnt id=hl-95-7><a class=lnlinks href=#hl-95-7> 7</a>
</span><span class=lnt id=hl-95-8><a class=lnlinks href=#hl-95-8> 8</a>
</span><span class=lnt id=hl-95-9><a class=lnlinks href=#hl-95-9> 9</a>
</span><span class=lnt id=hl-95-10><a class=lnlinks href=#hl-95-10>10</a>
</span><span class=lnt id=hl-95-11><a class=lnlinks href=#hl-95-11>11</a>
</span><span class=lnt id=hl-95-12><a class=lnlinks href=#hl-95-12>12</a>
</span><span class=lnt id=hl-95-13><a class=lnlinks href=#hl-95-13>13</a>
</span><span class=lnt id=hl-95-14><a class=lnlinks href=#hl-95-14>14</a>
</span><span class=lnt id=hl-95-15><a class=lnlinks href=#hl-95-15>15</a>
</span><span class=lnt id=hl-95-16><a class=lnlinks href=#hl-95-16>16</a>
</span><span class=lnt id=hl-95-17><a class=lnlinks href=#hl-95-17>17</a>
</span><span class=lnt id=hl-95-18><a class=lnlinks href=#hl-95-18>18</a>
</span><span class=lnt id=hl-95-19><a class=lnlinks href=#hl-95-19>19</a>
</span><span class=lnt id=hl-95-20><a class=lnlinks href=#hl-95-20>20</a>
</span><span class=lnt id=hl-95-21><a class=lnlinks href=#hl-95-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>228</span><span class=p>]:</span> <span class=n>frame</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>24</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                      <span class=n>index</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>period_range</span><span class=p>(</span><span class=s1>&#39;1-2000&#39;</span><span class=p>,</span> <span class=s1>&#39;12-2001&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                                            <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                      <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;Colorado&#39;</span><span class=p>,</span> <span class=s1>&#39;Texas&#39;</span><span class=p>,</span> <span class=s1>&#39;New York&#39;</span><span class=p>,</span> <span class=s1>&#39;Ohio&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>229</span><span class=p>]:</span> <span class=n>frame</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>229</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>         <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>01</span>  <span class=mf>0.493841</span> <span class=o>-</span><span class=mf>0.155434</span>  <span class=mf>1.397286</span>  <span class=mf>1.507055</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>02</span> <span class=o>-</span><span class=mf>1.179442</span>  <span class=mf>0.443171</span>  <span class=mf>1.395676</span> <span class=o>-</span><span class=mf>0.529658</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>03</span>  <span class=mf>0.787358</span>  <span class=mf>0.248845</span>  <span class=mf>0.743239</span>  <span class=mf>1.267746</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>04</span>  <span class=mf>1.302395</span> <span class=o>-</span><span class=mf>0.272154</span> <span class=o>-</span><span class=mf>0.051532</span> <span class=o>-</span><span class=mf>0.467740</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=o>-</span><span class=mi>05</span> <span class=o>-</span><span class=mf>1.040816</span>  <span class=mf>0.426419</span>  <span class=mf>0.312945</span> <span class=o>-</span><span class=mf>1.115689</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>230</span><span class=p>]:</span> <span class=n>annual_frame</span> <span class=o>=</span> <span class=n>frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;A-DEC&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>231</span><span class=p>]:</span> <span class=n>annual_frame</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>231</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>      <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span></span></span></code></pre></td></tr></table></div></div><p>å‡é‡‡æ ·è¦ç¨å¾®éº»çƒ¦ä¸€äº›ï¼Œå› ä¸ºä½ å¿…é¡»å†³å®šåœ¨æ–°é¢‘ç‡ä¸­å„åŒºé—´çš„å“ªç«¯ç”¨äºæ”¾ç½®åŸæ¥çš„å€¼ï¼Œå°±åƒasfreqæ–¹æ³•é‚£æ ·ã€‚conventionå‚æ•°é»˜è®¤ä¸º&rsquo;start&rsquo;ï¼Œä¹Ÿå¯è®¾ç½®ä¸º&rsquo;end&rsquo;ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-96-1><a class=lnlinks href=#hl-96-1> 1</a>
</span><span class=lnt id=hl-96-2><a class=lnlinks href=#hl-96-2> 2</a>
</span><span class=lnt id=hl-96-3><a class=lnlinks href=#hl-96-3> 3</a>
</span><span class=lnt id=hl-96-4><a class=lnlinks href=#hl-96-4> 4</a>
</span><span class=lnt id=hl-96-5><a class=lnlinks href=#hl-96-5> 5</a>
</span><span class=lnt id=hl-96-6><a class=lnlinks href=#hl-96-6> 6</a>
</span><span class=lnt id=hl-96-7><a class=lnlinks href=#hl-96-7> 7</a>
</span><span class=lnt id=hl-96-8><a class=lnlinks href=#hl-96-8> 8</a>
</span><span class=lnt id=hl-96-9><a class=lnlinks href=#hl-96-9> 9</a>
</span><span class=lnt id=hl-96-10><a class=lnlinks href=#hl-96-10>10</a>
</span><span class=lnt id=hl-96-11><a class=lnlinks href=#hl-96-11>11</a>
</span><span class=lnt id=hl-96-12><a class=lnlinks href=#hl-96-12>12</a>
</span><span class=lnt id=hl-96-13><a class=lnlinks href=#hl-96-13>13</a>
</span><span class=lnt id=hl-96-14><a class=lnlinks href=#hl-96-14>14</a>
</span><span class=lnt id=hl-96-15><a class=lnlinks href=#hl-96-15>15</a>
</span><span class=lnt id=hl-96-16><a class=lnlinks href=#hl-96-16>16</a>
</span><span class=lnt id=hl-96-17><a class=lnlinks href=#hl-96-17>17</a>
</span><span class=lnt id=hl-96-18><a class=lnlinks href=#hl-96-18>18</a>
</span><span class=lnt id=hl-96-19><a class=lnlinks href=#hl-96-19>19</a>
</span><span class=lnt id=hl-96-20><a class=lnlinks href=#hl-96-20>20</a>
</span><span class=lnt id=hl-96-21><a class=lnlinks href=#hl-96-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Q-DEC: Quarterly, year ending in December</span>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>232</span><span class=p>]:</span> <span class=n>annual_frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>232</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>        <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q1</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q2</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q3</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q4</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q1</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q2</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q3</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q4</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>233</span><span class=p>]:</span> <span class=n>annual_frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;Q-DEC&#39;</span><span class=p>,</span> <span class=n>convention</span><span class=o>=</span><span class=s1>&#39;end&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>233</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>        <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q4</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q1</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q2</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q3</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q4</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span></span></span></code></pre></td></tr></table></div></div><p>ç”±äºæ—¶æœŸæŒ‡çš„æ˜¯æ—¶é—´åŒºé—´ï¼Œæ‰€ä»¥å‡é‡‡æ ·å’Œé™é‡‡æ ·çš„è§„åˆ™å°±æ¯”è¾ƒä¸¥æ ¼ï¼š</p><ul><li>åœ¨é™é‡‡æ ·ä¸­ï¼Œç›®æ ‡é¢‘ç‡å¿…é¡»æ˜¯æºé¢‘ç‡çš„å­æ—¶æœŸï¼ˆsubperiodï¼‰ã€‚</li><li>åœ¨å‡é‡‡æ ·ä¸­ï¼Œç›®æ ‡é¢‘ç‡å¿…é¡»æ˜¯æºé¢‘ç‡çš„è¶…æ—¶æœŸï¼ˆsuperperiodï¼‰ã€‚</li></ul><p>å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œå°±ä¼šå¼•å‘å¼‚å¸¸ã€‚è¿™ä¸»è¦å½±å“çš„æ˜¯æŒ‰å­£ã€å¹´ã€å‘¨è®¡ç®—çš„é¢‘ç‡ã€‚ä¾‹å¦‚ï¼Œç”±Q-MARå®šä¹‰çš„æ—¶é—´åŒºé—´åªèƒ½å‡é‡‡æ ·ä¸ºA-MARã€A-JUNã€A-SEPã€A-DECç­‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-97-1><a class=lnlinks href=#hl-97-1> 1</a>
</span><span class=lnt id=hl-97-2><a class=lnlinks href=#hl-97-2> 2</a>
</span><span class=lnt id=hl-97-3><a class=lnlinks href=#hl-97-3> 3</a>
</span><span class=lnt id=hl-97-4><a class=lnlinks href=#hl-97-4> 4</a>
</span><span class=lnt id=hl-97-5><a class=lnlinks href=#hl-97-5> 5</a>
</span><span class=lnt id=hl-97-6><a class=lnlinks href=#hl-97-6> 6</a>
</span><span class=lnt id=hl-97-7><a class=lnlinks href=#hl-97-7> 7</a>
</span><span class=lnt id=hl-97-8><a class=lnlinks href=#hl-97-8> 8</a>
</span><span class=lnt id=hl-97-9><a class=lnlinks href=#hl-97-9> 9</a>
</span><span class=lnt id=hl-97-10><a class=lnlinks href=#hl-97-10>10</a>
</span><span class=lnt id=hl-97-11><a class=lnlinks href=#hl-97-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>234</span><span class=p>]:</span> <span class=n>annual_frame</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;Q-MAR&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>234</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>        <span class=n>Colorado</span>     <span class=n>Texas</span>  <span class=n>New</span> <span class=n>York</span>      <span class=n>Ohio</span>
</span></span><span class=line><span class=cl><span class=mi>2000</span><span class=n>Q4</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q1</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q2</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q3</span>  <span class=mf>0.556703</span>  <span class=mf>0.016631</span>  <span class=mf>0.111873</span> <span class=o>-</span><span class=mf>0.027445</span>
</span></span><span class=line><span class=cl><span class=mi>2001</span><span class=n>Q4</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=n>Q1</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=n>Q2</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span>
</span></span><span class=line><span class=cl><span class=mi>2002</span><span class=n>Q3</span>  <span class=mf>0.046303</span>  <span class=mf>0.163344</span>  <span class=mf>0.251503</span> <span class=o>-</span><span class=mf>0.157276</span></span></span></code></pre></td></tr></table></div></div><h2 id=117-ç§»åŠ¨çª—å£å‡½æ•°>11.7 ç§»åŠ¨çª—å£å‡½æ•°
<a class=header-anchor href=#117-%e7%a7%bb%e5%8a%a8%e7%aa%97%e5%8f%a3%e5%87%bd%e6%95%b0></a></h2><p>åœ¨ç§»åŠ¨çª—å£ï¼ˆå¯ä»¥å¸¦æœ‰æŒ‡æ•°è¡°å‡æƒæ•°ï¼‰ä¸Šè®¡ç®—çš„å„ç§ç»Ÿè®¡å‡½æ•°ä¹Ÿæ˜¯ä¸€ç±»å¸¸è§äºæ—¶é—´åºåˆ—çš„æ•°ç»„å˜æ¢ã€‚è¿™æ ·å¯ä»¥åœ†æ»‘å™ªéŸ³æ•°æ®æˆ–æ–­è£‚æ•°æ®ã€‚æˆ‘å°†å®ƒä»¬ç§°ä¸ºç§»åŠ¨çª—å£å‡½æ•°ï¼ˆmoving window functionï¼‰ï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬é‚£äº›çª—å£ä¸å®šé•¿çš„å‡½æ•°ï¼ˆå¦‚æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ï¼‰ã€‚è·Ÿå…¶ä»–ç»Ÿè®¡å‡½æ•°ä¸€æ ·ï¼Œç§»åŠ¨çª—å£å‡½æ•°ä¹Ÿä¼šè‡ªåŠ¨æ’é™¤ç¼ºå¤±å€¼ã€‚</p><p>å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬åŠ è½½ä¸€äº›æ—¶é—´åºåˆ—æ•°æ®ï¼Œå°†å…¶é‡é‡‡æ ·ä¸ºå·¥ä½œæ—¥é¢‘ç‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-98-1><a class=lnlinks href=#hl-98-1>1</a>
</span><span class=lnt id=hl-98-2><a class=lnlinks href=#hl-98-2>2</a>
</span><span class=lnt id=hl-98-3><a class=lnlinks href=#hl-98-3>3</a>
</span><span class=lnt id=hl-98-4><a class=lnlinks href=#hl-98-4>4</a>
</span><span class=lnt id=hl-98-5><a class=lnlinks href=#hl-98-5>5</a>
</span><span class=lnt id=hl-98-6><a class=lnlinks href=#hl-98-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>235</span><span class=p>]:</span> <span class=n>close_px_all</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;examples/stock_px_2.csv&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=o>.....</span><span class=p>:</span>                            <span class=n>parse_dates</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>index_col</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>236</span><span class=p>]:</span> <span class=n>close_px</span> <span class=o>=</span> <span class=n>close_px_all</span><span class=p>[[</span><span class=s1>&#39;AAPL&#39;</span><span class=p>,</span> <span class=s1>&#39;MSFT&#39;</span><span class=p>,</span> <span class=s1>&#39;XOM&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>237</span><span class=p>]:</span> <span class=n>close_px</span> <span class=o>=</span> <span class=n>close_px</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>ffill</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨å¼•å…¥rollingè¿ç®—ç¬¦ï¼Œå®ƒä¸resampleå’Œgroupbyå¾ˆåƒã€‚å¯ä»¥åœ¨TimeSeriesæˆ–DataFrameä»¥åŠä¸€ä¸ªwindowï¼ˆè¡¨ç¤ºæœŸæ•°ï¼Œè§å›¾11-4ï¼‰ä¸Šè°ƒç”¨å®ƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-99-1><a class=lnlinks href=#hl-99-1>1</a>
</span><span class=lnt id=hl-99-2><a class=lnlinks href=#hl-99-2>2</a>
</span><span class=lnt id=hl-99-3><a class=lnlinks href=#hl-99-3>3</a>
</span><span class=lnt id=hl-99-4><a class=lnlinks href=#hl-99-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>238</span><span class=p>]:</span> <span class=n>close_px</span><span class=o>.</span><span class=n>AAPL</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>238</span><span class=p>]:</span> <span class=o>&lt;</span><span class=n>matplotlib</span><span class=o>.</span><span class=n>axes</span><span class=o>.</span><span class=n>_subplots</span><span class=o>.</span><span class=n>AxesSubplot</span> <span class=n>at</span> <span class=mh>0x7f2f2570cf98</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>239</span><span class=p>]:</span> <span class=n>close_px</span><span class=o>.</span><span class=n>AAPL</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>250</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122133037.png alt="å›¾11-4 è‹¹æœå…¬å¸è‚¡ä»·çš„250æ—¥å‡çº¿"></p><p>è¡¨è¾¾å¼rolling(250)ä¸groupbyå¾ˆåƒï¼Œä½†ä¸æ˜¯å¯¹å…¶è¿›è¡Œåˆ†ç»„ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæŒ‰ç…§250å¤©åˆ†ç»„çš„æ»‘åŠ¨çª—å£å¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†è‹¹æœå…¬å¸è‚¡ä»·çš„250å¤©çš„ç§»åŠ¨çª—å£ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œrollingå‡½æ•°éœ€è¦çª—å£ä¸­æ‰€æœ‰çš„å€¼ä¸ºéNAå€¼ã€‚å¯ä»¥ä¿®æ”¹è¯¥è¡Œä¸ºä»¥è§£å†³ç¼ºå¤±æ•°æ®çš„é—®é¢˜ã€‚å…¶å®ï¼Œåœ¨æ—¶é—´åºåˆ—å¼€å§‹å¤„å°šä¸è¶³çª—å£æœŸçš„é‚£äº›æ•°æ®å°±æ˜¯ä¸ªç‰¹ä¾‹ï¼ˆè§å›¾11-5ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-100-1><a class=lnlinks href=#hl-100-1> 1</a>
</span><span class=lnt id=hl-100-2><a class=lnlinks href=#hl-100-2> 2</a>
</span><span class=lnt id=hl-100-3><a class=lnlinks href=#hl-100-3> 3</a>
</span><span class=lnt id=hl-100-4><a class=lnlinks href=#hl-100-4> 4</a>
</span><span class=lnt id=hl-100-5><a class=lnlinks href=#hl-100-5> 5</a>
</span><span class=lnt id=hl-100-6><a class=lnlinks href=#hl-100-6> 6</a>
</span><span class=lnt id=hl-100-7><a class=lnlinks href=#hl-100-7> 7</a>
</span><span class=lnt id=hl-100-8><a class=lnlinks href=#hl-100-8> 8</a>
</span><span class=lnt id=hl-100-9><a class=lnlinks href=#hl-100-9> 9</a>
</span><span class=lnt id=hl-100-10><a class=lnlinks href=#hl-100-10>10</a>
</span><span class=lnt id=hl-100-11><a class=lnlinks href=#hl-100-11>11</a>
</span><span class=lnt id=hl-100-12><a class=lnlinks href=#hl-100-12>12</a>
</span><span class=lnt id=hl-100-13><a class=lnlinks href=#hl-100-13>13</a>
</span><span class=lnt id=hl-100-14><a class=lnlinks href=#hl-100-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>241</span><span class=p>]:</span> <span class=n>appl_std250</span> <span class=o>=</span> <span class=n>close_px</span><span class=o>.</span><span class=n>AAPL</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>250</span><span class=p>,</span> <span class=n>min_periods</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span><span class=o>.</span><span class=n>std</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>242</span><span class=p>]:</span> <span class=n>appl_std250</span><span class=p>[</span><span class=mi>5</span><span class=p>:</span><span class=mi>12</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>242</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>13</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>14</span>         <span class=n>NaN</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span>    <span class=mf>0.077496</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>16</span>    <span class=mf>0.074760</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>17</span>    <span class=mf>0.112368</span>
</span></span><span class=line><span class=cl><span class=n>Freq</span><span class=p>:</span> <span class=n>B</span><span class=p>,</span> <span class=n>Name</span><span class=p>:</span> <span class=n>AAPL</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=n>float64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>243</span><span class=p>]:</span> <span class=n>appl_std250</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122145664.png alt="å›¾11-5 è‹¹æœå…¬å¸250æ—¥æ¯æ—¥å›æŠ¥æ ‡å‡†å·®"></p><p>è¦è®¡ç®—æ‰©å±•çª—å£å¹³å‡ï¼ˆexpanding window meanï¼‰ï¼Œå¯ä»¥ä½¿ç”¨expandingè€Œä¸æ˜¯rollingã€‚â€œæ‰©å±•â€æ„å‘³ç€ï¼Œä»æ—¶é—´åºåˆ—çš„èµ·å§‹å¤„å¼€å§‹çª—å£ï¼Œå¢åŠ çª—å£ç›´åˆ°å®ƒè¶…è¿‡æ‰€æœ‰çš„åºåˆ—ã€‚apple_std250æ—¶é—´åºåˆ—çš„æ‰©å±•çª—å£å¹³å‡å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-101-1><a class=lnlinks href=#hl-101-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>244</span><span class=p>]:</span> <span class=n>expanding_mean</span> <span class=o>=</span> <span class=n>appl_std250</span><span class=o>.</span><span class=n>expanding</span><span class=p>()</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p>å¯¹DataFrameè°ƒç”¨rolling_meanï¼ˆä»¥åŠä¸ä¹‹ç±»ä¼¼çš„å‡½æ•°ï¼‰ä¼šå°†è½¬æ¢åº”ç”¨åˆ°æ‰€æœ‰çš„åˆ—ä¸Šï¼ˆè§å›¾11-6ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-102-1><a class=lnlinks href=#hl-102-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>246</span><span class=p>]:</span> <span class=n>close_px</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>60</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>logy</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122152236.png alt="å›¾11-6 å„è‚¡ä»·60æ—¥å‡çº¿ï¼ˆå¯¹æ•°Yè½´ï¼‰"></p><p>rollingå‡½æ•°ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæŒ‡å®šå›ºå®šå¤§å°æ—¶é—´è¡¥å¿å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ç»„æ—¶æœŸã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿å¤„ç†ä¸è§„å¾‹çš„æ—¶é—´åºåˆ—ã€‚è¿™äº›å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä¼ é€’ç»™resampleã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—20å¤©çš„æ»šåŠ¨å‡å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-103-1><a class=lnlinks href=#hl-103-1> 1</a>
</span><span class=lnt id=hl-103-2><a class=lnlinks href=#hl-103-2> 2</a>
</span><span class=lnt id=hl-103-3><a class=lnlinks href=#hl-103-3> 3</a>
</span><span class=lnt id=hl-103-4><a class=lnlinks href=#hl-103-4> 4</a>
</span><span class=lnt id=hl-103-5><a class=lnlinks href=#hl-103-5> 5</a>
</span><span class=lnt id=hl-103-6><a class=lnlinks href=#hl-103-6> 6</a>
</span><span class=lnt id=hl-103-7><a class=lnlinks href=#hl-103-7> 7</a>
</span><span class=lnt id=hl-103-8><a class=lnlinks href=#hl-103-8> 8</a>
</span><span class=lnt id=hl-103-9><a class=lnlinks href=#hl-103-9> 9</a>
</span><span class=lnt id=hl-103-10><a class=lnlinks href=#hl-103-10>10</a>
</span><span class=lnt id=hl-103-11><a class=lnlinks href=#hl-103-11>11</a>
</span><span class=lnt id=hl-103-12><a class=lnlinks href=#hl-103-12>12</a>
</span><span class=lnt id=hl-103-13><a class=lnlinks href=#hl-103-13>13</a>
</span><span class=lnt id=hl-103-14><a class=lnlinks href=#hl-103-14>14</a>
</span><span class=lnt id=hl-103-15><a class=lnlinks href=#hl-103-15>15</a>
</span><span class=lnt id=hl-103-16><a class=lnlinks href=#hl-103-16>16</a>
</span><span class=lnt id=hl-103-17><a class=lnlinks href=#hl-103-17>17</a>
</span><span class=lnt id=hl-103-18><a class=lnlinks href=#hl-103-18>18</a>
</span><span class=lnt id=hl-103-19><a class=lnlinks href=#hl-103-19>19</a>
</span><span class=lnt id=hl-103-20><a class=lnlinks href=#hl-103-20>20</a>
</span><span class=lnt id=hl-103-21><a class=lnlinks href=#hl-103-21>21</a>
</span><span class=lnt id=hl-103-22><a class=lnlinks href=#hl-103-22>22</a>
</span><span class=lnt id=hl-103-23><a class=lnlinks href=#hl-103-23>23</a>
</span><span class=lnt id=hl-103-24><a class=lnlinks href=#hl-103-24>24</a>
</span><span class=lnt id=hl-103-25><a class=lnlinks href=#hl-103-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>247</span><span class=p>]:</span> <span class=n>close_px</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=s1>&#39;20D&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>247</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                  <span class=n>AAPL</span>       <span class=n>MSFT</span>        <span class=n>XOM</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>02</span>    <span class=mf>7.400000</span>  <span class=mf>21.110000</span>  <span class=mf>29.220000</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>03</span>    <span class=mf>7.425000</span>  <span class=mf>21.125000</span>  <span class=mf>29.230000</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>06</span>    <span class=mf>7.433333</span>  <span class=mf>21.256667</span>  <span class=mf>29.473333</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>07</span>    <span class=mf>7.432500</span>  <span class=mf>21.425000</span>  <span class=mf>29.342500</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>08</span>    <span class=mf>7.402000</span>  <span class=mf>21.402000</span>  <span class=mf>29.240000</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>09</span>    <span class=mf>7.391667</span>  <span class=mf>21.490000</span>  <span class=mf>29.273333</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span>    <span class=mf>7.387143</span>  <span class=mf>21.558571</span>  <span class=mf>29.238571</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>13</span>    <span class=mf>7.378750</span>  <span class=mf>21.633750</span>  <span class=mf>29.197500</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>14</span>    <span class=mf>7.370000</span>  <span class=mf>21.717778</span>  <span class=mf>29.194444</span>
</span></span><span class=line><span class=cl><span class=mi>2003</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span>    <span class=mf>7.355000</span>  <span class=mf>21.757000</span>  <span class=mf>29.152000</span>
</span></span><span class=line><span class=cl><span class=o>...</span>                <span class=o>...</span>        <span class=o>...</span>        <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>03</span>  <span class=mf>398.002143</span>  <span class=mf>25.890714</span>  <span class=mf>72.413571</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>04</span>  <span class=mf>396.802143</span>  <span class=mf>25.807857</span>  <span class=mf>72.427143</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>05</span>  <span class=mf>395.751429</span>  <span class=mf>25.729286</span>  <span class=mf>72.422857</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>06</span>  <span class=mf>394.099286</span>  <span class=mf>25.673571</span>  <span class=mf>72.375714</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>07</span>  <span class=mf>392.479333</span>  <span class=mf>25.712000</span>  <span class=mf>72.454667</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>10</span>  <span class=mf>389.351429</span>  <span class=mf>25.602143</span>  <span class=mf>72.527857</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>11</span>  <span class=mf>388.505000</span>  <span class=mf>25.674286</span>  <span class=mf>72.835000</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>12</span>  <span class=mf>388.531429</span>  <span class=mf>25.810000</span>  <span class=mf>73.400714</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>13</span>  <span class=mf>388.826429</span>  <span class=mf>25.961429</span>  <span class=mf>73.905000</span>
</span></span><span class=line><span class=cl><span class=mi>2011</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>14</span>  <span class=mf>391.038000</span>  <span class=mf>26.048667</span>  <span class=mf>74.185333</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>2292</span> <span class=n>rows</span> <span class=n>x</span> <span class=mi>3</span> <span class=n>columns</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><h3 id=1171-æŒ‡æ•°åŠ æƒå‡½æ•°>11.7.1 æŒ‡æ•°åŠ æƒå‡½æ•°
<a class=header-anchor href=#1171-%e6%8c%87%e6%95%b0%e5%8a%a0%e6%9d%83%e5%87%bd%e6%95%b0></a></h3><p>å¦ä¸€ç§ä½¿ç”¨å›ºå®šå¤§å°çª—å£åŠç›¸ç­‰æƒæ•°è§‚æµ‹å€¼çš„åŠæ³•æ˜¯ï¼Œå®šä¹‰ä¸€ä¸ªè¡°å‡å› å­ï¼ˆdecay factorï¼‰å¸¸é‡ï¼Œä»¥ä¾¿ä½¿è¿‘æœŸçš„è§‚æµ‹å€¼æ‹¥æœ‰æ›´å¤§çš„æƒæ•°ã€‚è¡°å‡å› å­çš„å®šä¹‰æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”è¾ƒæµè¡Œçš„æ˜¯ä½¿ç”¨æ—¶é—´é—´éš”ï¼ˆspanï¼‰ï¼Œå®ƒå¯ä»¥ä½¿ç»“æœå…¼å®¹äºçª—å£å¤§å°ç­‰äºæ—¶é—´é—´éš”çš„ç®€å•ç§»åŠ¨çª—å£ï¼ˆsimple moving windowï¼‰å‡½æ•°ã€‚</p><p>ç”±äºæŒ‡æ•°åŠ æƒç»Ÿè®¡ä¼šèµ‹äºˆè¿‘æœŸçš„è§‚æµ‹å€¼æ›´å¤§çš„æƒæ•°ï¼Œå› æ­¤ç›¸å¯¹äºç­‰æƒç»Ÿè®¡ï¼Œå®ƒèƒ½â€œé€‚åº”â€æ›´å¿«çš„å˜åŒ–ã€‚</p><p>é™¤äº†rollingå’Œexpandingï¼Œpandasè¿˜æœ‰ewmè¿ç®—ç¬¦ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­å¯¹æ¯”äº†è‹¹æœå…¬å¸è‚¡ä»·çš„30æ—¥ç§»åŠ¨å¹³å‡å’Œspan=30çš„æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ï¼ˆå¦‚å›¾11-7æ‰€ç¤ºï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-104-1><a class=lnlinks href=#hl-104-1> 1</a>
</span><span class=lnt id=hl-104-2><a class=lnlinks href=#hl-104-2> 2</a>
</span><span class=lnt id=hl-104-3><a class=lnlinks href=#hl-104-3> 3</a>
</span><span class=lnt id=hl-104-4><a class=lnlinks href=#hl-104-4> 4</a>
</span><span class=lnt id=hl-104-5><a class=lnlinks href=#hl-104-5> 5</a>
</span><span class=lnt id=hl-104-6><a class=lnlinks href=#hl-104-6> 6</a>
</span><span class=lnt id=hl-104-7><a class=lnlinks href=#hl-104-7> 7</a>
</span><span class=lnt id=hl-104-8><a class=lnlinks href=#hl-104-8> 8</a>
</span><span class=lnt id=hl-104-9><a class=lnlinks href=#hl-104-9> 9</a>
</span><span class=lnt id=hl-104-10><a class=lnlinks href=#hl-104-10>10</a>
</span><span class=lnt id=hl-104-11><a class=lnlinks href=#hl-104-11>11</a>
</span><span class=lnt id=hl-104-12><a class=lnlinks href=#hl-104-12>12</a>
</span><span class=lnt id=hl-104-13><a class=lnlinks href=#hl-104-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>249</span><span class=p>]:</span> <span class=n>aapl_px</span> <span class=o>=</span> <span class=n>close_px</span><span class=o>.</span><span class=n>AAPL</span><span class=p>[</span><span class=s1>&#39;2006&#39;</span><span class=p>:</span><span class=s1>&#39;2007&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>250</span><span class=p>]:</span> <span class=n>ma60</span> <span class=o>=</span> <span class=n>aapl_px</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>30</span><span class=p>,</span> <span class=n>min_periods</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>251</span><span class=p>]:</span> <span class=n>ewma60</span> <span class=o>=</span> <span class=n>aapl_px</span><span class=o>.</span><span class=n>ewm</span><span class=p>(</span><span class=n>span</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>252</span><span class=p>]:</span> <span class=n>ma60</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=s1>&#39;k--&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s1>&#39;Simple MA&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>252</span><span class=p>]:</span> <span class=o>&lt;</span><span class=n>matplotlib</span><span class=o>.</span><span class=n>axes</span><span class=o>.</span><span class=n>_subplots</span><span class=o>.</span><span class=n>AxesSubplot</span> <span class=n>at</span> <span class=mh>0x7f2f252161d0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>253</span><span class=p>]:</span> <span class=n>ewma60</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=s1>&#39;k-&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s1>&#39;EW MA&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Out</span><span class=p>[</span><span class=mi>253</span><span class=p>]:</span> <span class=o>&lt;</span><span class=n>matplotlib</span><span class=o>.</span><span class=n>axes</span><span class=o>.</span><span class=n>_subplots</span><span class=o>.</span><span class=n>AxesSubplot</span> <span class=n>at</span> <span class=mh>0x7f2f252161d0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>254</span><span class=p>]:</span> <span class=n>plt</span><span class=o>.</span><span class=n>legend</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031122226190.png alt="å›¾11-7 ç®€å•ç§»åŠ¨å¹³å‡ä¸æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡"></p><h3 id=1172-äºŒå…ƒç§»åŠ¨çª—å£å‡½æ•°>11.7.2 äºŒå…ƒç§»åŠ¨çª—å£å‡½æ•°
<a class=header-anchor href=#1172-%e4%ba%8c%e5%85%83%e7%a7%bb%e5%8a%a8%e7%aa%97%e5%8f%a3%e5%87%bd%e6%95%b0></a></h3><p>æœ‰äº›ç»Ÿè®¡è¿ç®—ï¼ˆå¦‚ç›¸å…³ç³»æ•°å’Œåæ–¹å·®ï¼‰éœ€è¦åœ¨ä¸¤ä¸ªæ—¶é—´åºåˆ—ä¸Šæ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œé‡‘èåˆ†æå¸ˆå¸¸å¸¸å¯¹æŸåªè‚¡ç¥¨å¯¹æŸä¸ªå‚è€ƒæŒ‡æ•°ï¼ˆå¦‚æ ‡å‡†æ™®å°”500æŒ‡æ•°ï¼‰çš„ç›¸å…³ç³»æ•°æ„Ÿå…´è¶£ã€‚è¦è¿›è¡Œè¯´æ˜ï¼Œæˆ‘ä»¬å…ˆè®¡ç®—æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ—¶é—´åºåˆ—çš„ç™¾åˆ†æ•°å˜åŒ–ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-105-1><a class=lnlinks href=#hl-105-1>1</a>
</span><span class=lnt id=hl-105-2><a class=lnlinks href=#hl-105-2>2</a>
</span><span class=lnt id=hl-105-3><a class=lnlinks href=#hl-105-3>3</a>
</span><span class=lnt id=hl-105-4><a class=lnlinks href=#hl-105-4>4</a>
</span><span class=lnt id=hl-105-5><a class=lnlinks href=#hl-105-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>256</span><span class=p>]:</span> <span class=n>spx_px</span> <span class=o>=</span> <span class=n>close_px_all</span><span class=p>[</span><span class=s1>&#39;SPX&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>257</span><span class=p>]:</span> <span class=n>spx_rets</span> <span class=o>=</span> <span class=n>spx_px</span><span class=o>.</span><span class=n>pct_change</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>258</span><span class=p>]:</span> <span class=n>returns</span> <span class=o>=</span> <span class=n>close_px</span><span class=o>.</span><span class=n>pct_change</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p>è°ƒç”¨rollingä¹‹åï¼Œcorrèšåˆå‡½æ•°å¼€å§‹è®¡ç®—ä¸spx_retsæ»šåŠ¨ç›¸å…³ç³»æ•°ï¼ˆç»“æœè§å›¾11-8ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-106-1><a class=lnlinks href=#hl-106-1>1</a>
</span><span class=lnt id=hl-106-2><a class=lnlinks href=#hl-106-2>2</a>
</span><span class=lnt id=hl-106-3><a class=lnlinks href=#hl-106-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>259</span><span class=p>]:</span> <span class=n>corr</span> <span class=o>=</span> <span class=n>returns</span><span class=o>.</span><span class=n>AAPL</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>125</span><span class=p>,</span> <span class=n>min_periods</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span><span class=o>.</span><span class=n>corr</span><span class=p>(</span><span class=n>spx_rets</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>260</span><span class=p>]:</span> <span class=n>corr</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031131637209.png alt="å›¾11-8 AAPL 6ä¸ªæœˆçš„å›æŠ¥ä¸æ ‡å‡†æ™®å°”500æŒ‡æ•°çš„ç›¸å…³ç³»æ•°"></p><p>å‡è®¾ä½ æƒ³è¦ä¸€æ¬¡æ€§è®¡ç®—å¤šåªè‚¡ç¥¨ä¸æ ‡å‡†æ™®å°”500æŒ‡æ•°çš„ç›¸å…³ç³»æ•°ã€‚è™½ç„¶ç¼–å†™ä¸€ä¸ªå¾ªç¯å¹¶æ–°å»ºä¸€ä¸ªDataFrameä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œä½†æ¯”è¾ƒå•°å—¦ã€‚å…¶å®ï¼Œåªéœ€ä¼ å…¥ä¸€ä¸ªTimeSerieså’Œä¸€ä¸ªDataFrameï¼Œrolling_corrå°±ä¼šè‡ªåŠ¨è®¡ç®—TimeSeriesï¼ˆæœ¬ä¾‹ä¸­å°±æ˜¯spx_retsï¼‰ä¸DataFrameå„åˆ—çš„ç›¸å…³ç³»æ•°ã€‚ç»“æœå¦‚å›¾11-9æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-107-1><a class=lnlinks href=#hl-107-1>1</a>
</span><span class=lnt id=hl-107-2><a class=lnlinks href=#hl-107-2>2</a>
</span><span class=lnt id=hl-107-3><a class=lnlinks href=#hl-107-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>262</span><span class=p>]:</span> <span class=n>corr</span> <span class=o>=</span> <span class=n>returns</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>125</span><span class=p>,</span> <span class=n>min_periods</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span><span class=o>.</span><span class=n>corr</span><span class=p>(</span><span class=n>spx_rets</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>263</span><span class=p>]:</span> <span class=n>corr</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031131651174.png alt="å›¾11-9 3åªè‚¡ç¥¨6ä¸ªæœˆçš„å›æŠ¥ä¸æ ‡å‡†æ™®å°”500æŒ‡æ•°çš„ç›¸å…³ç³»æ•°"></p><h3 id=1173-ç”¨æˆ·å®šä¹‰çš„ç§»åŠ¨çª—å£å‡½æ•°>11.7.3 ç”¨æˆ·å®šä¹‰çš„ç§»åŠ¨çª—å£å‡½æ•°
<a class=header-anchor href=#1173-%e7%94%a8%e6%88%b7%e5%ae%9a%e4%b9%89%e7%9a%84%e7%a7%bb%e5%8a%a8%e7%aa%97%e5%8f%a3%e5%87%bd%e6%95%b0></a></h3><p>rolling_applyå‡½æ•°ä½¿ä½ èƒ½å¤Ÿåœ¨ç§»åŠ¨çª—å£ä¸Šåº”ç”¨è‡ªå·±è®¾è®¡çš„æ•°ç»„å‡½æ•°ã€‚å”¯ä¸€è¦æ±‚çš„å°±æ˜¯ï¼šè¯¥å‡½æ•°è¦èƒ½ä»æ•°ç»„çš„å„ä¸ªç‰‡æ®µä¸­äº§ç”Ÿå•ä¸ªå€¼ï¼ˆå³çº¦ç®€ï¼‰ã€‚æ¯”å¦‚è¯´ï¼Œå½“æˆ‘ä»¬ç”¨rolling(&mldr;).quantile(q)è®¡ç®—æ ·æœ¬åˆ†ä½æ•°æ—¶ï¼Œå¯èƒ½å¯¹æ ·æœ¬ä¸­ç‰¹å®šå€¼çš„ç™¾åˆ†ç­‰çº§æ„Ÿå…´è¶£ã€‚scipy.stats.percentileofscoreå‡½æ•°å°±èƒ½è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼ˆç»“æœè§å›¾11-10ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-108-1><a class=lnlinks href=#hl-108-1>1</a>
</span><span class=lnt id=hl-108-2><a class=lnlinks href=#hl-108-2>2</a>
</span><span class=lnt id=hl-108-3><a class=lnlinks href=#hl-108-3>3</a>
</span><span class=lnt id=hl-108-4><a class=lnlinks href=#hl-108-4>4</a>
</span><span class=lnt id=hl-108-5><a class=lnlinks href=#hl-108-5>5</a>
</span><span class=lnt id=hl-108-6><a class=lnlinks href=#hl-108-6>6</a>
</span><span class=lnt id=hl-108-7><a class=lnlinks href=#hl-108-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>265</span><span class=p>]:</span> <span class=kn>from</span> <span class=nn>scipy.stats</span> <span class=kn>import</span> <span class=n>percentileofscore</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>266</span><span class=p>]:</span> <span class=n>score_at_2percent</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>percentileofscore</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>267</span><span class=p>]:</span> <span class=n>result</span> <span class=o>=</span> <span class=n>returns</span><span class=o>.</span><span class=n>AAPL</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=mi>250</span><span class=p>)</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>score_at_2percent</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=p>[</span><span class=mi>268</span><span class=p>]:</span> <span class=n>result</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/wugenqiang/images/raw/master/02/1240-20201031131723334.png alt="å›¾11-10 AAPL 2%å›æŠ¥ç‡çš„ç™¾åˆ†ç­‰çº§ï¼ˆä¸€å¹´çª—å£æœŸï¼‰"></p><p>å¦‚æœä½ æ²¡å®‰è£…SciPyï¼Œå¯ä»¥ä½¿ç”¨condaæˆ–pipå®‰è£…ã€‚</p><h2 id=118-æ€»ç»“>11.8 æ€»ç»“
<a class=header-anchor href=#118-%e6%80%bb%e7%bb%93></a></h2><p>ä¸å‰é¢ç« èŠ‚æ¥è§¦çš„æ•°æ®ç›¸æ¯”ï¼Œæ—¶é—´åºåˆ—æ•°æ®è¦æ±‚ä¸åŒç±»å‹çš„åˆ†æå’Œæ•°æ®è½¬æ¢å·¥å…·ã€‚</p><p>åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä¸€äº›é«˜çº§çš„pandasæ–¹æ³•å’Œå¦‚ä½•å¼€å§‹ä½¿ç”¨<code>å»ºæ¨¡åº“statsmodelså’Œscikit-learn</code>ã€‚</p></div><footer class=post-footer><div class=post-tags><a href=/tags/python/>python</a></div><div class=post-share-tools><div class=post-share-loading><i class="fa-solid fa-ellipsis fa-spin"></i></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class=a2a_dd href=https://www.addtoany.com/share></a><a class=a2a_button_wechat></a><a class=a2a_button_qzone></a><a class=a2a_button_sina_weibo></a><a class=a2a_button_douban></a><a class=a2a_button_facebook></a><a class=a2a_button_x></a><a class=a2a_button_email></a><a class=a2a_button_printfriendly></a></div></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>è¯·æˆ‘å–æ¯å’–å•¡å§ ãƒ¾(^â–½^*)))</div><button>
èµèµ</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.png alt="Rich - æ”¯ä»˜å®">
<span>æ”¯ä»˜å®</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.png alt="Rich - å¾®ä¿¡">
<span>å¾®ä¿¡</span></div></div></div><div class=post-copyright><img src=/imgs/cc/cc.svg class=cc-icon width=75 height=75 align=right alt=å…±äº«çŸ¥è¯† title=å…±äº«çŸ¥è¯†><ul><li class=post-copyright-title><strong>æ–‡ç« æ ‡é¢˜ï¼š</strong>
ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—</li><li class=post-copyright-author><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Rich</li><li class=post-copyright-link><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
<a id=post-cr-link href=//localhost:1313/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/ title="ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—">//localhost:1313/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/</a></li><li class=post-copyright-license><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ä½œå“é‡‡ç”¨ <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li><li><div class=license-icons><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans target=_blank><img src=/imgs/cc/big/by_nc_sa.svg alt=BY-NC-SA title=BY-NC-SA>
</a><a href=https://notbyai.fyi target=_blank><img src=/imgs/notbyai/zh-hans/white.svg title="Not By AI"></a></div></li></ul></div><div class=followme><span>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/rss.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch14-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A1%88%E4%BE%8B/ rel=next title="ç¬¬åå››ç«  æ•°æ®åˆ†ææ¡ˆä¾‹"><i class="fa fa-chevron-left"></i> ç¬¬åå››ç«  æ•°æ®åˆ†ææ¡ˆä¾‹</a></div><div class="post-nav-prev post-nav-item"><a href=/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch10-%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88%E4%B8%8E%E5%88%86%E7%BB%84%E8%BF%90%E7%AE%97/ rel=prev title="ç¬¬åç«  æ•°æ®èšåˆä¸åˆ†ç»„è¿ç®—">ç¬¬åç«  æ•°æ®èšåˆä¸åˆ†ç»„è¿ç®—
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=i18n-translate class=i18n-translate><i class="fa fa-language"></i><div id=lang-select class=lang-select><div id=lang-selected class=selected-option><span class="flag-icon flag-icon-zh-cn"></span>
<span class=selected-language>ç®€ä½“ä¸­æ–‡</span>
<i class="fa fa-chevron-down"></i></div><div id=lang-options class=lang-options><div class=lang-option lang-code=zh-cn lang-name=ç®€ä½“ä¸­æ–‡ lang-url=/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/><span class="flag-icon flag-icon-zh-cn"></span>
<span class=lang-name>ç®€ä½“ä¸­æ–‡</span></div></div></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Rich</span></div><div class=powered-by>ç”± <a href=https://gohugo.io title=0.147.7 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.8.3 target=_blank>Hugo NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>èŒICPå¤‡20250629å·</a>
<img src=/imgs/gongan.png alt=èŒå…¬ç½‘å®‰å¤‡>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011402009770" target=_blank>èŒå…¬ç½‘å®‰å¤‡ 31011402009770 å·</a></div><div class=custom-footer>Website source code <a href=https://github.com/hugo-next/hugo-theme-next/blob/develop/exampleSite/layouts/partials/custom_footer.html target=_blank>here</a></div></div></footer><script class=next-config data-name=page type=application/json>{"clipboard":{"js":{"alias":"clipboard","file":"dist/clipboard.min.js","name":"clipboard.js","version":"2.0.11"}},"comments":false,"expired":false,"isHome":false,"isPage":true,"path":"ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97","permalink":"//localhost:1313/chinese/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/","title":"ç¬¬åä¸€ç«  æ—¶é—´åºåˆ—","toc":true,"waline":{"commentcnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/comment.js","name":"comment","version":"2.15.8"}}}</script><script type=text/javascript src=//localhost:1313/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=//localhost:1313/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"hostname":"//localhost:1313/","i18n":{"ds_day":" å¤©å‰","ds_days":" å¤© ","ds_hour":" å°æ—¶å‰","ds_hours":" å°æ—¶ ","ds_just":"åˆšåˆš","ds_min":" åˆ†é’Ÿå‰","ds_mins":" åˆ†é’Ÿ","ds_month":" ä¸ªæœˆå‰","ds_years":" å¹´ ","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","placeholder":"æœç´¢..."},"isMultiLang":true,"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"slideInRight","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":true},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"//localhost:1313/js/3rd"}},"version":"4.8.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"è¯·æ–‡æ˜å‘è¨€å“Ÿ ãƒ¾(â‰§â–½â‰¦*)o","reaction":true,"reactiontext":["ç‚¹èµ","è¸©ä¸€ä¸‹","å¾—æ„","ä¸å±‘","å°´å°¬","ç¡è§‰"],"reactiontitle":"ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"å¿«æ¥å‘è¡¨ä½ çš„æ„è§å§ (â‰§âˆ€â‰¦)ã‚","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"2.15.8"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"2.15.8"}}}</script><script type=text/javascript src="/js/main.js?=1750130235" defer></script><script type=text/javascript src="/js/clipboard.js?=1750130236" defer></script></body></html>